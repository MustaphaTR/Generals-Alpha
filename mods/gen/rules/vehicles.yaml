vehicle.supply_truck:
	Inherits: ^Vehicle
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@SUPPLY_PIPS: ^SupplyCollectorPips
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.prc_collector
		BuildPaletteOrder: 1
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Collects supplies.
		ReadyAudio: SupplyTruckCreated
	Valued:
		Cost: 600
	Tooltip:
		Name: Supply Truck
		GenericName: Collector
	Selectable:
		Priority: 7
		DecorationBounds: 1792, 1792
	SelectionDecorations:
	SupplyCollector:
		CollectionDelay: 100
		DeliveryDelay: 0
		MaxDeliveryQueue: 4
		CollectVoice: Action
		FullnessConditions:
			150: half
			300: full
	WithSupplyCollectorPipsDecoration:
		PipCount: 7
	WithSupplyDeliveryAnimation:
		WaitDelay: 10
	WithFacingSpriteBody:
		RequiresCondition: !half
	WithFacingSpriteBody@Half:
		Name: half
		Sequence: half-idle
		RequiresCondition: half && !full
	WithFacingSpriteBody@Full:
		Name: full
		Sequence: full-idle
		RequiresCondition: full
	Health:
		HP: 30000
	Armor:
		Type: vehicle.truck
	Mobile:
		Speed: 40
		TurnSpeed: 16
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Voiced:
		VoiceSet: SupplyTruckVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Collector

vehicle.humvee:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@CARGO: ^CargoPips
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal320
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	Inherits@BotOwner: ^BotOwner
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !tow_missile
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && !tow_missile
	AutoTargetPriority@DEFAULT_TOW:
		RequiresCondition: !stance-attackanything && !assault-move && tow_missile
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@ATTACKANYTHING_TOW:
		RequiresCondition: (stance-attackanything || assault-move) && tow_missile
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Structure, Defense
		InvalidTargets: NoAutoTarget
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			150: rank-veteran
			300: rank-veteran
	Buildable:
		Queue: queue.usa_vehicle, queue.air_gen_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 0
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Fast scout & anti-infantry vehicle.\n\nCan carry 5 infantry that can fire outside.
		ReadyAudio: HumveeCreated
	Valued:
		Cost: 700
	ProductionCostMultiplier@Airforce1:
		Queue: queue.air_gen_vehicle
		Multiplier: 123 # 800
	ProductionCostMultiplier@Airforce2:
		Queue: queue.air_gen_vehicle
		Multiplier: 93 # 800
	ProductionCostMultiplier@Super1:
		Queue: queue.super_gen_vehicle
		Multiplier: 124 # 850
	ProductionCostMultiplier@Super2:
		Queue: queue.super_gen_vehicle
		Multiplier: 98 # 850
	Tooltip:
		Name: Humvee
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 24000
	Armor:
		Type: vehicle.humvee
	Selectable:
		Class: vehicle.humvee
	Mobile:
		TurnSpeed: 32
		Speed: 60
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted@MG:
		TurnSpeed: 32
		Offset: 32,0,85
	Turreted@TOW:
		Turret: tow
		TurnSpeed: 32
		Offset: -160,0,85
	Armament@MG:
		Damage: 8
		Weapon: mg.humvee
		MuzzleSequence: muzzle
		RequiresCondition: !zh_units
	Armament@MG_ZH:
		Damage: 10
		Weapon: mg.humvee.zh
		MuzzleSequence: muzzle
		RequiresCondition: zh_units
	Armament@TOWAG:
		Turret: tow
		Weapon: missile.humvee.ground
		RequiresCondition: tow_missile
	Armament@TOWAA:
		Turret: tow
		Weapon: missile.humvee.air
		RequiresCondition: tow_missile
	AttackTurreted:
		Turrets: primary, tow
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret@MG:
	WithSpriteTurret@TOW:
		Turret: tow
		Sequence: turret2
		RequiresCondition: tow_missile
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	GrantConditionOnPrerequisite@TOW_MISSILE:
		Condition: tow_missile
		Prerequisites: upgrade.tow_missile
	Cargo:
		Types: Infantry, GLAInfantry, Hacker
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	AcceptsDeliveredExperience:
	AttackGarrisoned:
		PortOffsets: 256,128,32, 256,-128,32, -256,128,32, -256,-128,32
		PortYaws: 0, 0, 512, 512
		PortCones: 512, 512, 512, 512
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	ThrowsShrapnel@Turret1:
		Weapons: debris.humvee.turret
		Pieces: 1, 1
		Range: 1c0, 1c0
	ThrowsShrapnel@Turret2:
		Weapons: debris.rocket_buggy.turret
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: tow_missile
	RenderSprites:
		Image: vehicle.humvee
	Voiced:
		VoiceSet: HumveeVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Cargo
		Upgrades: upgrade.tow_missile, upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@Stats:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, Cargo, MaxRange
		RequiresCondition: tow_missile
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.tow_missile, upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone
	GrantConditionOnDamageState@AI:
		Condition: ShouldUnload
		ValidDamageStates: Critical, Heavy
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded && ShouldUnload
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 20

vehicle.technical:
	Inherits: ^Vehicle
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@CARGO: ^CargoPips
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	GivesExperience:
		Experience: 25
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			50: rank-veteran
			75: rank-veteran
			150: rank-veteran
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 0
		ForceIconLocation: true
		BuildDuration: 75
		BuildDurationModifier: 100
		Description: Fast scout & anti-infantry vehicle.\n\nCan carry 5 infantry.\n\nPassengers can survive when it dies.\n\nGets different weapons from Scrap Crates.
		ReadyAudio: TechnicalCreated
	Valued:
		Cost: 500
	ProductionCostMultiplier@Demo:
		Queue: queue.demo_gen_vehicle
		Multiplier: 120 # 600
	Tooltip:
		Name: Technical
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 18000
	Armor:
		Type: vehicle.truck
	Selectable:
		Class: vehicle.technical
	Mobile:
		TurnSpeed: 32
		Speed: 90
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 89
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 40
		Offset: 0,0,128
	Armament:
		Damage: 8
		Weapon: mg.technical
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		RequiresCondition: !zh_units && !scrap_create_bonus
	Armament@CRATE-1:
		Damage: 45
		Weapon: cannon.technical
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		RequiresCondition: !zh_units && scrap_create_bonus == 1
	Armament@CRATE-2:
		Damage: 50
		Weapon: missile.technical
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		RequiresCondition: scrap_create_bonus == 2
	Armament@ZH:
		Damage: 10
		Weapon: mg.technical.zh
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		RequiresCondition: zh_units && !scrap_create_bonus
	Armament@ZH_CRATE-1:
		Damage: 45
		Weapon: cannon.technical.zh
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		RequiresCondition: zh_units && scrap_create_bonus == 1
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	Cargo:
		Types: Infantry, GLAInfantry, Hacker
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		EjectOnDeathDamage: 10
		OwnerChangedAffectsPassengers: false
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	AcceptsDeliveredExperience:
	ThrowsShrapnel@Mobile:
		Weapons: debris.technical.body
		Pieces: 1, 1
		Range: 2c0, 2c0
		ConsiderFacing: true
		RequiresCondition: moving
	ThrowsShrapnel@Static:
		Weapons: debris.technical.body
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: !moving
	ThrowsShrapnel@Turret:
		Weapons: debris.technical.turret
		Pieces: 1, 1
		Range: 1c0, 1c0
	GrantConditionOnMovement:
		Condition: moving
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	ProducibleWithLevel:
		Prerequisites: generals_power.tech_training
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: generals_power.tech_training
	RenderSprites:
		Image: vehicle.technical
	Voiced:
		VoiceSet: TechnicalVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Cargo
		Upgrades: upgrade.ap_bullets, upgrade.junk_repair
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_bullets, upgrade.junk_repair
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded
		DeployChance: 100
		DeployTicks: 45

vehicle.technical.demo_reinforce:
	Inherits: vehicle.technical
	Buildable:
		Queue: queue.reinforcements_pad
	Cargo:
		InitialUnits: infantry.terrorist, infantry.terrorist

vehicle.radar_van:
	Inherits: ^Vehicle
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal500
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 20
	Tooltip:
		Name: Radar Van
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Provides radar.\n\nGets cloak from Scrap Crates.
		ReadyAudio: RadarVanCreated
	Valued:
		Cost: 500
	ProductionCostMultiplier@Toxin:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 110 # 550
	Health:
		HP: 20000
	Armor:
		Type: vehicle.truck
	Selectable:
		Class: vehicle.radar_van
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	WithIdleOverlay@SPINNER:
		Sequence: spinner
		Offset: -256,0,256
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet && !as_cargo && !in_tunnel
	ProvidesRadar:
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet  && !as_cargo && !in_tunnel
	SpawnActorPower@RADAR_VAN_SCAN:
		PauseOnCondition: hacked || emp || leaflet || as_cargo || in_tunnel
		RequiresCondition: !driver_killed
		Actors:
			1: camera.radar_van_scan
		Prerequisites:
			1: upgrade.radar_van_scan
		LifeTime: 200
		ChargeInterval: 750
		Icons:
			1: radar_van_scan
		Names:
			1: Radar Van Scan
		Descriptions:
			1: Reveals are small area of map for a while.\n\nAlso detects cloaked units in that area.
		AllowMultiple: true
		StartFullyCharged: false
		OrderName: RadarScanPowerInfoOrder
		EffectSequence: idle
	Cloak@CRATE-1:
		InitialDelay: 100
		CloakDelay: 50
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !driver_killed && scrap_create_bonus == 1
	Cloak@CRATE-2:
		InitialDelay: 50
		CloakDelay: 50
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !driver_killed && scrap_create_bonus == 2
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	ThrowsShrapnel:
		Weapons: debris.radar_van
		Pieces: 1, 1
		Range: 1c0, 1c0
	RenderSprites:
		Image: vehicle.radar_van
	-MustBeDestroyed:
	Voiced:
		VoiceSet: RadarVanVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed
		Upgrades: upgrade.radar_van_scan, upgrade.junk_repair
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.radar_van_scan, upgrade.junk_repair

vehicle.scorpion_tank:
	Inherits: ^Tank
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 60
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 333
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			200: rank-veteran
			400: rank-veteran
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 1
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Description: Lightly armored main battle tank.\n\nGets better weapon from Scrap Crates.
		ReadyAudio: ScorpionTankCreated
	Valued:
		Cost: 600
	ProductionCostMultiplier@Toxin1:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 113 # 650
	ProductionCostMultiplier@Toxin2:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 96 # 650
	ProductionTimeMultiplier@ZH:
		Prerequisites: prerequisite.zh_units
		Multiplier: 140 # 175
	FirepowerMultiplier@AP_ROCKETS:
		Types: sc_rocket
	FirepowerMultiplier@CRATE-1:
		Modifier: 125
		Types: primary
		RequiresCondition: scrap_create_bonus >= 1
	Tooltip:
		Name: Scorpion Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 37000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted@Cannon:
		TurnSpeed: 16
	Turreted@SC_ROCKET-1:
		TurnSpeed: 16
		Turret: sc_rocket-1
		Offset: 0,64,128
	Turreted@SC_ROCKET-2:
		TurnSpeed: 16
		Turret: sc_rocket-2
		Offset: 0,-128,128
	Armament@Cannon:
		Weapon: cannon.scorpion_tank
		Recoil: 85
		RecoilRecovery: 25
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells
	Armament@TOXIN_SHELLS:
		Weapon: cannon.scorpion_tank.toxin
		Recoil: 85
		RecoilRecovery: 25
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma
	Armament@ANTHRAX_BETA:
		Weapon: cannon.scorpion_tank.toxin_beta
		Recoil: 85
		RecoilRecovery: 25
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma
	Armament@ANTHRAX_GAMMA:
		Weapon: cannon.scorpion_tank.toxin_gamma
		Recoil: 85
		RecoilRecovery: 25
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma
	Armament@SC_ROCKET-1:
		Weapon: missile.scorpion_tank
		Name: sc_rocket-1
		Turret: sc_rocket-1
		RequiresCondition: sc_rocket
		PauseOnCondition: !ammo-1
	Armament@SC_ROCKET-2:
		Weapon: missile.scorpion_tank
		Name: sc_rocket-2
		Turret: sc_rocket-2
		RequiresCondition: sc_rocket && scrap_create_bonus == 2
		PauseOnCondition: !ammo-2
		FireDelay: 5
	AttackTurreted:
		Armaments: primary, sc_rocket-1, sc_rocket-2
		Turrets: primary, sc_rocket-1, sc_rocket-2
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret@NORMAL:
	AmmoPool@SC_ROCKET-1:
		Name: sc_rocket-1
		Armaments: sc_rocket-1
		Ammo: 1
		AmmoCondition: ammo-1
	AmmoPool@SC_ROCKET-2:
		Name: sc_rocket-2
		Armaments: sc_rocket-2
		Ammo: 1
		AmmoCondition: ammo-2
	ReloadAmmoPool@1:
		AmmoPool: sc_rocket-1
		Delay: 300
		Count: 1
	ReloadAmmoPool@2:
		AmmoPool: sc_rocket-2
		Delay: 300
		Count: 1
	WithSpriteTurret@SC_ROCKET-1:
		Sequence: rocket
		Turret: sc_rocket-1
		RequiresCondition: sc_rocket && ammo-1
	WithSpriteTurret@SC_ROCKET-2:
		Sequence: rocket
		Turret: sc_rocket-2
		RequiresCondition: sc_rocket && scrap_create_bonus == 2 && ammo-2
	GrantConditionOnPrerequisite@SC_ROCKET:
		Condition: sc_rocket
		Prerequisites: upgrade.sc_rocket
	GrantConditionOnPrerequisite@TOXIN_SHELLS:
		Condition: toxin_shells
		Prerequisites: upgrade.toxin_shells
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@TOXIN_SHELLS:
		Condition: toxin_shells
		Factions: toxin
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.scorpion_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: ScorpionTankVoice
	ActorStatValues:
		Damage: 20
		Armaments: primary
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.sc_rocket, upgrade.toxin_shells, upgrade.anthrax_beta, upgrade.ap_rockets, upgrade.junk_repair
	ActorStatOverride@Toxin:
		Upgrades: upgrade.sc_rocket, upgrade.anthrax_gamma, upgrade.ap_rockets, upgrade.junk_repair
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.sc_rocket, upgrade.demolitions, upgrade.ap_rockets, upgrade.junk_repair

vehicle.crusader_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.usa_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 1
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Medium armored main battle tank.
		ReadyAudio: CrusaderTankCreated
	Valued:
		Cost: 900
	Tooltip:
		Name: Crusader Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 48000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 30
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 32
	Armament:
		Weapon: cannon.crusader_tank
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	DamageMultiplier@COMPOSITE_ARMOR:
		RequiresCondition: composite_armor
		Modifier: 70
	GrantConditionOnPrerequisite@COMPOSITE_ARMOR:
		Condition: composite_armor
		Prerequisites: upgrade.composite_armor
	SelectionDecorations:
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.crusader_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: CrusaderTankVoice
	Selectable:
		DecorationBounds: 1194, 1194
	ActorStatValues:
		Damage: 60
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone

vehicle.laser_tank:
	Inherits: vehicle.crusader_tank
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@REVEAL: ^Reveal150
	Buildable:
		Queue: queue.laser_gen_vehicle, queue.usa_vehicle_merged
		Description: Medium armored tank armed with lasers.\n\nRequires power to operate.
		ReadyAudio: LaserTankCreated
	BuildPaletteOrderModifier@Merged:
		Queue: queue.usa_vehicle_merged
		Modifier: 9 # 10
	Tooltip:
		Name: Laser Tank
	Armament:
		Weapon: laser.laser_tank
	Power:
		Amount: -1
		RequiresCondition: !driver_killed
	Mobile:
		PauseOnCondition: hacked || driver_killed || emp || leaflet || lowpower
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet || lowpower
		RequiresCondition: !driver_killed
	DroneSpawnerMaster@SCOUT_DRONE:
		PauseOnCondition: !scout_drone || hacked || emp || driver_killed || leaflet || lowpower || as_cargo || in_tunnel
	DroneSpawnerMaster@BATTLE_DRONE:
		PauseOnCondition: !battle_drone || hacked || emp || driver_killed || leaflet || lowpower || as_cargo || in_tunnel
	DroneSpawnerMaster@HELLFIRE_DRONE:
		PauseOnCondition: !hellfire_drone || hacked || emp || driver_killed || leaflet || lowpower || as_cargo || in_tunnel
	Voiced:
		VoiceSet: LaserTankVoice
	ActorStatValues:
		Damage: 80
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Power

vehicle.battlemaster_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@HORDE_BONUS: ^TankHorde
	Inherits@NUCLEAR_TANKS: ^AffectedByNuclearTanks
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@URANIUM_SHELLS: ^AffectedByUraniumShells
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.prc_vehicle, queue.tank_gen_vehicle
		BuildPaletteOrder: 0
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Medium armored main battle tank.
		ReadyAudio: BattlemasterTankCreated
	Valued:
		Cost: 800
	ProductionCostMultiplier@Tank1:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged
		Multiplier: 875 # 700
	ProductionCostMultiplier@Tank2:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged
		Multiplier: 10 # 700
	ProductionTimeMultiplier@Tank:
		Queue: queue.nuke_gen_vehicle, queue.tank_gen_vehicle
		Multiplier: 120 # 300
	Tooltip:
		Name: Battlemaster Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: vehicle.tank
	Selectable:
		Class: vehicle.battlemaster_tank
		DecorationBounds: 1194, 1194
	Mobile:
		Speed: 25
		TurnSpeed: 32
		Voice: Move
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 20
	Armament:
		Weapon: cannon.battlemaster_tank
		Damage: 60
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: !autoloader
	Armament@AUTOLOADER:
		Weapon: cannon.battlemaster_tank.autoloader
		Damage: 120
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: autoloader
	AttackTurreted:
		PauseOnCondition: parachute || hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	SelectionDecorations:
	AcceptsDeliveredExperience:
	GrantConditionOnPrerequisite@AUTOLOADER:
		Condition: autoloader
		Prerequisites: upgrade.autoloader
	ThrowsShrapnel:
		Weapons: debris.battlemaster_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: BattlemasterTankVoice
	GrantConditionOnFaction@Tank:
		Condition: tank
		Factions: tank
	ProducibleWithLevel@Tank:
		Factions: tank
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	ProducibleWithLevel@Training:
		Prerequisites: generals_power.battlemaster_training
	WithProductionIconOverlay@Tank:
		Types: Veterancy
		Prerequisites: prerequisite.tank_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Training:
		Types: Veterancy-Elite
		Prerequisites: generals_power.battlemaster_training
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.nationalism, upgrade.nuclear_tanks, upgrade.uranium_shells
	ActorStatOverride@Inf:
		Upgrades: upgrade.patriotism
		RequiresCondition: inf
	ActorStatOverride@Tank:
		Upgrades: upgrade.nationalism, upgrade.autoloader, upgrade.nuclear_tanks, upgrade.uranium_shells
		RequiresCondition: tank
	ActorStatOverride@Nuke:
		Upgrades: upgrade.nationalism, upgrade.isotope_stability
		RequiresCondition: nuke

vehicle.nuclear_battlemaster_tank:
	Inherits: vehicle.battlemaster_tank
	Buildable:
		Queue: queue.nuke_gen_vehicle, queue.prc_vehicle_merged
	Tooltip:
		Name: Nuclear Battlemaster Tank
	Armament:
		Weapon: cannon.battlemaster_tank.nuke
	Armament@AUTOLOADER:
		Weapon: cannon.battlemaster_tank.nuke.autoloader

vehicle.ambulance:
	Inherits: ^Vehicle
	Inherits@CARGO: ^CargoPips
	Inherits@DRONE: ^CanHaveDrones
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal400
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.usa_vehicle, queue.air_gen_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Heals nearby infantry.\n\nCan carry 3 infantry.\n\nHeals damaged passengers.\n\nPassengers can survive when it dies.
		ReadyAudio: AmbulanceCreated
	Valued:
		Cost: 600
	ProductionCostMultiplier@Airforce1:
		Queue: queue.air_gen_vehicle, queue.super_gen_vehicle
		Multiplier: 118 # 700
	ProductionCostMultiplier@Airforce2:
		Queue: queue.air_gen_vehicle, queue.super_gen_vehicle
		Multiplier: 99 # 700
	Tooltip:
		Name: Ambulance
	Health:
		HP: 24000
	Armor:
		Type: vehicle.toxin_tractor
	Selectable:
		Class: vehicle.ambulance
	Mobile:
		Speed: 60
		TurnSpeed: 32
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	WithRangeCircle:
		Type: heal
		Range: 4c0
		Color: DD000066
	ProximityExternalCondition:
		Condition: ambulanceheal
		Range: 4c0
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 3
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		EjectOnDeathDamage: 10
		OwnerChangedAffectsPassengers: false
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	Targetable:
		TargetTypes: GroundActor, Vehicle, Disguise, DetonateAttack, ImmueToToxin
	Targetable@DRIVER_KILLED:
		TargetTypes: GroundActor, Vehicle, Disguise, DetonateAttack, ImmueToToxin, NoDriverKill, NoAutoTarget
	-DamagedByTintedCells@RADIOACTIVITY:
	-DamagedByTintedCells@ANTHRAX_ALPHA:
	-DamagedByTintedCells@ANTHRAX_BETA:
	-DamagedByTintedCells@ANTHRAX_GAMMA:
	RenderSprites:
		Image: vehicle.ambulance
	Voiced:
		VoiceSet: AmbulanceVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Cargo
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded
		DeployChance: 100
		DeployTicks: 45

vehicle.sentry_drone:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DRONE_ARMOR: ^AffectedByDroneArmor
	Inherits@REVEAL: ^Reveal350
	Inherits@SLOW: ^SlowsWhenDamaged
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.usa_vehicle, queue.air_gen_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged, queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 4
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.zh_units
		Description: Detection vehicle.\n\nCamouflaged while not moving.
	Valued:
		Cost: 800
	ProductionCostMultiplier@Airforce1:
		Queue: queue.air_gen_vehicle
		Multiplier: 10625 # 850
	ProductionCostMultiplier@Airforce2:
		Queue: queue.air_gen_vehicle
		Multiplier: 1 # 850
	ProductionCostMultiplier@Super:
		Queue: queue.super_gen_vehicle
		Multiplier: 125 # 1000
	Tooltip:
		Name: Sentry Drone
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: vehicle.humvee
	Selectable:
		Class: vehicle.sentry_drone
	Mobile:
		TurnSpeed: 32
		Speed: 60
		Voice: Move
		Locomotor: locomotor.sentry_drone
		PauseOnCondition: hacked || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Targetable:
		TargetTypes: GroundActor, Vehicle, Disguise, DetonateAttack, NoDriverKill
		RequiresCondition: !parachute
	-Targetable@DRIVER_KILLED:
	-DamagedByTintedCells@RADIOACTIVITY:
	-DamagedByTintedCells@ANTHRAX_ALPHA:
	-DamagedByTintedCells@ANTHRAX_BETA:
	-DamagedByTintedCells@ANTHRAX_GAMMA:
	-Capturable:
	-CaptureNotification:
	-Capturable@DRIVER_KILLED:
	-GrantConditionOnInternalOwner@DRIVER_KILLED:
	Cloak@GPS_SCRAMBLER:
		RequiresCondition: gps_scrambler
	Cloak:
		InitialDelay: 100
		CloakDelay: 50
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c640
	AutoTarget:
		InitialStance: HoldFire
	Turreted:
		TurnSpeed: 32
	Armament:
		Weapon: mg.sentry_drone
		MuzzleSequence: muzzle
		RequiresCondition: sentry_gun
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: sentry_gun
	WithMuzzleOverlay:
	WithSpriteTurret:
		Sequence: turret2
		RequiresCondition: sentry_gun
	GrantConditionOnPrerequisite@SENTRY_GUN:
		Condition: sentry_gun
		Prerequisites: upgrade.sentry_gun
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	MustBeDestroyed:
		RequiresCondition: sentry_gun
	RenderSprites:
		Image: vehicle.sentry_drone
	Voiced:
		VoiceSet: SentryDroneVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed
		Upgrades: upgrade.sentry_gun, upgrade.drone_armor
	ActorStatOverride@Stat:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		RequiresCondition: sentry_gun
	ActorStatOverride@Boss:
		Upgrades: upgrade.sentry_gun
		RequiresCondition: boss

vehicle.quad_cannon:
	Inherits: ^Tank
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			150: rank-veteran
			300: rank-veteran
	Tooltip:
		Name: Quad Cannon
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 4
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Anti-infantry & anti-air vehicle.\n\nGets better weapon from Scrap Crates.
		ReadyAudio: QuadCannonCreated
	Valued:
		Cost: 700
	ProductionCostMultiplier@Toxin1:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 114 # 750
	ProductionCostMultiplier@Toxin2:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 94 # 750
	ProductionTimeMultiplier@ZH:
		Prerequisites: prerequisite.zh_units
		Multiplier: 60 # 150
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 63
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 30000
	Armor:
		Type: vehicle.anti-air
	Selectable:
		Class: vehicle.quad_cannon
	Turreted:
		TurnSpeed: 60
		Offset: -304,0,96
	Armament@PRIMARY:
		Damage: 10
		Weapon: mg.quad_cannon.ground
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: !scrap_create_bonus
	Armament@PRIMARY_CRATE-1:
		Damage: 8
		Weapon: mg.quad_cannon.ground.crate-1
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: scrap_create_bonus == 1
	Armament@PRIMARY_CRATE-2:
		Damage: 8
		Weapon: mg.quad_cannon.ground.crate-2
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: scrap_create_bonus == 2
	Armament@SECONDARY:
		Weapon: mg.quad_cannon.air
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: !scrap_create_bonus
	Armament@SECONDARY_CRATE-1:
		Weapon: mg.quad_cannon.air.crate-1
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: scrap_create_bonus == 1
	Armament@SECONDARY_CRATE-2:
		Weapon: mg.quad_cannon.air.crate-2
		LocalOffset: 512,160,160, 512,-160,160
		MuzzleSequence: muzzle
		RequiresCondition: scrap_create_bonus == 2
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithSpriteTurret:
	WithMuzzleOverlay:
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.quad_cannon
		Pieces: 1, 1
		Range: 1c0, 1c0
	RenderSprites:
		Image: vehicle.quad_cannon
	Voiced:
		VoiceSet: QuadCannonVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		Upgrades: upgrade.ap_bullets, upgrade.junk_repair
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_bullets, upgrade.junk_repair

vehicle.gatling_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CHAIN_GUN: ^AffectedByChainGun
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal360
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			80: rank-veteran
			200: rank-veteran
			300: rank-veteran
	Tooltip:
		Name: Gatling Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.prc_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 1
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Anti-infantry & anti-air vehicle.
		ReadyAudio: GatlingTankCreated
	Valued:
		Cost: 800
	ProductionCostMultiplier@Tank1:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle_merged
		Multiplier: 875 # 700
	ProductionCostMultiplier@Tank2:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle_merged
		Multiplier: 10 # 700
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 30000
	Armor:
		Type: vehicle.anti-air
	Selectable:
		Class: vehicle.gatling_tank
	DamageMultiplier@COMPOSITE_ARMOR:
		RequiresCondition: composite_armor && boss
		Modifier: 74
	Turreted:
		TurnSpeed: 32
		Offset: 0,0,160
	ReloadDelayMultiplier@Gatling1:
		RequiresCondition: gatling >= 1
		Modifier: 50
	ReloadDelayMultiplier@Gatling2:
		RequiresCondition: gatling >= 2
		Modifier: 50
	Armament@GatlingAG:
		Damage: 20
		Weapon: gatling.gatling_tank.ground
		LocalOffset: 213,0,0
		MuzzleSequence: muzzle
		RequiresCondition: !zh_units
	Armament@GatlingAG_ZH:
		Damage: 15
		Weapon: gatling.gatling_tank.ground.zh
		LocalOffset: 213,0,0
		MuzzleSequence: muzzle
		RequiresCondition: zh_units
	Armament@GatlingAA:
		Weapon: gatling.gatling_tank.air
		LocalOffset: 213,0,0
		MuzzleSequence: muzzle
	GrantConditionOnAttack@gatling:
		Condition: gatling
		RequiredShotsPerInstance: 4
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	GrantConditionOnPrerequisite@COMPOSITE_ARMOR:
		Condition: composite_armor
		Prerequisites: upgrade.composite_armor
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithSpriteTurret:
	WithMuzzleOverlay:
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.gatling_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	ProducibleWithLevel@Tank:
		Factions: tank
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Tank:
		Types: Veterancy
		Prerequisites: prerequisite.tank_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	RenderSprites:
		Image: vehicle.gatling_tank
	Voiced:
		VoiceSet: GatlingTankVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
	ActorStatOverride@Boss:
		Upgrades: upgrade.chain_gun, upgrade.composite_armor
		RequiresCondition: boss

vehicle.toxin_tractor:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			150: rank-veteran
			300: rank-veteran
	Tooltip:
		Name: Toxin Tractor
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 5
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Description: Toxin-throwing vehicle.\n\nCan be deployed to speay toxins around it.\n\nCan damage infantry garrisoned in civilian structures.\n\nGets better weapon from Scrap Crates.
		ReadyAudio: ToxinTractorCreated
	Valued:
		Cost: 600
	ProductionCostMultiplier@Toxin1:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 113 # 650
	ProductionCostMultiplier@Toxin2:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 96 # 650
	ProductionCostMultiplier@Demo:
		Queue: queue.demo_gen_vehicle
		Multiplier: 125 # 750
	Mobile:
		TurnSpeed: 32
		Speed: 30
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: hacked || driver_killed || emp || leaflet || spray
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 24000
	Armor:
		Type: vehicle.toxin_tractor
	Armament@ALPHA:
		Damage: 10
		Weapon: toxin.toxin_tractor
		LocalOffset: 600,0,90
		RequiresCondition: !anthrax_beta && !anthrax_gamma && !scrap_create_bonus
	Armament@ALPHA_CRATE-1:
		Damage: 12
		Weapon: toxin.toxin_tractor.crate-1
		LocalOffset: 600,0,90
		RequiresCondition: !anthrax_beta && !anthrax_gamma && scrap_create_bonus == 1
	Armament@ALPHA_CRATE-2:
		Damage: 15
		Weapon: toxin.toxin_tractor.crate-2
		LocalOffset: 600,0,90
		RequiresCondition: !anthrax_beta && !anthrax_gamma && scrap_create_bonus == 2
	Armament@BETA:
		Damage: 12
		Weapon: toxin.toxin_tractor.beta
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_beta && !anthrax_gamma && !scrap_create_bonus
	Armament@BETA_CRATE-1:
		Damage: 15
		Weapon: toxin.toxin_tractor.beta.crate-1
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_beta && !anthrax_gamma && scrap_create_bonus == 1
	Armament@BETA_CRATE-2:
		Damage: 20
		Weapon: toxin.toxin_tractor.beta.crate-2
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_beta && !anthrax_gamma && scrap_create_bonus == 2
	Armament@GAMMA:
		Damage: 20
		Weapon: toxin.toxin_tractor.gamma
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_gamma && !scrap_create_bonus
	Armament@GAMMA_CRATE-1:
		Damage: 24
		Weapon: toxin.toxin_tractor.gamma.crate-1
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_gamma && scrap_create_bonus == 1
	Armament@GAMMA_CRATE-2:
		Damage: 28
		Weapon: toxin.toxin_tractor.gamma.crate-2
		LocalOffset: 600,0,90
		RequiresCondition: anthrax_gamma && scrap_create_bonus == 2
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed && !spray
	WithSpriteTurret:
	Turreted:
		TurnSpeed: 32
		Offset: -192,0,160
	PeriodicExplosion@ALPHA:
		Weapon: toxin.toxin_tractor.deploy
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet && !anthrax_beta && !anthrax_gamma && spray && !as_cargo && !in_tunnel
	PeriodicExplosion@BETA:
		Weapon: toxin.toxin_tractor.deploy.beta
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet && anthrax_beta && !anthrax_gamma && spray && !as_cargo && !in_tunnel
	PeriodicExplosion@GAMMA:
		Weapon: toxin.toxin_tractor.deploy.gamma
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet && anthrax_gamma && spray && !as_cargo && !in_tunnel
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	GrantConditionOnDeploy@SPRAY:
		DeployedCondition: spray
	-DamagedByTintedCells@RADIOACTIVITY:
	-DamagedByTintedCells@ANTHRAX_ALPHA:
	-DamagedByTintedCells@ANTHRAX_BETA:
	-DamagedByTintedCells@ANTHRAX_GAMMA:
	AutoTarget:
		ScanRadius: 4
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.scorpion_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	Targetable:
		TargetTypes: GroundActor, Vehicle, Disguise, DetonateAttack, ImmueToToxin
	Targetable@DRIVER_KILLED:
		TargetTypes: GroundActor, Vehicle, Disguise, DetonateAttack, ImmueToToxin, NoDriverKill, NoAutoTarget
	Voiced:
		VoiceSet: ToxinTractorVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.anthrax_beta, upgrade.junk_repair
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma, upgrade.junk_repair
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair

vehicle.dragon_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			150: rank-veteran
			300: rank-veteran
	Tooltip:
		Name: Dragon Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.prc_vehicle, queue.inf_gen_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Flame-throwing vehicle.\n\nCan damage infantry garrisoned in civilian structures.
		ReadyAudio: DragonTankCreated
	Valued:
		Cost: 800
	ProductionCostMultiplier@Infantry1:
		Queue: queue.inf_gen_vehicle
		Multiplier: 1125 # 900
	ProductionCostMultiplier@Infantry2:
		Queue: queue.inf_gen_vehicle
		Multiplier: 10 # 900
	ProductionCostMultiplier@Tank1:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle_merged
		Multiplier: 875 # 700
	ProductionCostMultiplier@Tank2:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged, queue.boss_gen_vehicle_merged
		Multiplier: 10 # 700
	Mobile:
		TurnSpeed: 32
		Speed: 30
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 63
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 28000
	Armor:
		Type: vehicle.dragon_tank
	Selectable:
		Class: vehicle.dragon_tank
	DamageMultiplier@COMPOSITE_ARMOR:
		RequiresCondition: composite_armor && boss
		Modifier: 74
	Armament@Red:
		Weapon: flamer.dragon_tank
		Damage: 300
		LocalOffset: 512,128,42, 512,-128,42
		RequiresCondition: !black_napalm
	Armament@Blue:
		Weapon: flamer.dragon_tank.blue
		Damage: 400
		LocalOffset: 512,128,42, 512,-128,42
		RequiresCondition: black_napalm
	GrantConditionOnPrerequisite@BLACK_NAPALM:
		Condition: black_napalm
		Prerequisites: upgrade.black_napalm
	GrantConditionOnPrerequisite@COMPOSITE_ARMOR:
		Condition: composite_armor
		Prerequisites: upgrade.composite_armor
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	AttackFrontal:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
		FacingTolerance: 0
	AutoTarget:
		ScanRadius: 4
	AcceptsDeliveredExperience:
	RenderSprites:
		Image: vehicle.dragon_tank
	ProducibleWithLevel@Tank:
		Factions: tank
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Tank:
		Types: Veterancy
		Prerequisites: prerequisite.tank_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: DragonTankVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.black_napalm
	ActorStatOverride@Boss:
		Upgrades: upgrade.black_napalm, upgrade.composite_armor
		RequiresCondition: boss

vehicle.rocket_buggy:
	Inherits: ^Vehicle
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal360
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			400: rank-veteran
			800: rank-veteran
	Tooltip:
		Name: Rocket Buggy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 7
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.palace, !techlevel.notech
		Description: Rocket artillery.\n\nGets extra missiles per burst from Scrap Crates.
		ReadyAudio: RocketBuggyCreated
	Buildable@Boss:
		Queue: queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: !techlevel.notech
		Description: Rocket artillery.\n\nGets extra missiles per burst from Scrap Crates.
		ReadyAudio: RocketBuggyCreated
	Valued:
		Cost: 900
	ProductionCostMultiplier@Toxin1:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 139 # 1100
	ProductionCostMultiplier@Toxin2:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 88 # 1100
	ProductionCostMultiplier@Demo1:
		Queue: queue.demo_gen_vehicle
		Multiplier: 117 # 1000
	ProductionCostMultiplier@Demo2:
		Queue: queue.demo_gen_vehicle
		Multiplier: 95 # 1000
	Mobile:
		TurnSpeed: 32
		Speed: 90
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 89
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 12000
	Armor:
		Type: vehicle.truck
	Selectable:
		Class: vehicle.rocket_buggy
	Armament@6:
		Damage: 120
		Weapon: missile.rocket_buggy
		LocalOffset: -128, -170, 170, -128, 170, 170
		LocalYaw: 100, -100
		RequiresCondition: !buggy_ammo && !scrap_create_bonus
	Armament@7:
		Damage: 140
		Weapon: missile.rocket_buggy.crate-1
		LocalOffset: -128, -170, 170, -128, 170, 170
		LocalYaw: 100, -100
		RequiresCondition: !buggy_ammo && scrap_create_bonus == 1
	Armament@8:
		Damage: 160
		Weapon: missile.rocket_buggy.crate-2
		LocalOffset: -128, -170, 170, -128, 170, 170
		LocalYaw: 100, -100
		RequiresCondition: !buggy_ammo && scrap_create_bonus == 2
	Armament@12:
		Damage: 240
		Weapon: missile.rocket_buggy.upgraded
		LocalOffset: -128, -170, 170, -128, 170, 170, -128, 0, 170
		LocalYaw: 100, -100
		RequiresCondition: buggy_ammo && !scrap_create_bonus
	Armament@14:
		Damage: 280
		Weapon: missile.rocket_buggy.crate-1.upgraded
		LocalOffset: -128, -170, 170, -128, 170, 170, -128, 0, 170
		LocalYaw: 100, -100
		RequiresCondition: buggy_ammo && scrap_create_bonus == 1
	Armament@16:
		Damage: 320
		Weapon: missile.rocket_buggy.crate-1.upgraded
		LocalOffset: -128, -170, 170, -128, 170, 170, -128, 0, 170
		LocalYaw: 100, -100
		RequiresCondition: buggy_ammo && scrap_create_bonus == 2
	Turreted:
		TurnSpeed: 32
		Offset: -196,0,85
	WithSpriteTurret:
		Sequence: turret2
		RequiresCondition: buggy_ammo
	GrantConditionOnPrerequisite@BUGGY_AMMO:
		Condition: buggy_ammo
		Prerequisites: upgrade.buggy_ammo
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	AttackFrontal:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
		FacingTolerance: 0
	AcceptsDeliveredExperience:
	ThrowsShrapnel@Mobile:
		Weapons: debris.rocket_buggy.body
		Pieces: 1, 1
		Range: 2c0, 2c0
		ConsiderFacing: true
		RequiresCondition: moving
	ThrowsShrapnel@Static:
		Weapons: debris.rocket_buggy.body
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: !moving
	ThrowsShrapnel@Turret:
		Weapons: debris.rocket_buggy.turret
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: buggy_ammo
	GrantConditionOnMovement:
		Condition: moving
	Voiced:
		VoiceSet: RocketBuggyVoice
	RenderSprites:
		Image: vehicle.rocket_buggy
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.ap_rockets, upgrade.junk_repair, upgrade.buggy_ammo
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_rockets, upgrade.junk_repair, upgrade.buggy_ammo
	ActorStatOverride@Boss:
		Upgrades: upgrade.ap_rockets, upgrade.buggy_ammo
		RequiresCondition: boss

vehicle.avenger:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.usa_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged, queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 6
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.zh_units, !techlevel.notech
		Description: Advanced anti-air unit.\n\nCan deflect enemy missiles with laser.\n\nCan mark enemy to make it recieve 40% more damage.
		ReadyAudio: AvengerCreated
	Buildable@Air:
		Queue: queue.air_gen_vehicle
		BuildPaletteOrder: 6
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, ~prerequisite.zh_units, !techlevel.notech
		Description: Advanced anti-air unit.\n\nCan deflect enemy missiles with laser.\n\nCan mark enemy to make it recieve 40% more damage.
		ReadyAudio: AvengerCreated
	Valued:
		Cost: 2000
	ProductionCostMultiplier@Laser:
		Queue: queue.laser_gen_vehicle, queue.usa_vehicle_merged, queue.boss_gen_vehicle_merged
		Multiplier: 75 # 1500
	BuildPaletteOrderModifier@Boss:
		Queue: queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		Modifier: 2 # 8
	Tooltip:
		Name: Avenger
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: vehicle.avenger
	Mobile:
		Speed: 30
		TurnSpeed: 32
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Selectable:
		Class: vehicle.avenger
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 32
		Offset: -128,0,192
	Armament@MG:
		Weapon: laser.avenger.air
		LocalOffset: 512,0,192
		MuzzleSequence: muzzle
	Armament@MARK:
		Weapon: laser.avenger.mark
	Armament@PDLASER:
		Weapon: laser.avenger.point_defense
		LocalOffset: 0,213,0
		Name: pdlaser
	PointDefense:
		Armament: pdlaser
		PointDefenseTypes: missilepd
		RequiresCondition: !hacked && !emp && !leaflet && !driver_killed && !as_cargo && !in_tunnel
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.avenger
		Pieces: 1, 1
		Range: 1c0, 1c0
	RenderSprites:
		Image: vehicle.avenger
	Voiced:
		VoiceSet: AvengerVoice
	ActorStatValues:
		Damage: 10
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone

vehicle.battle_bus:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CARGO: ^CargoPips
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 9
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.palace, ~prerequisite.zh_units, !techlevel.notech
		Description: Tough infantry transport.\n\nCan carry 8 infantry that can fire outside.\n\nTurns into a static bunker when damaged.\n\nGets better armor from Scrap Crates.
		ReadyAudio: BattleBusCreated
	Valued:
		Cost: 1000
	ProductionCostMultiplier@Toxin:
		Queue: queue.toxin_gen_vehicle
		Multiplier: 110 # 1100
	ProductionCostMultiplier@Demo:
		Queue: queue.demo_gen_vehicle
		Multiplier: 120 # 1200
	Tooltip:
		Name: Battle Bus
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 105000
	Armor:
		Type: vehicle.battle_bus
		RequiresCondition: !husk && !scrap_create_bonus
	Armor@CRATE-1:
		Type: vehicle.battle_bus.crate-1
		RequiresCondition: !husk && scrap_create_bonus == 1
	Armor@CRATE-2:
		Type: vehicle.battle_bus.crate-2
		RequiresCondition: !husk && scrap_create_bonus == 2
	Armor@HUSK:
		Type: husk.battle_bus
		RequiresCondition: husk && !scrap_create_bonus
	Armor@HUSK_CRATE-1:
		Type: husk.battle_bus.crate-1
		RequiresCondition: husk && scrap_create_bonus == 1
	Armor@HUSK_CRATE-2:
		Type: husk.battle_bus.crate-2
		RequiresCondition: husk && scrap_create_bonus == 2
	Selectable:
		DecorationBounds: 1194, 1194
	Mobile:
		Speed: 70
		TurnSpeed: 16
		Voice: Move
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
		RequiresCondition: !husk
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	SpeedMultiplier@DAMAGED:
		Modifier: 71
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 8
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		EjectOnDeathDamage: 50
		OwnerChangedAffectsPassengers: false
		LoadedCondition: loaded
		LoadingCondition: notmobile
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	WithFacingSpriteBody:
		RequiresCondition: !husk
	WithFacingSpriteBody@HUSK:
		Name: husk
		Sequence: husk
		RequiresCondition: husk
	AttackGarrisoned:
		PortOffsets: 256,128,32, 256,-128,32, -256,128,32, -256,-128,32
		PortYaws: 0, 0, 512, 512
		PortCones: 512, 512, 512, 512
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	GrantConditionOnHealth@HUSK:
		MaxHP: 65000
		Condition: husk
		GrantPermanently: true
	-GrantConditionOnDamageState@DAMAGED:
	GrantConditionOnHealth@DAMAGED:
		MaxHP: 75000
		Condition: damaged
	ChangesHealth@JUNK_REPAIR:
		RequiresCondition: junk_repair && !husk
	ChangesHealth@JUNK_REPAIR_HUSK:
		Step: 200
		Delay: 25
		StartIfBelow: 65
		DamageCooldown: 25
		RequiresCondition: junk_repair && husk
	ChangesHealth@AMBULANCE:
		RequiresCondition: ambulanceheal && zh_units && !husk
	KillsSelf:
		RequiresCondition: !loaded && husk
	Targetable:
		RequiresCondition: !parachute && !driver_killed && !husk
	Targetable@DRIVER_KILLED:
		RequiresCondition: !parachute && driver_killed && !husk
	Targetable@HUSK:
		TargetTypes: GroundActor, Vehicle, DetonateAttack, NoDriverKill
		RequiresCondition: !parachute && husk
	Passenger:
		Weight: 8
	Voiced:
		VoiceSet: BattleBusVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Cargo
	ActorStatOverride@Stat:
		Stats: Armor, Sight, Cargo
		RequiresCondition: husk
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair
	GrantConditionOnDamageState@AI:
		Condition: ShouldUnload
		ValidDamageStates: Critical, Heavy
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded && ShouldUnload
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 20

vehicle.troop_crawler:
	Inherits: ^Tank
	Inherits@CARGO: ^CargoPips
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal400
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	Buildable:
		Queue: queue.prc_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle
		BuildPaletteOrder: 4
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Tough infantry transport.\n\nCan carry 8 infantry.\n\nComes with 8 red guards.\n\nHeals damaged passengers.\n\nPassengers can survive when it dies.
		ReadyAudio: TroopCrawlerCreated
	Valued:
		Cost: 1400
	Tooltip:
		Name: Troop Crawler
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 24000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 40
		TurnSpeed: 20
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 8
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		InitialUnits: infantry.red_guard, infantry.red_guard, infantry.red_guard, infantry.red_guard, infantry.red_guard, infantry.red_guard, infantry.red_guard, infantry.red_guard
		EjectOnDeathDamage: 10
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	Passenger:
		Weight: 8
	AutoDeployer:
		DeployChance: 100
	RenderDetectionCircle:
	DetectCloaked:
		Range: 4c384
	Voiced:
		VoiceSet: TroopCrawlerVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Cargo
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded
		DeployChance: 100
		DeployTrigger: BecomingIdle, Damage
		DeployTicks: 45

vehicle.assault_troop_crawler:
	Inherits: vehicle.troop_crawler
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Buildable:
		Queue: queue.inf_gen_vehicle, queue.prc_vehicle_merged
		BuildDuration: 625
		Description: Tough infantry transport.\n\nCan carry 8 infantry that can fire outside.\n\nComes with 8 minigunners.\n\nHeals damaged passengers.\n\nHas a speaker tower attached.\n\nPassengers can survive when it dies.
		ReadyAudio: AssaultTroopCrawlerCreated
	Valued:
		Cost: 2400
	Tooltip:
		Name: Assault Troop Crawler
	Armor:
		Type: vehicle.assault_troop_crawler
	Cargo:
		InitialUnits: infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner
		EjectOnDeathDamage: 50
	AttackGarrisoned:
		PortOffsets: 256,128,32, 256,-128,32, -256,128,32, -256,-128,32
		PortYaws: 0, 0, 512, 512
		PortCones: 512, 512, 512, 512
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	ProximityExternalCondition@SPEAKER:
		Condition: speaker_tower
		Range: 4c0
	WithRangeCircle:
		Type: speaker
		Range: 4c0
		Color: DD000066
	Voiced:
		VoiceSet: AssaultTroopCrawlerVoice
	ActorStatValues:
		Upgrades: upgrade.subliminal_messaging
	GrantConditionOnDamageState@AI:
		Condition: ShouldUnload
		ValidDamageStates: Critical, Heavy
	-AutoDeployer@AI:
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded && ShouldUnload
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 20

vehicle.listening_outpost:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CARGO: ^CargoPips
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal500
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	Buildable:
		Queue: queue.prc_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle
		BuildPaletteOrder: 7
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.zh_units
		Description: Stealth detector unit.\n\nCan carry 2 infantry that can fire outside.\n\nComes with 2 tank hunters.\n\nHeals damaged passengers.\n\nHas a speaker tower attached.\n\nPassengers can survive when it dies.\n\nCamouflaged while not moving.
		ReadyAudio: ListeningOutpostCreated
	Valued:
		Cost: 800
	Tooltip:
		Name: Listening Outpost
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 24000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 40
		TurnSpeed: 16
		Voice: Move
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 2
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		InitialUnits: infantry.tank_hunter, infantry.tank_hunter
		EjectOnDeathDamage: 10
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
	WithCargoSounds:
		EnterSounds: vhumenta.wav, vhumentb.wav, vhumentc.wav
		ExitSounds: vhumexia.wav, vhumexib.wav, vhumexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	Passenger:
		Weight: 8
	AttackGarrisoned:
		PortOffsets: 256,128,32, 256,-128,32, -256,128,32, -256,-128,32
		PortYaws: 0, 0, 512, 512
		PortCones: 512, 512, 512, 512
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	Cloak:
		InitialDelay: 100
		CloakDelay: 50
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !driver_killed 
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	WithIdleOverlay@SPINNER:
		Sequence: spinner
		Offset: -256,0,256
		PauseOnCondition: moving
	GrantConditionOnMovement:
		Condition: moving
	RenderDetectionCircle:
	DetectCloaked:
		Range: 7c512
		RequiresCondition: !moving
	ThrowsShrapnel:
		Weapons: debris.radar_van
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: ListeningOutpostVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Cargo
	GrantConditionOnDamageState@AI:
		Condition: ShouldUnload
		ValidDamageStates: Critical, Heavy
	AutoDeployer@AI:
		RequiresCondition: bot_owner && loaded && ShouldUnload
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 20

vehicle.attack_outpost:
	Inherits: vehicle.listening_outpost
	Buildable:
		Queue: queue.inf_gen_vehicle, queue.prc_vehicle_merged
		Description: Stealth detector unit.\n\nCan carry 8 infantry that can fire outside.\n\nComes with 3 tank hunters.\n\nHeals damaged passengers.\n\nPassengers can survive when it dies.\n\nCamouflaged while not moving.
	Tooltip:
		Name: Attack Outpost
	Valued:
		Cost: 1000
	Health:
		HP: 30000
	Cargo:
		MaxWeight: 8
		InitialUnits: infantry.tank_hunter, infantry.tank_hunter, infantry.tank_hunter
		EjectOnDeathDamage: 50
	ProximityExternalCondition@SPEAKER:
		Condition: speaker_tower
		Range: 4c0
	WithRangeCircle:
		Type: speaker
		Range: 4c0
		Color: DD000066
	ActorStatValues:
		Upgrades: upgrade.subliminal_messaging

vehicle.microwave_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.usa_vehicle, queue.air_gen_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 7
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, ~prerequisite.zh_units
		Description: Disables enemy structures.\n\nBurns enemy infantry around, even ones inside civilian structures.
		ReadyAudio: MicrowaveTankCreated
	Valued:
		Cost: 800
	Tooltip:
		Name: Microwave Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 48000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 30
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 16
		Offset: -256,0,256
	## HACK HACK HACK: it just works, don't ask me.
	## Weapons like this need setting similar below to
	## avoid end effect on newly switched target. 
	Armament@Anim:
		Weapon: disable.microwave_tank.anim
		LocalOffset: 24,0,0
		PauseOnCondition: has_disable
		ReloadingCondition: has_animed
	Armament@End:
		Weapon: disable.microwave_tank.end
		LocalOffset: 24,0,0
		PauseOnCondition: !enable_disable || !has_animed
		ReloadingCondition: has_disable
	GrantConditionOnAttack@EnableDisable:
		Condition: enable_disable
		RequiredShotsPerInstance: 65
		MaximumInstances: 1
		RevokeDelay: 80
		RevokeAll: true
		RevokeOnNewTarget: true
		IsCyclic: false
	GrantConditionOnAttack@Fire:
		Condition: firing
		RequiredShotsPerInstance: 1
		MaximumInstances: 1
		RevokeDelay: 4
		RevokeAll: true
		IsCyclic: false
	PeriodicExplosion@AoE:
		Weapon: aoe.microwave_tank
		RequiresCondition: !firing && !hacked && !driver_killed && !emp && !leaflet && !as_cargo && !in_tunnel
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithSpriteTurret:
	DamageMultiplier@COMPOSITE_ARMOR:
		RequiresCondition: composite_armor
		Modifier: 83
	GrantConditionOnPrerequisite@COMPOSITE_ARMOR:
		Condition: composite_armor
		Prerequisites: upgrade.composite_armor
	GrantConditionOnFaction@Air:
		Condition: air
		Factions: air
	GrantConditionOnFaction@Super:
		Condition: super
		Factions: super
	WithRangeCircle:
		Range: 3c0
		Color: DDDD0088
		RequiresCondition: !firing
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.radar_van
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: MicrowaveTankVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone
		RequiresCondition: !air && !super && zh_units
	ActorStatOverride@Air:
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone
		RequiresCondition: (air || super) && !zh_units
	ActorStatOverride@Air_ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone
		RequiresCondition: (air || super) && zh_units

vehicle.ecm_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal360
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			150: rank-veteran
			300: rank-veteran
	Buildable:
		Queue: queue.prc_vehicle, queue.inf_gen_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle, queue.prc_vehicle_merged
		BuildPaletteOrder: 8
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, ~prerequisite.zh_units
		Description: Disables enemy vehicles.\n\nJams enemy missiles.
		ReadyAudio: ECMTankCreated
	Valued:
		Cost: 800
	ProductionCostMultiplier@Infantry1:
		Queue: queue.inf_gen_vehicle
		Multiplier: 1125 # 900
	ProductionCostMultiplier@Infantry2:
		Queue: queue.inf_gen_vehicle
		Multiplier: 10 # 900
	Tooltip:
		Name: ECM Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 16
		Offset: -256,0,256
	Armament@Anim:
		Weapon: disable.ecm_tank.anim
		LocalOffset: 24,0,0
		PauseOnCondition: has_disable
		ReloadingCondition: has_animed
	Armament@End:
		Weapon: disable.ecm_tank.end
		LocalOffset: 24,0,0
		PauseOnCondition: !enable_disable || !has_animed
		ReloadingCondition: has_disable
	GrantConditionOnAttack@EnableDisable:
		Condition: enable_disable
		RequiredShotsPerInstance: 25
		MaximumInstances: 1
		RevokeDelay: 35
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: true
	GrantConditionOnAttack@Fire:
		Condition: firing
		RequiredShotsPerInstance: 1
		MaximumInstances: 1
		RevokeDelay: 4
		RevokeAll: true
		IsCyclic: false
	JamsMissiles:
		Range: 3c0
		DeflectionRelationships: Neutral, Enemy
		RequiresCondition: !firing && !hacked && !driver_killed && !emp && !leaflet && !as_cargo && !in_tunnel
	WithRangeCircle:
		Range: 3c0
		Color: DDDD0088
		RequiresCondition: !firing
	AttackTurreted:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithSpriteTurret:
	ThrowsShrapnel:
		Weapons: debris.radar_van
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: ECMTankVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed

vehicle.tomahawk_launcher:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			400: rank-veteran
			800: rank-veteran
	Tooltip:
		Name: Tomahawk Launcher
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.usa_vehicle, queue.air_gen_vehicle, queue.super_gen_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 8
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, !techlevel.notech
		Description: Long-range rocket artillery.
		ReadyAudio: TomahawkCreated
	Buildable@Boss:
		Queue: queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 7
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: !techlevel.notech
		Description: Long-range rocket artillery.
		ReadyAudio: TomahawkCreated
	Valued:
		Cost: 1200
	ProductionCostMultiplier@Airforce1:
		Queue: queue.air_gen_vehicle
		Multiplier: 126 # 1300
	ProductionCostMultiplier@Airforce2:
		Queue: queue.air_gen_vehicle
		Multiplier: 86 # 1300
	ProductionCostMultiplier@Super1:
		Queue: queue.super_gen_vehicle
		Multiplier: 108 # 1400
	ProductionCostMultiplier@Super2:
		Queue: queue.super_gen_vehicle
		Multiplier: 107 # 1400
	ProductionCostMultiplier@Super3:
		Queue: queue.super_gen_vehicle
		Multiplier: 101 # 1400
	Mobile:
		Speed: 30
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Health:
		HP: 18000
	Armor:
		Type: vehicle.truck
	Selectable:
		Class: vehicle.tomahawk_launcher
	Turreted:
		TurnSpeed: 12
		Offset: -128,0,128
		RealignDelay: 0
	Armament:
		Weapon: missile.tomahawk_launcher
		LocalOffset: 0,-171,0
		PauseOnCondition: !ammo
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 90
		Count: 1
	AutoTarget:
		ScanRadius: 8
	AttackTurreted:
		TargetFrozenActors: true
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithSpriteTurret@Full:
		Sequence: turret-full
		RequiresCondition: ammo
	WithSpriteTurret@Empty:
		Sequence: turret-empty
		RequiresCondition: !ammo
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.tomahawk_launcher
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: ammo
	RenderSprites:
		Image: vehicle.tomahawk_launcher
	Voiced:
		VoiceSet: TomahawkLauncherVoice
	ActorStatValues:
		Damage: 150
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone

vehicle.scud_launcher:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			200: rank-veteran
			400: rank-veteran
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 8
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.palace, prerequisite.scud_launcher
		Description: Long-range rocket artillery.\n\nCan be armed with either toxin or high explosive missiles.\n\nGets better weapon from Scrap Crates.
		ReadyAudio: ScudLauncherCreated
	Valued:
		Cost: 1200
	ProductionTimeMultiplier@ZH:
		Prerequisites: prerequisite.zh_units
		Multiplier: 75 # 375
	Tooltip:
		Name: SCUD Launcher
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 18000
	Armor:
		Type: vehicle.truck
	Production:
		Produces: queue.scud_launcher
		PauseOnCondition: emp || hacked || leaflet
		RequiresCondition: !toxin_missiles && !hi_explosive_missiles && !driver_killed && !as_cargo && !in_tunnel
	ProductionQueue:
		Type: queue.scud_launcher
		Group: Tech
		QueueLimit: 1
		InstantCashDrain: true
		DisallowPaused: true
	Exit:
	ProvidesPrerequisite@unitname:
	Mobile:
		Speed: 20
		TurnSpeed: 8
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Armament:
		Weapon: missile.scud_launcher
		Damage: 200
		RequiresCondition: !toxin_missiles && !hi_explosive_missiles && !scrap_create_bonus
		PauseOnCondition: !ammo
	Armament@CRATE-1:
		Weapon: missile.scud_launcher.crate-1
		Damage: 200
		RequiresCondition: !toxin_missiles && !hi_explosive_missiles && scrap_create_bonus == 1
		PauseOnCondition: !ammo
	Armament@CRATE-2:
		Weapon: missile.scud_launcher.crate-2
		Damage: 300
		RequiresCondition: !toxin_missiles && !hi_explosive_missiles && scrap_create_bonus == 2
		PauseOnCondition: !ammo
	Armament@BIO:
		Weapon: missile.scud_launcher.toxin
		Damage: 200
		RequiresCondition: toxin_missiles && !anthrax_beta && !anthrax_gamma && !scrap_create_bonus
		PauseOnCondition: !ammo
	Armament@BIO_CRATE-1:
		Weapon: missile.scud_launcher.crate-1.toxin
		Damage: 200
		RequiresCondition: toxin_missiles && !anthrax_beta && !anthrax_gamma && scrap_create_bonus == 1
		PauseOnCondition: !ammo
	Armament@BIO_CRATE-2:
		Weapon: missile.scud_launcher.crate-2.toxin
		Damage: 300
		RequiresCondition: toxin_missiles && !anthrax_beta && !anthrax_gamma && scrap_create_bonus == 2
		PauseOnCondition: !ammo
	Armament@BETA:
		Weapon: missile.scud_launcher.toxin_beta
		Damage: 200
		RequiresCondition: toxin_missiles && anthrax_beta && !anthrax_gamma && !scrap_create_bonus
		PauseOnCondition: !ammo
	Armament@BETA_CRATE-1:
		Weapon: missile.scud_launcher.crate-1.toxin_beta
		Damage: 200
		RequiresCondition: toxin_missiles && anthrax_beta && !anthrax_gamma && scrap_create_bonus == 1
		PauseOnCondition: !ammo
	Armament@BETA_CRATE-2:
		Weapon: missile.scud_launcher.crate-2.toxin_beta
		Damage: 300
		RequiresCondition: toxin_missiles && anthrax_beta && !anthrax_gamma && scrap_create_bonus == 2
		PauseOnCondition: !ammo
	Armament@GAMMA:
		Weapon: missile.scud_launcher.toxin_gamma
		Damage: 200
		RequiresCondition: toxin_missiles && anthrax_gamma && !scrap_create_bonus
		PauseOnCondition: !ammo
	Armament@GAMMA_CRATE-1:
		Weapon: missile.scud_launcher.crate-1.toxin_gamma
		Damage: 200
		RequiresCondition: toxin_missiles && anthrax_gamma && scrap_create_bonus == 1
		PauseOnCondition: !ammo
	Armament@GAMMA_CRATE-2:
		Weapon: missile.scud_launcher.crate-2.toxin_gamma
		Damage: 300
		RequiresCondition: toxin_missiles && anthrax_gamma && scrap_create_bonus == 2
		PauseOnCondition: !ammo
	Armament@EXP:
		Weapon: missile.scud_launcher.explosive
		Damage: 300
		RequiresCondition: hi_explosive_missiles && !scrap_create_bonus
		PauseOnCondition: !ammo
	Armament@EXP_CRATE-1:
		Weapon: missile.scud_launcher.crate-1.explosive
		Damage: 300
		RequiresCondition: hi_explosive_missiles && scrap_create_bonus == 1
		PauseOnCondition: !ammo
	Armament@EXP_CRATE-2:
		Weapon: missile.scud_launcher.crate-2.explosive
		Damage: 400
		RequiresCondition: hi_explosive_missiles && scrap_create_bonus == 2
		PauseOnCondition: !ammo
	AttackFrontal:
		TargetFrozenActors: true
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
		FacingTolerance: 0
	WithFacingSpriteBody:
		RequiresCondition: ammo
	WithFacingSpriteBody@EMPTY:
		Name: empty
		RequiresCondition: !ammo
		Sequence: empty-idle
	SelectionDecorations:
	Explodes:
		Weapon: V2Explode
	GrantConditionOnProduction@TOXIN_MISSILES:
		Condition: toxin_missiles
		Actors: upgrade.toxin_missiles
	GrantConditionOnProduction@HI_EXPLOSIVE_MISSILES:
		Condition: hi_explosive_missiles
		Actors: upgrade.hi_explosive_missiles
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@TOXIN_MISSILES:
		Condition: toxin_missiles
		Factions: toxin
	GrantConditionOnFaction@HI_EXPLOSIVE_MISSILES:
		Condition: hi_explosive_missiles
		Factions: demo
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 200
		Count: 1
	AutoTarget:
		ScanRadius: 8
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.scud_launcher
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: ammo
	Voiced:
		VoiceSet: SCUDLauncherVoice
	Selectable:
		DecorationBounds: 1194, 1194
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.anthrax_beta, upgrade.junk_repair, upgrade.toxin_missiles, upgrade.hi_explosive_missiles
		LocalUpgrades: upgrade.toxin_missiles, upgrade.hi_explosive_missiles
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma, upgrade.junk_repair
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair

vehicle.inferno_cannon:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			200: rank-veteran
			400: rank-veteran
	Buildable:
		Queue: queue.prc_vehicle, queue.inf_gen_vehicle, queue.nuke_gen_vehicle, queue.prc_vehicle_merged
		BuildPaletteOrder: 9
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center
		Description: Long-range artillery.\n\nMultiple can generate firestorms at the target\nfor additional damage.
		ReadyAudio: InfernoCannonCreated
	Valued:
		Cost: 900
	ProductionCostMultiplier@Infantry1:
		Queue: queue.inf_gen_vehicle
		Multiplier: 139 # 1100
	ProductionCostMultiplier@Infantry2:
		Queue: queue.inf_gen_vehicle
		Multiplier: 88 # 1100
	Tooltip:
		Name: Inferno Cannon
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: vehicle.tank
	Selectable:
		Class: vehicle.inferno_cannon
	Mobile:
		TurnSpeed: 20
		Speed: 30
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Armament@Red:
		Damage: 30
		Weapon: cannon.inferno_cannon
		LocalOffset: 624,0,208
		MuzzleSequence: muzzle
		RequiresCondition: !black_napalm
	Armament@Blue:
		Damage: 45
		Weapon: cannon.inferno_cannon.blue
		LocalOffset: 624,0,208
		MuzzleSequence: muzzle
		RequiresCondition: black_napalm
	GrantConditionOnPrerequisite@BLACK_NAPALM:
		Condition: black_napalm
		Prerequisites: upgrade.black_napalm
	AttackFrontal:
		TargetFrozenActors: true
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
		FacingTolerance: 0
	WithMuzzleOverlay:
	Explodes:
		Weapon: ArtilleryExplode
		EmptyWeapon: UnitExplodeSmall
		LoadedChance: 75
	ProducibleWithLevel:
		Prerequisites: generals_power.arty_training
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: generals_power.arty_training
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.nuke_cannon
		Pieces: 1, 1
		Range: 1c0, 1c0
	RenderSprites:
		Image: vehicle.inferno_cannon
	Voiced:
		VoiceSet: InfernoCannonVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.black_napalm

vehicle.paladin_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DRONE: ^CanHaveDrones
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.usa_vehicle, queue.usa_vehicle_merged, queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 9
		BuildDuration: 300
		BuildDurationModifier: 100
		Prerequisites: prerequisite.paladin_tank
		Description: Heavy tank.\n\nCan deflect enemy missiles with laser.
		ReadyAudio: PaladinTankCreated
	BuildPaletteOrderModifier@Boss:
		Queue: queue.boss_gen_vehicle, queue.boss_gen_vehicle_merged
		Modifier: -9 # 0
	Valued:
		Cost: 1100
	Tooltip:
		Name: Paladin Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 50000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 30
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 32
		Offset: 0,0,160
	Armament@Cannon:
		Weapon: cannon.paladin_tank
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
	Armament@PDLASER:
		Weapon: laser.paladin_tank
		LocalOffset: 0,213,-85
		Name: pdlaser
	PointDefense:
		Armament: pdlaser
		PointDefenseTypes: missilepd
		RequiresCondition: !hacked && !emp && !leaflet && !driver_killed && !as_cargo && !in_tunnel
	AttackTurreted:
		Armaments: primary, pdlaser
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	DamageMultiplier@COMPOSITE_ARMOR:
		RequiresCondition: composite_armor
		Modifier: 83
	GrantConditionOnPrerequisite@COMPOSITE_ARMOR:
		Condition: composite_armor
		Prerequisites: upgrade.composite_armor
	ChangesHealth:
		Step: 100
		Delay: 3
		StartIfBelow: 50
		DamageCooldown: 150
	SelectionDecorations:
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.crusader_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	Voiced:
		VoiceSet: PaladinTankVoice
	Selectable:
		Class: vehicle.paladin_tank
		DecorationBounds: 1194, 1194, 0, -170
	RenderSprites:
		Image: vehicle.paladin_tank
	ActorStatValues:
		Damage: 60
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.composite_armor, upgrade.scout_drone, upgrade.battle_drone, upgrade.hellfire_drone

vehicle.marauder_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 100
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 11
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: ~building.arms_dealer, building.palace, prerequisite.marauder_tank
		Description: Medium tank.\n\nGets better weapon from Scrap Crates.
		ReadyAudio: MarauderTankCreated
	Valued:
		Cost: 800
	ProductionCostMultiplier@Toxin1:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 1125 # 900
	ProductionCostMultiplier@Toxin2:
		Queue: queue.toxin_gen_vehicle, queue.demo_gen_vehicle
		Multiplier: 10 # 900
	Tooltip:
		Name: Marauder Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 50000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 40
		TurnSpeed: 32
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 75
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 32
		Offset: 128,0,0
	Armament@Cannon:
		Damage: 60
		Weapon: cannon.marauder_tank
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && !zh_units && !scrap_create_bonus
	Armament@Cannon_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && !zh_units && scrap_create_bonus == 1
	Armament@Cannon_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && !zh_units && scrap_create_bonus == 2
	Armament@Cannon_ZH:
		Damage: 60
		Weapon: cannon.marauder_tank.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && zh_units && !scrap_create_bonus
	Armament@Cannon_ZH_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && zh_units && scrap_create_bonus == 1
	Armament@Cannon_ZH_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: !toxin_shells && zh_units && scrap_create_bonus == 2
	Armament@TOXIN_SHELLS:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && !zh_units && !scrap_create_bonus
	Armament@TOXIN_SHELLS_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && !zh_units && scrap_create_bonus == 1
	Armament@TOXIN_SHELLS_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && !zh_units && scrap_create_bonus == 2
	Armament@TOXIN_SHELLS_ZH:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && zh_units && !scrap_create_bonus
	Armament@TOXIN_SHELLS_ZH_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && zh_units && scrap_create_bonus == 1
	Armament@TOXIN_SHELLS_ZH_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && !anthrax_beta && !anthrax_gamma && zh_units && scrap_create_bonus == 2
	Armament@ANTHRAX_BETA:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin_beta
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && !zh_units && !scrap_create_bonus
	Armament@ANTHRAX_BETA_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin_beta
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && !zh_units && scrap_create_bonus == 1
	Armament@ANTHRAX_BETA_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin_beta
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && !zh_units && scrap_create_bonus == 2
	Armament@ANTHRAX_BETA_ZH:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin_beta.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && zh_units && !scrap_create_bonus
	Armament@ANTHRAX_BETA_ZH_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin_beta.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && zh_units && scrap_create_bonus == 1
	Armament@ANTHRAX_BETA_ZH_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin_beta.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_beta && !anthrax_gamma && zh_units && scrap_create_bonus == 2
	Armament@ANTHRAX_GAMMA:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin_gamma
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && !zh_units && !scrap_create_bonus
	Armament@ANTHRAX_GAMMA_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin_gamma
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && !zh_units && scrap_create_bonus == 1
	Armament@ANTHRAX_GAMMA_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin_gamma
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && !zh_units && scrap_create_bonus == 2
	Armament@ANTHRAX_GAMMA_ZH:
		Damage: 60
		Weapon: cannon.marauder_tank.toxin_gamma.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && zh_units && !scrap_create_bonus
	Armament@ANTHRAX_GAMMA_ZH_CRATE-1:
		Damage: 60
		Weapon: cannon.marauder_tank.crate-1.toxin_gamma.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 720,0,80
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && zh_units && scrap_create_bonus == 1
	Armament@ANTHRAX_GAMMA_ZH_CRATE-2:
		Damage: 120
		Weapon: cannon.marauder_tank.crate-2.toxin_gamma.zh
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
		RequiresCondition: toxin_shells && anthrax_gamma && zh_units && scrap_create_bonus == 2
	AttackFrontal:
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
		FacingTolerance: 0
	WithMuzzleOverlay:
	WithSpriteTurret:
		RequiresCondition: !scrap_create_bonus
	WithSpriteTurret@CRATE-1:
		Sequence: turret-crate-1
		RequiresCondition: scrap_create_bonus == 1
	WithSpriteTurret@CRATE-2:
		Sequence: turret-crate-2
		RequiresCondition: scrap_create_bonus == 2
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	GrantConditionOnPrerequisite@TOXIN_SHELLS:
		Condition: toxin_shells
		Prerequisites: upgrade.toxin_shells
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@TOXIN_SHELLS:
		Condition: toxin_shells
		Factions: toxin
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	AcceptsDeliveredExperience:
	ThrowsShrapnel:
		Weapons: debris.scorpion_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: !scrap_create_bonus
	ThrowsShrapnel@CRATE-1:
		Weapons: debris.battlemaster_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: scrap_create_bonus == 1
	ThrowsShrapnel@CRATE-2:
		Weapons: debris.marauder_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: scrap_create_bonus == 2
	Voiced:
		VoiceSet: MarauderTankVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.toxin_shells, upgrade.anthrax_beta, upgrade.junk_repair
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma, upgrade.junk_repair
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair

vehicle.overlord_tank:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@CARGO: ^CargoPips
	Inherits@CHAIN_GUN: ^AffectedByChainGun
	Inherits@NUCLEAR_TANKS: ^AffectedByNuclearTanks
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@UPGRADE: ^CanHavePRCVehicleUpgrades
	Inherits@URANIUM_SHELLS: ^AffectedByUraniumShells
	OwnerLostAction:
		Action: Kill
		RequiresCondition: !driver_killed || bunker_upgrade
	-OwnerLostAction@DRIVER_KILLED:
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !gatling_upgrade
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && !gatling_upgrade
	AutoTargetPriority@DEFAULT_GATLING:
		RequiresCondition: !stance-attackanything && !assault-move && gatling_upgrade
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@ATTACKANYTHING_GATLING:
		RequiresCondition: (stance-attackanything || assault-move) && gatling_upgrade
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Structure, Defense
		InvalidTargets: NoAutoTarget
	GivesExperience:
		Experience: 200
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			400: rank-veteran
			600: rank-veteran
			1200: rank-veteran
	FirepowerMultiplier@CHAIN_GUN:
		Types: gatling
	ReloadDelayMultiplier@Gatling1:
		RequiresCondition: gatling >= 1
		Types: gatling
		Modifier: 50
	ReloadDelayMultiplier@Gatling2:
		RequiresCondition: gatling >= 2
		Types: gatling
		Modifier: 50
	Buildable:
		Queue: queue.prc_vehicle, queue.nuke_gen_vehicle
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, !techlevel.notech
		Description: Big and slow tank.\n\nCan be upgraded to have either a bunker, a gatling cannon or a speaker tower.
		ReadyAudio: OverlordTankCreated
	Buildable@Boss:
		Queue: queue.boss_gen_vehicle
		BuildPaletteOrder: 9
		ForceIconLocation: true
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: !techlevel.notech
		Description: Big and slow tank.\n\nCan be upgraded to have either a bunker, a gatling cannon or a speaker tower.
		ReadyAudio: OverlordTankCreated
	Valued:
		Cost: 2000
	ProductionCostMultiplier@Tank:
		Queue: queue.tank_gen_vehicle
		Multiplier: 95 # 1900
	ProductionCostMultiplier@Nuke_ZH:
		Prerequisites: prerequisite.zh_units
		Queue: queue.nuke_gen_vehicle
		Multiplier: 88 # 550
	ProductionTimeMultiplier@Nuke:
		Queue: queue.nuke_gen_vehicle
		Multiplier: 108 # 675
	ProductionTimeMultiplier@ZH:
		Prerequisites: prerequisite.zh_units
		Queue: queue.prc_vehicle, queue.tank_gen_vehicle
		Multiplier: 80 # 500
	Tooltip:
		Name: Overlord Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 110000
	Armor:
		Type: vehicle.tank
	Production:
		Produces: queue.overlord_tank
		PauseOnCondition: emp || hacked || leaflet
		RequiresCondition: !bunker_upgrade && !gatling_upgrade && !speaker_upgrade && !driver_killed && !as_cargo && !in_tunnel
	ProductionQueue:
		Type: queue.overlord_tank
		QueueLimit: 1
		LowPowerModifier: 300
	ProductionBar:
		ProductionType: queue.overlord_tank
	Mobile:
		Speed: 20
		TurnSpeed: 12
		Voice: Move
		Locomotor: locomotor.overlord
		PauseOnCondition: notmobile || hacked || (driver_killed && !loaded) || emp || leaflet
	SpeedMultiplier@NUCLEAR_TANKS:
		Modifier: 150
	SpeedMultiplier@NUKE_GEN:
		Modifier: 200
	Turreted@Cannon:
		TurnSpeed: 12
	Turreted@Gatling:
		Turret: gatling
		TurnSpeed: 12
		Offset: 0,0,384
	Turreted@Bunker:
		Turret: bunker
		TurnSpeed: 1023
		Offset: 0,0,384
	Turreted@Speaker:
		Turret: speaker
		TurnSpeed: 1023
		Offset: 0,0,256
	Armament:
		Weapon: cannon.overlord_tank
		LocalOffset: 900,180,340, 900,-180,340
		Recoil: 171
		RecoilRecovery: 30
		MuzzleSequence: muzzle
		RequiresCondition: !nuke
	Armament@NukeCannon:
		Weapon: cannon.overlord_tank.nuke
		LocalOffset: 900,180,340, 900,-180,340
		Recoil: 171
		RecoilRecovery: 30
		MuzzleSequence: muzzle
		RequiresCondition: nuke
	Armament@GatlingAG:
		Weapon: gatling.gatling_cannon.ground
		Name: gatling
		Turret: gatling
		LocalOffset: 213,0,0
		MuzzleSequence: muzzle2
		RequiresCondition: gatling_upgrade
	Armament@GatlingAA:
		Weapon: gatling.gatling_cannon.air
		Name: gatling
		Turret: gatling
		LocalOffset: 213,0,0
		MuzzleSequence: muzzle2
		RequiresCondition: gatling_upgrade
	AttackTurreted:
		Armaments: gatling, primary
		Turrets: gatling, primary
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	AttackGarrisoned:
		PortOffsets: 384,0,128, 224,-341,128, -224,-341,128, -384,0,128, -224,341,128, 224,341,128
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed && bunker_upgrade
	WithMuzzleOverlay:
	WithSpriteTurret@Cannon:
	WithSpriteTurret@Bunker:
		Sequence: turret_bunker
		Turret: bunker
		RequiresCondition: bunker_upgrade
	WithSpriteTurret@Gatling:
		Sequence: turret_gatling
		Turret: gatling
		RequiresCondition: gatling_upgrade
	WithSpriteTurret@Speaker:
		Sequence: turret_speaker
		Turret: speaker
		RequiresCondition: speaker_upgrade
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
		RequiresCondition: gatling_upgrade
	ChangesHealth:
		Step: 100
		Delay: 3
		StartIfBelow: 50
		DamageCooldown: 150
	Cargo@BUNKER_UPGRADE:
		Types: Infantry, GLAInfantry, Hacker
		MaxWeight: 5
		EjectOnDeathDamage: 50
		OwnerChangedAffectsPassengers: false
		PauseOnCondition: hacked || emp || leaflet
		LoadingCondition: notmobile
		LoadedCondition: loaded
		RequiresCondition: bunker_upgrade
	WithCargoSounds:
		EnterSounds: ggarenta.wav, ggarentb.wav, ggarentc.wav
		ExitSounds: ggarexia.wav, ggarexib.wav, ggarexic.wav
	UnloadOnCondition@No_driver:
		RequiresCondition: driver_killed
	WithCargoPipsDecoration:
		RequiresCondition: bunker_upgrade
	SelectionDecorations:
	GrantConditionOnAttack@gatling:
		Condition: gatling
		ArmamentNames: gatling
		RequiredShotsPerInstance: 4
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
	WithRangeCircle:
		Type: speaker
		Range: 4c0
		Color: DD000066
		RequiresCondition: speaker_upgrade
	ProximityExternalCondition@SPEAKER:
		Condition: speaker_tower
		Range: 4c0
		RequiresCondition: speaker_upgrade
	AcceptsDeliveredExperience:
	ThrowsShrapnel@Turret:
		Weapons: debris.overlord_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
	ThrowsShrapnel@Gatling:
		Weapons: debris.gatling_tank
		Pieces: 1, 1
		Range: 1c0, 1c0
		RequiresCondition: gatling_upgrade
	ProducibleWithLevel@Tank:
		Factions: tank
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Tank:
		Types: Veterancy
		Prerequisites: prerequisite.tank_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: OverlordTankVoice
	Selectable:
		Class: vehicle.overlord_tank
		DecorationBounds: 1877, 1621, 0, -170
	ActorStatValues:
		Damage: 160
		Range: 4c384, 8c768
		Armaments: primary
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange
		Upgrades: upgrade.nuclear_tanks, upgrade.uranium_shells, upgrade.overlord_bunker, upgrade.overlord_gatling, upgrade.overlord_speaker
		LocalUpgrades: upgrade.overlord_bunker, upgrade.overlord_gatling, upgrade.overlord_speaker
	ActorStatOverride@Bunker:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, Cargo
		RequiresCondition: bunker_upgrade
	ActorStatOverride@Gatling:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		RequiresCondition: gatling_upgrade
	ActorStatOverride@Nuke:
		Upgrades: upgrade.isotope_stability, upgrade.overlord_bunker, upgrade.overlord_gatling, upgrade.overlord_speaker
		RequiresCondition: nuke

vehicle.emparor_overlord:
	Inherits: vehicle.overlord_tank
	Buildable:
		Queue: queue.tank_gen_vehicle, queue.prc_vehicle_merged
		Description: Big and slow tank.\n\nComes with a speaker tower.\n\nCan be upgraded to have a gatling cannon.
	Buildable@Boss:
		Queue: queue.boss_gen_vehicle_merged
		Description: Big and slow tank.\n\nComes with a speaker tower.\n\nCan be upgraded to have a gatling cannon.
	Tooltip:
		Name: Emperor Overlord
	Production:
		Produces: queue.emparor_overlord
		RequiresCondition: !bunker_upgrade && !gatling_upgrade && !speaker_upgrade && !driver_killed && !merged && !as_cargo && !in_tunnel
	Production@Merged:
		Produces: queue.emparor_overlord_merged
		PauseOnCondition: emp || hacked || leaflet
		RequiresCondition: !bunker_upgrade && !gatling_upgrade && !speaker_upgrade && !driver_killed && merged && !as_cargo && !in_tunnel
	ProductionQueue:
		Type: queue.emparor_overlord
		LowPowerModifier: 300
	ProductionQueue@Merged:
		Type: queue.emparor_overlord_merged
		QueueLimit: 1
		LowPowerModifier: 300
	ProductionBar:
		ProductionType: queue.emparor_overlord
	ProductionBar@Merged:
		ProductionType: queue.emparor_overlord_merged
	WithSpriteTurret@Speaker:
		-RequiresCondition:
	WithRangeCircle:
		-RequiresCondition:
	ProximityExternalCondition@SPEAKER:
		-RequiresCondition:
	ThrowsShrapnel@Turret:
		Weapons: debris.emperor_overlord
	Selectable:
		Class: vehicle.emparor_overlord
	Voiced:
		VoiceSet: EmparorOverlordVoice
	ActorStatValues:
		Upgrades: upgrade.subliminal_messaging, upgrade.nuclear_tanks, upgrade.uranium_shells, upgrade.overlord_gatling
	-ActorStatOverride@Nuke:

vehicle.bomb_truck:
	Inherits: ^Vehicle
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.palace
		Description: Suicide vehicle.\n\nCan be armed with toxin or high explosive bombs.\n\nGets speed from Scrap Crates.
		ReadyAudio: BombTruckCreated
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 20
		Prerequisites: AIDiscount
	ProductionTimeMultiplier@AI: ## AI cannot use it well
		Multiplier: 40
		Prerequisites: AIDiscount
	Valued:
		Cost: 1200
	ProductionCostMultiplier@Demo1:
		Queue: queue.demo_gen_vehicle, queue.gla_vehicle_merged
		Multiplier: 60 # 1000
	ProductionCostMultiplier@Demo2:
		Queue: queue.demo_gen_vehicle, queue.gla_vehicle_merged
		Multiplier: 139 # 1000
	-Tooltip:
	DisguiseTooltip:
		Name: Bomb Truck
		GenericName: Vehicle
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 22000
	Armor:
		Type: vehicle.truck
	Production:
		Produces: queue.bomb_truck, queue.toxin_gen_bomb_truck, queue.demo_gen_bomb_truck
		PauseOnCondition: emp || hacked || leaflet
		RequiresCondition: !(bio_bombs && hi_explosive_bombs) && !(bio_bombs && toxin) && !(hi_explosive_bombs && demo) && !driver_killed && !as_cargo && !in_tunnel
	ProductionQueue@Vanilla:
		Type: queue.bomb_truck
		Factions: usa, air, laser, super, gla, stealth, prc, inf, nuke, tank
		Group: Tech
		ItemLimit: 1
		QueueLimit: 2
		InstantCashDrain: true
		DisallowPaused: true
	ProductionQueue@Toxin:
		Type: queue.toxin_gen_bomb_truck
		Factions: toxin
		Group: Tech
		QueueLimit: 1
		InstantCashDrain: true
		DisallowPaused: true
	ProductionQueue@Demo:
		Type: queue.demo_gen_bomb_truck
		Factions: demo
		Group: Tech
		QueueLimit: 1
		InstantCashDrain: true
		DisallowPaused: true
	ProductionBar@Vanilla:
		ProductionType: queue.bomb_truck
	ProductionBar@Toxin:
		ProductionType: queue.toxin_gen_bomb_truck
	ProductionBar@Demo:
		ProductionType: queue.demo_gen_bomb_truck
	Exit:
	ProvidesPrerequisite@unitname:
	SelectionDecorations:
	Mobile:
		Speed: 50
		TurnSpeed: 16
		Voice: Move
	SpeedMultiplier@CRATE-1:
		Modifier: 110
		RequiresCondition: scrap_create_bonus == 1
	SpeedMultiplier@CRATE-2:
		Modifier: 120
		RequiresCondition: scrap_create_bonus == 2
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	DisguisingTurreted:
		TurnSpeed: 1023
	Explodes@Normal:
		Weapon: BombTruckExplosion
		EmptyWeapon: BombTruckExplosion
		RequiresCondition: !hi_explosive_bombs
	Explodes@BIO_BOMBS:
		Weapon: BombTruckExplosion.toxin
		EmptyWeapon: BombTruckExplosion.toxin
		RequiresCondition: bio_bombs && !anthrax_beta && !anthrax_gamma
	Explodes@ANTHRAX_BETA:
		Weapon: BombTruckExplosion.toxin_beta
		EmptyWeapon: BombTruckExplosion.toxin_beta
		RequiresCondition: bio_bombs && anthrax_beta && !anthrax_gamma
	Explodes@ANTHRAX_GAMMA:
		Weapon: BombTruckExplosion.toxin_gamma
		EmptyWeapon: BombTruckExplosion.toxin_gamma
		RequiresCondition: bio_bombs && anthrax_gamma
	Explodes@HI_EXPLOSIVE_BOMBS:
		Weapon: BombTruckExplosion.hi_exp
		EmptyWeapon: BombTruckExplosion.hi_exp
		RequiresCondition: hi_explosive_bombs
	AttackFrontal:
		FacingTolerance: 512
		RequiresCondition: !driver_killed
	Armament@PRIMARY:
		Damage: 1000
		Spread: 1c640
		Weapon: hack.suicide_targeting
		RequiresCondition: !hi_explosive_bombs
	Armament@HI_EXPLOSIVE_BOMBS:
		Damage: 2000
		Spread: 2c128
		Weapon: hack.suicide_targeting
		RequiresCondition: hi_explosive_bombs
	GrantConditionOnAttack:
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
		RequiresCondition: !driver_killed
	KillsSelf@Triggered:
		RequiresCondition: triggered
	ConditionPrerequisite@BIO_BOMBS:
		Queue: queue.bomb_truck, queue.toxin_gen_bomb_truck
		Actor: upgrade.bio_bombs
		PauseOnCondition: bio_bombs
	ConditionPrerequisite@HI_EXPLOSIVE_BOMBS:
		Queue: queue.bomb_truck, queue.demo_gen_bomb_truck
		Actor: upgrade.hi_explosive_bombs
		PauseOnCondition: hi_explosive_bombs
	GrantConditionOnProduction@BIO_BOMBS:
		Condition: bio_bombs
		Actors: upgrade.bio_bombs
	GrantConditionOnProduction@HI_EXPLOSIVE_BOMBS:
		Condition: hi_explosive_bombs
		Actors: upgrade.hi_explosive_bombs
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	GrantConditionOnFaction@Demo:
		Condition: demo
		Factions: demo
	-WithFacingSpriteBody:
	WithDisguisingFacingSpriteBody:
	WithDisguisingSpriteTurret:
	Disguise:
		Voice: Disguise
		DisguisedAsConditions:
			vehicle.radar_van: radar_van
			vehicle.listening_outpost: listening_outpost
			vehicle.attack_outpost: listening_outpost
			vehicle.usa_mcc: usa_mcc
			vehicle.gla_mcc: gla_mcc
			vehicle.prc_mcc: prc_mcc
			vehicle.tech_mcc: tech_mcc
	WithIdleOverlay@RADAR_VAN_SPINNER:
		Sequence: radar_van_spinner
		Offset: -256,0,256
		RequiresCondition: radar_van
	WithIdleOverlay@LISTENING_OUTPOST_SPINNER:
		Sequence: radar_van_spinner
		Offset: -256,0,256
		PauseOnCondition: moving
		RequiresCondition: listening_outpost
	GrantConditionOnMovement:
		Condition: moving
	WithTextDecoration@SIDE_USA:
		Text: USA
		Position: Top
		Margin: 0, 5
		Color: 0000FF
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: usa_mcc
	WithTextDecoration@SIDE_GLA:
		Text: GLA
		Position: Top
		Margin: 0, 5
		Color: 00FF00
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: gla_mcc
	WithTextDecoration@SIDE_PRC:
		Text: PRC
		Position: Top
		Margin: 0, 5
		Color: FF0000
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: prc_mcc
	WithTextDecoration@SIDE_TECH:
		Text: TECH
		Position: Top
		Margin: 0, 5
		Color: 888888
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: tech_mcc
	RenderSprites:
		Image: vehicle.bomb_truck
	Voiced:
		VoiceSet: BombTruckVoice
	Selectable:
		Class: vehicle.bomb_truck
		DecorationBounds: 1792, 1792
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, Spread
		Upgrades: upgrade.anthrax_beta, upgrade.junk_repair, upgrade.bio_bombs, upgrade.hi_explosive_bombs
		LocalUpgrades: upgrade.bio_bombs, upgrade.hi_explosive_bombs
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma, upgrade.junk_repair, upgrade.bio_bombs
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.junk_repair, upgrade.hi_explosive_bombs
		RequiresCondition: demo

vehicle.nuke_cannon:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-1:
		Modifier: 200
		RequiresCondition: rank-veteran == 1
	GivesExperienceMultiplier@RANK-2:
		Modifier: 400
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 800
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			400: rank-veteran
			600: rank-veteran
			1000: rank-veteran
	Buildable:
		Queue: queue.prc_vehicle, queue.inf_gen_vehicle
		BuildPaletteOrder: 10
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, prerequisite.nuke_cannon
		Description: Heavy artillery unit armed with nuclear warheads.\n\nShould be not moving for 3 seconds to fire.\n\nCan not move for 3 seconds after firing.
		ReadyAudio: NukeCannonCreated
	Buildable@Nuke:
		Queue: queue.nuke_gen_vehicle, queue.prc_vehicle_merged
		BuildPaletteOrder: 10
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center
		Description: Heavy artillery unit armed with nuclear warheads.\n\nShould be not moving for 3 seconds to fire.\n\nCan not move for 3 seconds after firing.
		ReadyAudio: NukeCannonCreated
	Valued:
		Cost: 1600
	Tooltip:
		Name: Nuke Cannon
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 24000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 20
		TurnSpeed: 16
		Voice: Move
		PauseOnCondition: hacked || driver_killed || emp || leaflet || immobile
	SpeedMultiplier@DAMAGED:
		Modifier: 90
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Turreted:
		TurnSpeed: 12
		Offset: 0,0,160
	Selectable:
		DecorationBounds: 1877, 1621, 0, -170
		Class: vehicle.nuke_cannon
	Armament@Nuke:
		Weapon: cannon.nuke_cannon
		LocalOffset: 624,0,208
		Recoil: 200
		RecoilRecovery: 30
		MuzzleSequence: muzzle
		RequiresCondition: !neutron
		PauseOnCondition: !ammo || moving || !deployed
	Armament@Neutron:
		Weapon: cannon.nuke_cannon.neutron
		LocalOffset: 624,0,208
		Recoil: 200
		RecoilRecovery: 30
		MuzzleSequence: muzzle
		RequiresCondition: neutron
		PauseOnCondition: !ammo || moving || !deployed
	GrantConditionOnAttack@Immobile:
		Condition: immobile
		RequiredShotsPerInstance: 1
		MaximumInstances: 1
		RevokeDelay: 75
		RevokeAll: true
		IsCyclic: false
	Explodes:
		Weapon: explosion.nuke_cannon
		EmptyWeapon: explosion.nuke_cannon
	AmmoPool:
		Name: primary
		Armaments: primary
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		AmmoPool: primary
		Delay: 250
		Count: 1
	AutoTarget:
		ScanRadius: 8
	-Passenger:
	AttackTurreted:
		TargetFrozenActors: true
		PauseOnCondition: hacked || emp || leaflet
		RequiresCondition: !driver_killed
	WithMuzzleOverlay:
	WithSpriteTurret:
	SelectionDecorations:
	ProducibleWithLevel:
		Prerequisites: generals_power.arty_training
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: generals_power.arty_training
	AcceptsDeliveredExperience:
	GrantConditionOnPrerequisite@NEUTRON_SHELLS:
		Condition: neutron_shells
		Prerequisites: upgrade.neutron_shells
	GrantConditionOnDeploy@NEUTRON_SHELLS:
		DeployedCondition: neutron
		RequiresCondition: neutron_shells
	GrantConditionOnMovement:
		Condition: moving
	GrantConditionAfterDelay:
		Condition: deployed
		Delay: 75
		ShowSelectionBar: false
		RequiresCondition: !moving
	ThrowsShrapnel:
		Weapons: debris.nuke_cannon
		Pieces: 1, 1
		Range: 1c0, 1c0
	WithDecoration@NUKE:
		Image: pips
		Sequence: pip-nuke
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		RequiresCondition: neutron_shells && !neutron
	WithDecoration@NEUTRON:
		Image: pips
		Sequence: pip-neutron
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		RequiresCondition: neutron_shells && neutron
	RenderSprites:
		Image: vehicle.nuke_cannon
	Voiced:
		VoiceSet: NukeCannonVoice
	ActorStatValues:
		Damage: 400
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.neutron_shells
	AutoDeployer@AI:
		RequiresCondition: bot_owner && neutron_shells
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 500
		UndeployTicks: 500

vehicle.combat_cycle:
	Inherits: ^Vehicle
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@CARGO: ^CargoPips
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	OwnerLostAction:
		Action: Kill
		-RequiresCondition:
	-OwnerLostAction@DRIVER_KILLED:
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !rpg
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && !rpg
	AutoTargetPriority@DEFAULT_GATLING:
		RequiresCondition: !stance-attackanything && !assault-move && rpg
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@ATTACKANYTHING_GATLING:
		RequiresCondition: (stance-attackanything || assault-move) && rpg
		ValidTargets: Infantry, Vehicle, Tank, Water, Underwater, AirborneActor, Structure, Defense
		InvalidTargets: NoAutoTarget
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			400: rank-veteran
			800: rank-veteran
	FirepowerMultiplier@AP_BULLETS:
		Types: mg, sniper_rifle, driver_snipe
	FirepowerMultiplier@AP_ROCKETS:
		Types: ag_rocket, aa_rocket
	Buildable:
		Queue: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.stealth_gen_vehicle, queue.gla_vehicle_merged, queue.boss_gen_vehicle_merged
		BuildPaletteOrder: 10
		ForceIconLocation: true
		BuildDuration: 100
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.zh_units
		Description: Fast scout vehicle with weapon depending on passenger.\n\nComes with a rebel.
		ReadyAudio: CycleCreated
	Buildable@Demo:
		Queue: queue.demo_gen_vehicle, queue.boss_gen_vehicle
		BuildPaletteOrder: 10
		ForceIconLocation: true
		BuildDuration: 100
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.zh_units
		Description: Fast scout vehicle with weapon depending on passenger.\n\nComes with a terrorist.
		ReadyAudio: CycleCreated
	Valued:
		Cost: 500
	ProductionCostMultiplier@Toxin:
		Queue: queue.demo_gen_vehicle, queue.toxin_gen_vehicle, queue.stealth_gen_vehicle
		Multiplier: 110 # 550
	ProductionTimeMultiplier@Demo:
		Queue: queue.demo_gen_vehicle
		Multiplier: 125 # 125
	ProductionTimeMultiplier@Boss:
		Queue: queue.boss_gen_vehicle
		Multiplier: 200 # 200
	Tooltip:
		Name: Combat Cycle
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 10000
	Armor:
		Type: vehicle.truck
	Selectable:
		Class: vehicle.combat_cycle
	Mobile:
		Speed: 120
		TurnSpeed: 20
		Voice: Move
		Locomotor: locomotor.sentry_drone
		PauseOnCondition: notmobile || hacked || emp || leaflet || !loaded
	SpeedMultiplier@DAMAGED:
		Modifier: 89
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Armament@Rebel:
		Name: mg
		Weapon: mg.rebel.bike
		Damage: 48
		RequiresCondition: rebel
	Armament@RPG_G:
		Name: ag_rocket
		Weapon: missile.rpg_trooper.ground
		Damage: 40
		RequiresCondition: rpg
	Armament@RPG_A:
		Name: aa_rocket
		Weapon: missile.rpg_trooper.air
		RequiresCondition: rpg
	Armament@Terrorist:
		Name: terror
		Damage: 800
		Spread: 1c256
		Weapon: hack.suicide_targeting
		RequiresCondition: terrorist || toxin_terrorist
	Armament@Jarmen:
		Name: sniper_rifle
		Weapon: sniper.jarmen_kell.bike
		Damage: 180
		RequiresCondition: jarmen
	Armament@Jarmen_Snipe:
		Name: driver_snipe
		Weapon: sniper.jarmen_kell.vehicle
		PauseOnCondition: !ammo
		RequiresCondition: jarmen
	GrantConditionOnAttack:
		ArmamentNames: terror
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
		RequiresCondition: terrorist && !hacked && !emp && !leaflet
	Explodes@Terrorist:
		Weapon: explosion.terrorist.bike
		EmptyWeapon: explosion.terrorist.bike
		DeathTypes: Suicide
		RequiresCondition: (terrorist || toxin_terrorist) && !demo
	Explodes@TerroristDemo:
		Weapon: explosion.terrorist.demo.bike
		EmptyWeapon: explosion.terrorist.demo.bike
		DeathTypes: Suicide
		RequiresCondition: (terrorist || toxin_terrorist) && demo
	Explodes@Terrorist_Toxin:
		Weapon: explosion.terrorist.toxin
		EmptyWeapon: explosion.terrorist.toxin
		RequiresCondition: toxin_terrorist && !anthrax_beta && !anthrax_gamma
	Explodes@Terrorist_Toxin_Beta:
		Weapon: explosion.terrorist.toxin_beta
		EmptyWeapon: explosion.terrorist.toxin_beta
		RequiresCondition: toxin_terrorist && anthrax_beta && !anthrax_gamma
	Explodes@Terrorist_Toxin_Gamma:
		Weapon: explosion.terrorist.toxin_gamma
		EmptyWeapon: explosion.terrorist.toxin_gamma
		RequiresCondition: toxin_terrorist && anthrax_gamma
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	KillsSelf@Triggered:
		DamageTypes: Suicide
		RequiresCondition: triggered
	AttackFrontal:
		Armaments: mg, ag_rocket, aa_rocket, terror, sniper_rifle, driver_snipe
		PauseOnCondition: hacked || emp || leaflet
		FacingTolerance: 0
	AmmoPool:
		Ammo: 1
		Armaments: driver_snipe
		Name: driver_snipe
		AmmoCondition: ammo
	ReloadAmmoPool:
		AmmoPool: driver_snipe
		Delay: 750
	Cargo:
		Types: GLAInfantry
		MaxWeight: 1
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		ReplaceFirstWhenFull: true
		EjectOnDeathDamage: 100
		LoadingCondition: notmobile
		LoadedCondition: loaded
		PauseOnCondition: hacked || emp || leaflet
		PassengerConditions:
			infantry.worker: worker
			infantry.rebel: rebel
			infantry.toxin_rebel: rebel
			infantry.rpg_trooper: rpg
			infantry.terrorist: terrorist
			infantry.toxin_terrorist: toxin_terrorist
			infantry.hijacker: hijacker
			infantry.saboteur: saboteur
			infantry.jarmen_kell: jarmen
			infantry.jarmen_kell.demo: jarmen
	FreePassenger@rebel:
		Actors: infantry.rebel
		RequiresCondition: !toxin && !demo && !boss
	FreePassenger@toxin_rebel:
		Actors: infantry.toxin_rebel
		RequiresCondition: toxin
	FreePassenger@terrorist:
		Actors: infantry.terrorist
		RequiresCondition: demo || boss
	WithCargoSounds:
		EnterSounds: vcycswia.wav
	WithFacingSpriteBody:
		Name: other
		Sequence: idle-other
		RequiresCondition: loaded && !(rebel || rpg || jarmen)
	WithFacingSpriteBody@Gun:
		Name: gun
		Sequence: idle-gun
		RequiresCondition: rebel || jarmen
	WithFacingSpriteBody@Rocket:
		Name: rocket
		Sequence: idle-rocket
		RequiresCondition: rpg
	WithAttackAnimation@MG:
		Body: gun
		Armament: mg
		Sequence: shoot-gun
		RequiresCondition: rebel
	WithAttackAnimation@RPG_G:
		Body: rocket
		Armament: ag_rocket
		Sequence: shoot-rocket
		RequiresCondition: rpg
	WithAttackAnimation@RPG_A:
		Body: rocket
		Armament: aa_rocket
		Sequence: shoot-rocket
		RequiresCondition: rpg
	WithAttackAnimation@Sniper:
		Body: gun
		Armament: sniper_rifle
		Sequence: shoot-gun
		RequiresCondition: jarmen
	WithAttackAnimation@DriverSnipe:
		Body: gun
		Armament: driver_snipe
		Sequence: shoot-gun
		RequiresCondition: jarmen
	WithDecoration@Rebel:
		Image: pips
		Sequence: pip-bike-rebel
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: rebel
	WithDecoration@RPG:
		Image: pips
		Sequence: pip-bike-rpg
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: rpg
	WithDecoration@Terrorist:
		Image: pips
		Sequence: pip-bike-terror
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: terrorist || toxin_terrorist
	WithDecoration@Jarmen:
		Image: pips
		Sequence: pip-bike-kell
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: jarmen
	WithDecoration@Saboteur:
		Image: pips
		Sequence: pip-bike-sabot
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: saboteur
	WithDecoration@Worker:
		Image: pips
		Sequence: pip-bike-worker
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: worker
	WithDecoration@Hijacker:
		Image: pips
		Sequence: pip-bike-hijacker
		Palette: effect
		Position: TopRight
		Margin: 5, 5
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: hijacker
	Cloak:
		InitialDelay: 200
		CloakDelay: 100
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && ((camouflage && rebel) || jarmen || hijacker || saboteur)
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnFaction@CAMOUFLAGE:
		Condition: camouflage
		Factions: stealth
	GrantConditionOnPrerequisite@CAMOUFLAGE:
		Condition: camouflage
		Prerequisites: upgrade.camouflage
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	AcceptsDeliveredExperience:
	Targetable:
		TargetTypes: GroundActor, Vehicle, DetonateAttack
	KillsSelf:
		RequiresCondition: driver_killed
	KillsSelf@Empty:
		Delay: 1
		RequiresCondition: !loaded
	RenderSprites:
		Image: vehicle.combat_cycle
	Voiced:
		VoiceSet: CycleVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
	ActorStatOverride@RPG:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		RequiresCondition: rpg
	ActorStatOverride@Terrorist:
		Stats: Armor, Sight, Speed, Damage, Spread
		RequiresCondition: terrorist || toxin_terrorist
	ActorStatOverride@NoWeapon:
		Stats: Armor, Sight, Speed
		RequiresCondition: saboteur || worker || hijacker
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair
	ActorStatOverride@Boss:
		Upgrades:
		RequiresCondition: boss

^default.mcc:
	Inherits: ^Vehicle
	Inherits@PILOT: ^Pilot-NonUSVehicle
	Inherits@REVEAL: ^Reveal200
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	Buildable:
		BuildPaletteOrder: 0
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Description: Builds structures.\n\nCan be deployed to disarm enemy bombs, demo traps or mines.
	Valued:
		Cost: 1000
	Selectable:
		Priority: 4
		DecorationBounds: 1792, 1792
	SelectionDecorations:
	Health:
		HP: 25000
	Armor:
		Type: vehicle.tank
	Mobile:
		Speed: 25
		TurnSpeed: 16
		Voice: Move
		PauseOnCondition: hacked || driver_killed || emp || leaflet || deployed
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	GivesBuildableArea@player:
		AreaTypes: building
		OnlyAllowPlacementFromSelf: true
		RequiresCondition: !bot_owner
	GivesBuildableArea@AI: ## Avoid AI building blocked
		AreaTypes: building
		RequiresCondition: bot_owner
	ProvidesPrerequisite@vehiclename:
	WithTextDecoration@SIDE:
		Text:
		Position: Top
		Margin: 0, 5
		ValidRelationships: Ally, Neutral, Enemy
	GrantTimedConditionOnDeploy@DISARM:
		DeployedCondition: deployed
		ShowSelectionBar: false
		DeployedTicks: 50
		CooldownTicks: 25
		Voice: Disarm
		RequiresCondition: !hacked && !driver_killed && !emp && !leaflet
	GrantConditionOnMovement:
		Condition: moving
	DetectCloaked:
		DetectionTypes: Mine
		Range: 4c0
	PeriodicExplosion@DISARM:
		Weapon: detach.mcc
		RequiresCondition: deployed
	WithRangeCircle@DISARM:
		Range: 4c0
		Color: CC550066
	Wanders@AI:
		WanderMoveRadius: 4
		MinMoveDelay: 1000
		MaxMoveDelay: 1750
		RequiresCondition: bot_owner
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	ActorStatValues:
		Stats: Armor, Sight, Speed

vehicle.usa_mcc:
	Inherits: ^default.mcc
	Buildable:
		Queue: queue.usa_command_center
		ReadyAudio: USAMCCCreated
	Tooltip:
		Name: USA Construction Vehicle
	Production:
		Produces: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && !merged && !as_cargo && !in_tunnel
	Production@Merged:
		Produces: queue.usa_building_merged
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && merged && !as_cargo && !in_tunnel
	ProductionBar@USA_BUILDING:
		ProductionType: queue.usa_building
	ProductionBar@AIR_BUILDING:
		ProductionType: queue.air_gen_building
	ProductionBar@LASER_BUILDING:
		ProductionType: queue.laser_gen_building
	ProductionBar@SUPER_BUILDING:
		ProductionType: queue.super_gen_building
	ProductionBar@MERGED_BUILDING:
		ProductionType: queue.usa_building_merged
	ProductionQueue@USA_BUILDING:
		Type: queue.usa_building
		Factions: usa, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: USABuilding
		CannotPlaceAudio: USABuildingCannotPlaceAudio
		ReadyAudio: USAConstructionComplete
		DisplayOrder: 1
	ProductionQueue@AIR_BUILDING:
		Type: queue.air_gen_building
		Factions: air
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: USABuilding
		CannotPlaceAudio: USABuildingCannotPlaceAudio
		ReadyAudio: USAConstructionComplete
		DisplayOrder: 2
	ProductionQueue@LASER_BUILDING:
		Type: queue.laser_gen_building
		Factions: laser
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: USABuilding
		CannotPlaceAudio: USABuildingCannotPlaceAudio
		ReadyAudio: USAConstructionComplete
		DisplayOrder: 3
	ProductionQueue@SUPER_BUILDING:
		Type: queue.super_gen_building
		Factions: super
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: USABuilding
		CannotPlaceAudio: USABuildingCannotPlaceAudio
		ReadyAudio: USAConstructionComplete
		DisplayOrder: 4
	ProductionQueue@USA_BUILDING_MERGED:
		Type: queue.usa_building_merged
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: USABuilding
		CannotPlaceAudio: USABuildingCannotPlaceAudio
		ReadyAudio: USAConstructionComplete
		DisplayOrder: 5
	Voiced:
		VoiceSet: USAMCCVoice
	Mobile:
		CanMoveBackward: true
		MaxBackwardCells: 2
		BackwardDuration: -1
	WithTextDecoration@SIDE:
		Text: USA
		Color: 0000FF

vehicle.gla_mcc:
	Inherits: ^default.mcc
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@JUNK_REPAIR: ^AffectedByJunkRepair
	Inherits@SCRAP: ^AffectedByScrapCratePowerups
	Buildable:
		Queue: queue.gla_command_center, queue.stealth_gen_command_center
		ReadyAudio: WorkerCreated
		Description: Builds structures.\n\nCan be deployed to disarm enemy bombs, demo traps or mines.\n\nGets better armor from Scrap Crates.
	Tooltip:
		Name: GLA Construction Vehicle
	Production:
		Produces: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && !merged && !as_cargo && !in_tunnel
	Production@Merged:
		Produces: queue.gla_building_merged
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && merged && !as_cargo && !in_tunnel
	ProductionBar@GLA_BUILDING:
		ProductionType: queue.gla_building
	ProductionBar@TOXIN_BUILDING:
		ProductionType: queue.toxin_gen_building
	ProductionBar@DEMO_BUILDING:
		ProductionType: queue.demo_gen_building
	ProductionBar@GLA_BUILDING_MERGED:
		ProductionType: queue.gla_building_merged
	ProductionQueue@GLA_BUILDING:
		Type: queue.gla_building
		Factions: usa, air, laser, super, gla, stealth, prc, inf, nuke, tank, boss
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		QueuedAudio: GLABuilding
		CannotPlaceAudio: GLABuildingCannotPlaceAudio
		ReadyAudio: GLAConstructionComplete
		DisplayOrder: 6
	ProductionQueue@TOXIN_BUILDING:
		Type: queue.toxin_gen_building
		Factions: toxin
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		QueuedAudio: GLABuilding
		CannotPlaceAudio: GLABuildingCannotPlaceAudio
		ReadyAudio: GLAConstructionComplete
		DisplayOrder: 7
	ProductionQueue@DEMO_BUILDING:
		Type: queue.demo_gen_building
		Factions: demo
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		QueuedAudio: GLABuilding
		CannotPlaceAudio: GLABuildingCannotPlaceAudio
		ReadyAudio: GLAConstructionComplete
		DisplayOrder: 8
	ProductionQueue@GLA_BUILDING_MERGED:
		Type: queue.gla_building_merged
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		QueuedAudio: GLABuilding
		CannotPlaceAudio: GLABuildingCannotPlaceAudio
		ReadyAudio: GLAConstructionComplete
		DisplayOrder: 9
	Voiced:
		VoiceSet: WorkerWithShoesVoice
	WithTextDecoration@SIDE:
		Text: GLA
		Color: 00FF00
	DamageMultiplier@CRATE-1:
		RequiresCondition: scrap_create_bonus >= 1
		Modifier: 83
	DamageMultiplier@CRATE-2:
		RequiresCondition: scrap_create_bonus == 2
		Modifier: 86
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.junk_repair

vehicle.prc_mcc:
	Inherits: ^default.mcc
	Inherits@REVEAL: ^Reveal300
	Buildable:
		Queue: queue.prc_command_center
		ReadyAudio: PRCMCCCreated
	Tooltip:
		Name: PRC Construction Vehicle
	Production:
		Produces: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.boss_gen_building
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && !merged && !as_cargo && !in_tunnel
	Production@Merged:
		Produces: queue.prc_building_merged, queue.boss_gen_building_merged
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && merged && !as_cargo && !in_tunnel
	ProductionBar@PRC_BUILDING:
		ProductionType: queue.prc_building
	ProductionBar@INF_BUILDING:
		ProductionType: queue.inf_gen_building
	ProductionBar@NUKE_BUILDING:
		ProductionType: queue.nuke_gen_building
	ProductionBar@PRC_BUILDING_MERGED:
		ProductionType: queue.prc_building_merged
	ProductionBar@BOSS_BUILDING:
		ProductionType: queue.boss_gen_building
	ProductionBar@BOSS_BUILDING_MERGED:
		ProductionType: queue.boss_gen_building_merged
	ProductionQueue@PRC_BUILDING:
		Type: queue.prc_building
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, tank
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 9
	ProductionQueue@INF_BUILDING:
		Type: queue.inf_gen_building
		Factions: inf
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 10
	ProductionQueue@NUKE_BUILDING:
		Type: queue.nuke_gen_building
		Factions: nuke
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 11
	ProductionQueue@PRC_BUILDING_MERGED:
		Type: queue.prc_building_merged
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 12
	ProductionQueue@BOSS_BUILDING:
		Type: queue.boss_gen_building
		Factions: boss
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 13
	ProductionQueue@BOSS_BUILDING_MERGED:
		Type: queue.boss_gen_building_merged
		Factions: boss
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: PRCBuilding
		CannotPlaceAudio: PRCBuildingCannotPlaceAudio
		ReadyAudio: PRCConstructionComplete
		DisplayOrder: 14
	Voiced:
		VoiceSet: PRCMCCVoice
	WithTextDecoration@SIDE:
		Text: PRC
		Color: FF0000

# debug unit, not normally buildable
vehicle.tech_mcc:
	Inherits: ^default.mcc
	Inherits@REVEAL: ^Reveal300
	Buildable:
		Queue: queue.disabled
	Tooltip:
		Name: Tech Construction Vehicle
	Production:
		Produces: queue.tech_building
		PauseOnCondition: emp || leaflet || hacked || moving || deployed
		RequiresCondition: !driver_killed && !as_cargo && !in_tunnel
	ProductionBar@TECH_BUILDING:
		ProductionType: queue.tech_building
	ProductionQueue@TECH_BUILDING:
		Type: queue.tech_building
		Group: Building
		InstantCashDrain: true
		DisallowPaused: true
		LowPowerModifier: 200
		QueuedAudio: Building
		CannotPlaceAudio: BuildingCannotPlaceAudio
		ReadyAudio: ConstructionComplete
		DisplayOrder: 99
	WithTextDecoration@SIDE:
		Text: TECH
		Color: 888888

# used by laser general in no base mode
vehicle.mobile_reactor:
	Inherits: ^Vehicle
	Inherits@DRONE: ^CanHaveDrones
	Inherits@PILOT: ^Pilot-USVehicle
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Buildable:
		Queue: queue.laser_gen_vehicle, queue.usa_vehicle_merged
		BuildPaletteOrder: 11
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: ~disabled
		Description: Provides power for Laser Tanks.
	Valued:
		Cost: 800
	Tooltip:
		Name: Mobile Reactor
	Health:
		HP: 22000
	Armor:
		Type: vehicle.truck
	Mobile:
		Speed: 30
		TurnSpeed: 32
	SpeedMultiplier@DAMAGED:
		Modifier: 83
	WithIdleOverlay@SPINNER:
		Offset: -299,0,171
		Sequence: spinner
	Crushable:
		WarnProbability: 0
		CrushClasses: vehicle
	Power:
		Amount: 5
	Voiced:
		VoiceSet: VehicleVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Power
