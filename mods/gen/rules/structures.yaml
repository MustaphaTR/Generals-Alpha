^default.command_center:
	Inherits: ^Building
	Inherits@REVEAL: ^Reveal300
	Inherits@SABOTAGE: ^CanBeSabotaged
	GivesExperience:
		Experience: 200
	RevealsShroudToIntelligenceOwner@SATELLITE_HACK1:
		Types: SatelliteHack1
		Range: 6c256
	Building:
		Footprint: xxX xxx XxX
		Dimensions: 3,3
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged, queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged, queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildDuration: 1125
		BuildDurationModifier: 100
		Prerequisites: !techlevel.nocc
	Health:
		HP: 500000
	Armor:
		Type: building.tough
	Selectable:
		Bounds: 3072, 3072
	WithBuildingBib:
	BaseBuilding:
	Exit@1:
		SpawnOffset: 768,768,0
		ExitCell: 2,3
	Exit@2:
		SpawnOffset: 768,768,0
		ExitCell: 3,2
	Exit@3:
		SpawnOffset: 768,768,0
		ExitCell: 3,3
	Valued:
		Cost: 2000
	CustomSellValue:
		Value: 2000
	WithBuildingPlacedAnimation:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.command_center
	GrantConditionOnInfiltration:
		Duration: 250
	RallyPoint:
		Path: 3,3
	CommandBarBlacklist:
		DisableStop: false
	WithTextDecoration@SIDE:
		Text:
		Position: Top
		Margin: 0, 5
		ValidRelationships: Ally, Neutral, Enemy
	HitShape:
		TargetableOffsets: 1273,939,0, -980,-640,0, -980,640,0
	InfiltrateForSupportPowerReset:
		Types: Sabotage

building.usa_command_center:
	Inherits: ^default.command_center
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 12
		Description: actor-building-usa-command-center.description
		ReadyTextNotification: Construction Complete: USA Command Center
	Tooltip:
		Name: actor-building-usa-command-center.name
	Voiced:
		VoiceSet: USACommandCenterVoice
	Building:
		Footprint: XXX xxx XXX
	Selectable:
		Bounds: 3072, 2730
	Production:
		Produces: queue.usa_command_center
		PauseOnCondition: emp || hacked || sabotaged
	ProductionBar@USA_COMMAND_CENTER:
		ProductionType: queue.usa_command_center
	ProductionQueue@USA_COMMAND_CENTER:
		Type: queue.usa_command_center
		Group: Command
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 12
	SpawnActorPower@SPY_DRONE:
		PauseOnCondition: emp || hacked || sabotaged
		OrderName: SpyDronePowerInfoOrder
		Names:
			1: Spy Drone
		Descriptions:
			1: Spawns a Spy Drone anywhere on the map.
		Prerequisites:
			1: generals_power.spy_drone
		Icons:
			1: spy_drone
		BlockedCursor: move-blocked
		ChargeInterval: 1500
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: aircraft.spy_drone
		LifeTime: -1
		EffectSequence: idle
		SelectTargetSpeechNotification: SelectTarget
	SpawnActorPower@SPY_SATELLITE:
		PauseOnCondition: emp || hacked || sabotaged
		OrderName: SpySatellitePowerInfoOrder
		Names:
			1: Spy Satellite
		Descriptions:
			1: Reveals are large area of map for a while.\n\nAlso detects cloaked units in that area.
		Prerequisites:
			1: building.usa_command_center
		Icons:
			1: spy_satellite
		BlockedCursor: move-blocked
		ChargeInterval: 1500
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: camera.spy_satellite
		LifeTime: 300
		EffectSequence: idle
		SelectTargetSpeechNotification: SelectTarget
	ParatroopersPower@PARADROP:
		PauseOnCondition: emp || hacked || sabotaged
		OrderName: ParadropPowerInfoOrder
		Names:
			1: ParaDrop
			2: ParaDrop
			3: ParaDrop
		Descriptions:
			1: A B-52 drops 5 Rangers\nanywhere on the map.
			2: 2 B-52s drop total of 10 Rangers\nanywhere on the map.
			3: 4 B-52s drop total of 20 Rangers\nanywhere on the map.
		Prerequisites:
			1: generals_power.paradrop1
			2: generals_power.paradrop2
			3: generals_power.paradrop3
		Icons:
			1: paradrop1
			2: paradrop2
			3: paradrop3
		ChargeInterval: 6000
		StartFullyChargedForTheFirstTime: true
		DisplayBeacon: true
		BeaconPosters:
			1: paradrop1
			2: paradrop2
			3: paradrop3
		UnitTypes:
			1: aircraft.badger.paradrop
			2: aircraft.badger.paradrop
			3: aircraft.badger.paradrop
		DropItems:
			1: infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger
			2: infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger
			3: infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger, infantry.ranger
		SquadSizes:
			1: 1
			2: 2
			3: 4
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SelectTargetSpeechNotification: SelectTarget
	AirstrikePower@A10:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.a101
			2: generals_power.a102
			3: generals_power.a103
		Icons:
			1: a101
			2: a102
			3: a103
		ChargeInterval: 6000
		SquadSizes:
			1: 1
			2: 2
			3: 3
		QuantizedFacings: 8
		Names:
			1: A-10 Strike
			2: A-10 Strike
			3: A-10 Strike
		Descriptions:
			1: 1 A-10 Thunderbolt strikes anywhere on the map.
			2: 2 A-10 Thunderbolts strike anywhere on the map.
			3: 3 A-10 Thunderbolts strike anywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.a10
			2: aircraft.a10
			3: aircraft.a10
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: a101
			2: a102
			3: a103
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: A10PowerInfoOrder
	AirstrikePower@FUEL_AIR_BOMB:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: prerequisite.fuel_air_bomb
			2: upgrade.moab
		Icons:
			1: fuel_air_bomb
			2: moab
		ChargeInterval: 9000
		SquadSizes:
			1: 1
			2: 1
		QuantizedFacings: 8
		Names:
			1: Fuel Air Bomb
			2: Mother of All Bombs
		Descriptions:
			1: A B-52 drops a Fuel Air Bomb at the target.
			2: A B-2 drops a Mother of All Bombs at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.fuel_air_bomb
			2: aircraft.b2
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: fuel_air_bomb
			2: moab
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: FuelAirBombPowerInfoOrder
	AirstrikePower@LEAFLET_DROP:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.leaflet_drop
		Icons:
			1: leaflet_drop
		ChargeInterval: 7500
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Leaflet Drops
		Descriptions:
			1: A B-52 drops Leaflets at the target, disabling enemy vehicles and infantry.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.leaflet
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: leaflet_drop
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: LeafletDropPowerInfoOrder
	WithDeathAnimation:
		DeathSequencePalette: cncplayer
	WithTextDecoration@SIDE:
		Text: USA
		Color: 0000FF
	WithIdleOverlay@USA:
		Sequence: idle-usa
		Palette: player
		RequiresCondition: !build-incomplete && !air && !laser && !super
	WithIdleOverlay@Air:
		Sequence: idle-air
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && air
	WithIdleOverlay@Laser:
		Sequence: idle-laser
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && laser
	WithIdleOverlay@Super:
		Sequence: idle-super
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && super
	GrantConditionOnFaction@Air:
		Condition: air
		Factions: air
	GrantConditionOnFaction@Laser:
		Condition: laser
		Factions: laser
	GrantConditionOnFaction@Super:
		Condition: super
		Factions: super
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	ProvidesRadar:
		RequiresCondition: !emp && !hacked && !lowpower && !sabotaged
	RenderSprites:
		PlayerPalette: cncplayer
	HitShape:
		TargetableOffsets: 768,1024,0, 768,-1024,0, 768,0,0, -896,0,0

building.gla_command_center:
	Inherits: ^default.command_center
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 10
		Description: actor-building-gla-command-center.description
		ReadyTextNotification: Construction Complete: GLA Command Center
	Tooltip:
		Name: actor-building-gla-command-center.name
	Voiced:
		VoiceSet: GLACommandCenterVoice
	Production:
		Produces: queue.gla_command_center
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !stealth && !merged
	Production@Stealth_or_Merged:
		Produces: queue.stealth_gen_command_center
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: stealth || merged
	ProductionQueue@Vanilla:
		Type: queue.gla_command_center
		Group: Command
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 13
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_command_center
		Group: Command
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 14
	ProductionBar@Vanilla:
		ProductionType: queue.gla_command_center
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_command_center
	SpawnActorPower@AMBUSH:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: hack.rebel_spawner.4
			2: hack.rebel_spawner.8
			3: hack.rebel_spawner.16
		Prerequisites:
			1: generals_power.ambush1
			2: generals_power.ambush2
			3: generals_power.ambush3
		LifeTime: 2
		ChargeInterval: 6000
		Icons:
			1: ambush1
			2: ambush2
			3: ambush3
		Names:
			1: Rebel Ambush
			2: Rebel Ambush
			3: Rebel Ambush
		Descriptions:
			1: Spawns 4 Rebels anywhere on the map.
			2: Spawns 8 Rebels anywhere on the map.
			3: Spawns 16 Rebels anywhere on the map.
		StartFullyCharged: false
		SelectTargetSpeechNotification: SelectTarget
		OrderName: AmbushPowerInfoOrder
		EffectSequence: idle
		BlockedCursor: move-blocked
	SpawnActorPower@TOXIN_AMBUSH:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: hack.toxin_rebel_spawner.4
			2: hack.toxin_rebel_spawner.8
			3: hack.toxin_rebel_spawner.16
		Prerequisites:
			1: generals_power.ambush1.toxin
			2: generals_power.ambush2.toxin
			3: generals_power.ambush3.toxin
		LifeTime: 2
		ChargeInterval: 6000
		Icons:
			1: ambush1_toxin
			2: ambush2_toxin
			3: ambush3_toxin
		Names:
			1: Toxin Rebel Ambush
			2: Toxin Rebel Ambush
			3: Toxin Rebel Ambush
		Descriptions:
			1: Spawns 4 Toxin Rebels anywhere on the map.
			2: Spawns 8 Toxin Rebels anywhere on the map.
			3: Spawns 16 Toxin Rebels anywhere on the map.
		StartFullyCharged: false
		SelectTargetSpeechNotification: SelectTarget
		OrderName: ToxinAmbushPowerInfoOrder
		EffectSequence: idle
		BlockedCursor: move-blocked
	AirstrikePower@ANTHRAX_BOMB:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.anthrax_bomb
		Icons:
			1: anthrax_bomb
		ChargeInterval: 9000
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Anthrax Bomb
		Descriptions:
			1: A B-52 drops an Anthrax Bomb at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.anthrax_bomb
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: anthrax_bomb
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: AnthraxBombPowerInfoOrder
	GrantExternalConditionPower@GPS_SCRAMBLER:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.gps_scrambler1
			2: generals_power.gps_scrambler2
			3: generals_power.gps_scrambler3
		Icons:
			1: gps_scrambler1
			2: gps_scrambler2
			3: gps_scrambler3
		ChargeInterval: 6000
		Footprints:
			1: x
			2: _x_ xxx _x_
			3: xxx xxx xxx
		Dimensions:
			1: 1,1
			2: 3,3
			3: 3,3
		Durations:
			1: 0
			2: 0
			3: 0
		Names:
			1: GPS Scrambler
			2: GPS Scrambler
			3: GPS Scrambler
		Descriptions:
			1: Makes 1 unit invisible while not firing.
			2: Makes 5 units invisible while not firing.
			3: Makes 9 units invisible while not firing.
		SelectTargetSpeechNotification: SelectTarget
		Conditions:
			1: gps_scrambler
			2: gps_scrambler
			3: gps_scrambler
		OrderName: GPSScramblerPowerInfoOrder
		BlockedCursor: move-blocked
	SpawnActorPower@SNEAK_ATTACK:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: hack.spawn_sneak_attack
		Prerequisites:
			1: generals_power.sneak_attack
		LifeTime: -1
		ChargeInterval: 3750
		Icons:
			1: sneak_attack
		Names:
			1: Sneak Attack
		Descriptions:
			1: Spawns a Tunnel Network anywhere on the map.
		StartFullyCharged: false
		SelectTargetSpeechNotification: SelectTarget
		OrderName: SneakAttackPowerInfoOrder
		EffectSequence: idle
		BlockedCursor: move-blocked
	WithTextDecoration@SIDE:
		Text: GLA
		Color: 00FF00
	WithIdleOverlay@GLA:
		Sequence: idle-gla
		Palette: player
		RequiresCondition: !build-incomplete && !toxin && !demo && !stealth
	WithIdleOverlay@Toxin:
		Sequence: idle-toxin
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && toxin
	WithIdleOverlay@Demo:
		Sequence: idle-demo
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && demo
	WithIdleOverlay@Stealth:
		Sequence: idle-stealth
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && stealth
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	GrantConditionOnFaction@Demo:
		Condition: demo
		Factions: demo
	GrantConditionOnFaction@Stealth:
		Condition: stealth
		Factions: stealth
	SpawnActorOnDeath:
		Actor: hole.command_center
		SpawnAfterDefeat: false
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.prc_command_center:
	Inherits: ^default.command_center
	Inherits@MINE: ^CanHaveMines
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 14
		Description: actor-building-prc-command-center.description
		Prerequisites: !building.prc_command_center.radar, !techlevel.nocc
		ReadyTextNotification: Construction Complete: PRC Command Center
	BuildPaletteOrderModifier@Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 1 # 15
	Tooltip:
		Name: actor-building-prc-command-center.name
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	ProvidesRadar:
		RequiresCondition: radar && !emp && !hacked && !lowpower && !sabotaged
	GrantConditionOnProduction@RADAR:
		Condition: radar
		Actors: upgrade.radar
	ConditionPrerequisite@RADAR:
		Queue: queue.prc_command_center
		Actor: upgrade.radar
		PauseOnCondition: radar
	ConditionIconOverlay@RADAR:
		Image: iconstripes
		Sequence: upgraded
		Actor: upgrade.radar
		RequiresCondition: radar
	WithIdleOverlay@RADAR:
		Sequence: radar
		RequiresCondition: !build-incomplete && radar
	Voiced:
		VoiceSet: PRCCommandCenterVoice
	Selectable:
		Class: building.prc_command_center
	Production:
		Produces: queue.prc_command_center
		PauseOnCondition: emp || hacked || sabotaged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@PRC_COMMAND_CENTER:
		Type: queue.prc_command_center
		Group: Command
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 14
	ProductionBar@PRC_COMMAND_CENTER:
		ProductionType: queue.prc_command_center
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,2, 3,1, 3,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,2, 3,1, 3,0
	GrantExternalConditionPower@FRENZY:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.frenzy1
			2: generals_power.frenzy2
			3: generals_power.frenzy3
		Icons:
			1: frenzy1
			2: frenzy2
			3: frenzy3
		ChargeInterval: 6000
		Footprints:
			1: __x__ _xxx_ xxxxx _xxx_ __x__
			2: __x__ _xxx_ xxxxx _xxx_ __x__
			3: __x__ _xxx_ xxxxx _xxx_ __x__
		Dimensions:
			1: 5,5
			2: 5,5
			3: 5,5
		Names:
			1: Frenzy
			2: Frenzy
			3: Frenzy
		Descriptions:
			1: Makes a group of units deal 10% more damage\nfor 10 seconds.
			2: Makes a group of units deal 20% more damage\nfor 20 seconds.
			3: Makes a group of units deal 30% more damage\nfor 30 seconds.
		Durations:
			1: 250
			2: 500
			3: 750
		OnFireSound: sfrenzya.wav
		SelectTargetSpeechNotification: SelectTarget
		Conditions:
			1: frenzy1
			2: frenzy2
			3: frenzy3
		OrderName: FrenzyPowerInfoOrder
		BlockedCursor: move-blocked
	CashHackPower@CASH_HACK:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.cash_hack1
			2: generals_power.cash_hack2
			3: generals_power.cash_hack3
		ChargeInterval: 6000
		Maximums:
			1: 1000
			2: 2000
			3: 4000
		Icons:
			1: cash_hack1
			2: cash_hack2
			3: cash_hack3
		Names:
			1: Cash Hack
			2: Cash Hack
			3: Cash Hack
		Descriptions:
			1: Steals $1000 credits from enemy.\n\nTarget their Supply Center or Stash to do so.
			2: Steals $2000 credits from enemy.\n\nTarget their Supply Center or Stash to do so.
			3: Steals $4000 credits from enemy.\n\nTarget their Supply Center or Stash to do so.
		StartFullyCharged: false
		OnFireSound: scashhac.aud
		SelectTargetSpeechNotification: SelectTarget
		OrderName: CashHackPowerInfoOrder
	ParatroopersPower@PRC_PARADROP:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		OrderName: PRCParadropPowerInfoOrder
		Prerequisites:
			1: generals_power.paradrop1.inf_gen
			2: generals_power.paradrop2.inf_gen
			3: generals_power.paradrop3.inf_gen
		Icons:
			1: paradrop1
			2: paradrop2
			3: paradrop3
		ChargeInterval: 6000
		Names:
			1: ParaDrop
			2: ParaDrop
			3: ParaDrop
		Descriptions:
			1: A Badger drops 5 Minigunners\nanywhere on the map.
			2: 2 Badgers drop total of 10 Minigunners\nanywhere on the map.
			3: 3 Badgers drop total of 15 Minigunners\nanywhere on the map.
		UnitTypes:
			1: aircraft.badger.prc_paradrop
			2: aircraft.badger.prc_paradrop
			3: aircraft.badger.prc_paradrop
		DropItems:
			1: infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner
			2: infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner
			3: infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner, infantry.minigunner
		SquadSizes:
			1: 1
			2: 2
			3: 3
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPosters:
			1: paradrop1
			2: paradrop2
			3: paradrop3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@ARTY_BARRAGE:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		UnitTypes:
			1: hack.artillery_barrager.1
			2: hack.artillery_barrager.2
			3: hack.artillery_barrager.3
		SquadSizes:
			1: 3
			2: 3
			3: 3
		Prerequisites:
			1: generals_power.arty_barrage1
			2: generals_power.arty_barrage2
			3: generals_power.arty_barrage3
		ChargeInterval: 7500
		Icons:
			1: arty_barrage1
			2: arty_barrage2
			3: arty_barrage3
		Names:
			1: Artillery Barrage
			2: Artillery Barrage
			3: Artillery Barrage
		Descriptions:
			1: Fires 12 Artillery Shells anywhere on the map.
			2: Fires 24 Artillery Shells anywhere on the map.
			3: Fires 36 Artillery Shells anywhere on the map.
		DisplayBeacon: true
		BeaconPosters:
			1: arty_barrage1
			2: arty_barrage2
			3: arty_barrage3
		CameraActor: camera.paradrop
		StartFullyCharged: false
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SelectTargetSpeechNotification: SelectTarget
		OrderName: ArtilleryBarragePowerInfoOrder
	ParatroopersPower@TANK_DROP:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		OrderName: TankDropPowerInfoOrder
		Prerequisites:
			1: generals_power.tank_drop1
			2: generals_power.tank_drop2
			3: generals_power.tank_drop3
		Icons:
			1: tank_drop1
			2: tank_drop2
			3: tank_drop3
		ChargeInterval: 6000
		Names:
			1: Tank Drop
			2: Tank Drop
			3: Tank Drop
		Descriptions:
			1: A Badger drops 1 Battlemaster Tank\nanywhere on the map.
			2: A Badger drops 2 Battlemaster Tanks\nanywhere on the map.
			3: A Badger drops 4 Battlemaster Tanks\nanywhere on the map.
		UnitTypes:
			1: aircraft.badger.tank_drop
			2: aircraft.badger.tank_drop
			3: aircraft.badger.tank_drop
		DropItems:
			1: vehicle.battlemaster_tank
			2: vehicle.battlemaster_tank, vehicle.battlemaster_tank
			3: vehicle.battlemaster_tank, vehicle.battlemaster_tank, vehicle.battlemaster_tank, vehicle.battlemaster_tank
		SquadSizes:
			1: 1
			2: 1
			3: 1
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPosters:
			1: tank_drop1
			2: tank_drop2
			3: tank_drop3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@CLUSTER_MINES:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.cluster_mines
		Icons:
			1: cluster_mines
		ChargeInterval: 6000
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Cluster Mines
		Descriptions:
			1: A Badger drops 13 Land Mines at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.cluster_mines
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: cluster_mines
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: ClusterMinesPowerInfoOrder
	AirstrikePower@CARPET_BOMB:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.carpet_bombing
		Icons:
			1: carpet_bombing
		ChargeInterval: 3750
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Carpet Bombing
		Descriptions:
			1: A Badger does carpet bombing at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.carpet
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: carpet_bombing
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: CarpetBombingPRCPowerInfoOrder
	AirstrikePower@NUKE_BOMB:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.carpet_bombing.nuke
		Icons:
			1: carpet_bombing_nuke
		ChargeInterval: 3750
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Nuclear Carpet Bombing
		Descriptions:
			1: A Badger does carpet bombing at the target with nuclear warheads.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.carpet.nuke
		DisplayBeacon: True
		CameraActor: camera.paradrop
		BeaconPosters:
			1: carpet_bombing_nuke
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: CarpetBombingNukePowerInfoOrder
	SpawnActorPower@SNEAK_ATTACK:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Actors:
			1: hack.spawn_sneak_attack
		Prerequisites:
			1: generals_power.sneak_attack
		LifeTime: -1
		ChargeInterval: 3750
		Icons:
			1: sneak_attack
		Names:
			1: Sneak Attack
		Descriptions:
			1: Spawns a Tunnel Network anywhere on the map.
		StartFullyCharged: false
		SelectTargetSpeechNotification: SelectTarget
		OrderName: SneakAttackPowerInfoOrder
		RequiresCondition: boss
		EffectSequence: idle
		BlockedCursor: move-blocked
	AirstrikePower@EMP:
		PauseOnCondition: emp || hacked || sabotaged
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.emp
		Icons:
			1: emp
		ChargeInterval: 9000
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: E. M. Pulse
		Descriptions:
			1: A Badger drops an EMP at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.badger.emp
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: emp
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: EMPPowerInfoOrder
	WithTextDecoration@SIDE:
		Text: PRC
		Color: FF0000
	WithIdleOverlay@PRC:
		Sequence: idle-prc
		Palette: player
		RequiresCondition: !build-incomplete && !inf && !nuke && !tank && !boss
	WithIdleOverlay@Inf:
		Sequence: idle-inf
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && inf
	WithIdleOverlay@Nuke:
		Sequence: idle-nuke
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && nuke
	WithIdleOverlay@Tank:
		Sequence: idle-tank
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && tank
	WithIdleOverlay@Boss:
		Sequence: idle-boss
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && boss
	GrantConditionOnFaction@Inf:
		Condition: inf
		Factions: inf
	GrantConditionOnFaction@Nuke:
		Condition: nuke
		Factions: nuke
	GrantConditionOnFaction@Tank:
		Condition: tank
		Factions: tank
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	ProvidesPrerequisite@buildingname:
		Prerequisite: building.prc_command_center
	RenderSprites:
		Image: building.prc_command_center
	ActorStatValues:
		Upgrades: upgrade.radar, upgrade.land_mines
		LocalUpgrades: upgrade.radar, upgrade.land_mines, upgrade.neutron_mines
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.radar, upgrade.land_mines, upgrade.neutron_mines

building.prc_command_center.radar:
	Inherits: building.prc_command_center
	Inherits@BotOwner: ^BotOwner
	-Buildable:
	PeriodicProducer@RADAR: ## Hack, to trigger upgrade for selection UI.
		Actors: upgrade.radar
		ChargeDuration: 1
		Type: queue.prc_command_center
		RequiresCondition: !radar
	ProvidesPrerequisite@bot_owner:
		Prerequisite: building.prc_command_center.radar
		RequiresCondition: bot_owner
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.prc_command_center

^default.reactor:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	Inherits@SHAPE: ^2x2Shape
	GivesExperience:
		Experience: 100
	Buildable:
		BuildDuration: 250
		BuildDurationModifier: 100
		BuildPaletteOrder: 0
		ReadyTextNotification: Construction Complete: Cold Fusion Reactor
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Armor:
		Type: building.normal
	WithBuildingBib:
	WithIdleOverlay@SABOTAGE:
		Offset: -1024,0,0
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.reactor
	GrantConditionOnInfiltration:
		Duration: 750
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ActorStatValues:
		Stats: Armor, Sight, Power

^default.cold_fusion_reactor:
	Inherits: ^default.reactor
	Inherits@RANGER: ^EmitRangersOnDeath
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.boss_gen_building
		Description: meta-default-cold-fusion-reactor.description
	Valued:
		Cost: 800
	Tooltip:
		Name: meta-default-cold-fusion-reactor.name
	Health:
		HP: 80000
	Selectable:
		Bounds: 2048, 2048
	Production:
		Produces: queue.cold_fusion_reactor
		PauseOnCondition: emp || hacked || sabotaged
	ProductionQueue:
		Type: queue.cold_fusion_reactor
		Group: Tech
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		PayUpFront: true
		DisallowPaused: true
		ItemLimit: 1
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
	ProductionBar:
		ProductionType: queue.cold_fusion_reactor
	Exit:
	WithIdleOverlay@NO_RODS:
		Sequence: idle-no-rods
		Palette: control_rods
		RequiresCondition: !build-incomplete && !control_rods
	WithIdleOverlay@CONTROL_RODS:
		Sequence: idle-rods
		Palette: control_rods
		RequiresCondition: !build-incomplete && control_rods
	Power:
		Amount: 5
		RequiresCondition: !emp && !hacked && !sabotaged
	Power@CONTROL_RODS:
		Amount: 5
		RequiresCondition: control_rods && !emp && !hacked && !sabotaged
	GrantConditionOnProduction:
		Condition: control_rods
	ConditionPrerequisite@CONTROL_RODS:
		Queue: queue.cold_fusion_reactor, queue.boss_gen_cold_fusion_reactor
		Actor: upgrade.control_rods
		PauseOnCondition: control_rods
	ConditionIconOverlay@CONTROL_RODS:
		Image: iconstripes
		Sequence: upgraded
		Actor: upgrade.control_rods
		RequiresCondition: control_rods
	Voiced:
		VoiceSet: ColdFusionReactorVoice
	ActorStatValues:
		Upgrades: upgrade.control_rods
		LocalUpgrades: upgrade.control_rods

building.cold_fusion_reactor:
	Inherits: ^default.cold_fusion_reactor
	Inherits@MINE: ^CanHaveMinesBossOnly
	Production:
		Produces: queue.cold_fusion_reactor, queue.boss_gen_cold_fusion_reactor
	-ProductionQueue@JUST_MINE:
	ProductionQueue:
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
	ProductionQueue@Boss:
		Type: queue.boss_gen_cold_fusion_reactor
		Group: Tech
		Factions: boss
		AlwaysShowForFactions: boss
		PayUpFront: true
		DisallowPaused: true
		ItemLimit: 1
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_cold_fusion_reactor
	ActorStatValues:
		LocalUpgrades: upgrade.control_rods, upgrade.land_mines, upgrade.neutron_mines
	ActorStatOverride@Boss:
		Upgrades: upgrade.control_rods, upgrade.land_mines
	ActorStatOverride@Boss_ZH_UNITS:
		Upgrades: upgrade.control_rods, upgrade.land_mines, upgrade.neutron_mines

building.cold_fusion_reactor.laser:
	Inherits: building.cold_fusion_reactor
	Buildable:
		Queue: queue.laser_gen_building, queue.usa_building_merged, queue.boss_gen_building_merged
	Valued:
		Cost: 700
	Production:
		Produces: queue.laser_gen_cold_fusion_reactor
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.cold_fusion_reactor_merged, queue.boss_gen_cold_fusion_reactor_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	ProductionQueue:
		Type: queue.laser_gen_cold_fusion_reactor
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		LowPowerModifier: 300
	ProductionQueue@Merged:
		Type: queue.cold_fusion_reactor_merged
		Group: Tech
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		PayUpFront: true
		DisallowPaused: true
		ItemLimit: 1
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
	ProductionQueue@Boss:
		Type: queue.boss_gen_cold_fusion_reactor_merged
	ProductionBar:
		ProductionType: queue.laser_gen_cold_fusion_reactor
	ProductionBar@Merged:
		ProductionType: queue.cold_fusion_reactor_merged
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_cold_fusion_reactor_merged
	GrantConditionOnProduction:
		Actors: upgrade.control_rods.laser
	GrantConditionOnProduction@ADV_CONTROL_RODS:
		Condition: adv_control_rods
		Actors: upgrade.advanced_control_rods
	ConditionPrerequisite@CONTROL_RODS:
		Queue: queue.laser_gen_cold_fusion_reactor
		Actor: upgrade.control_rods.laser
	ConditionPrerequisite@ADV_CONTROL_RODS:
		Queue: queue.cold_fusion_reactor_merged, queue.boss_gen_cold_fusion_reactor_merged
		Actor: upgrade.advanced_control_rods
		PauseOnCondition: adv_control_rods
	ConditionIconOverlay@CONTROL_RODS:
		Actor: upgrade.control_rods.laser
	ConditionIconOverlay@ADV_CONTROL_RODS:
		Image: iconstripes
		Sequence: upgraded
		Actor: upgrade.advanced_control_rods
		RequiresCondition: adv_control_rods
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	WithIdleOverlay@NO_RODS:
		RequiresCondition: !build-incomplete && !control_rods && !adv_control_rods
	WithIdleOverlay@CONTROL_RODS:
		RequiresCondition: !build-incomplete && control_rods && !adv_control_rods
	WithIdleOverlay@ADV_CONTROL_RODS:
		Sequence: idle-adv-rods
		Palette: control_rods
		RequiresCondition: !build-incomplete && adv_control_rods
	Power:
		Amount: 8
	Power@CONTROL_RODS:
		Amount: 8
		RequiresCondition: control_rods && !adv_control_rods && !emp && !hacked && !sabotaged
	Power@ADV_CONTROL_RODS:
		Amount: 15
		RequiresCondition: adv_control_rods && !emp && !hacked && !sabotaged
	RenderSprites:
		Image: building.cold_fusion_reactor
	ActorStatValues:
		Upgrades: upgrade.control_rods.laser
		LocalUpgrades: upgrade.control_rods.laser, upgrade.advanced_control_rods, upgrade.land_mines, upgrade.neutron_mines
	ActorStatOverride@Merged:
		Upgrades: upgrade.advanced_control_rods
		RequiresCondition: merged && !boss
	ActorStatOverride@Boss:
		Upgrades: upgrade.advanced_control_rods, upgrade.land_mines
		RequiresCondition: merged && boss && !zh_units
	ActorStatOverride@Boss_ZH_UNITS:
		Upgrades: upgrade.advanced_control_rods, upgrade.land_mines, upgrade.neutron_mines
		RequiresCondition: merged && boss && zh_units

building.advanced_cold_fusion_reactor:
	Inherits: ^default.cold_fusion_reactor
	Buildable:
		Queue: queue.super_gen_building
	Valued:
		Cost: 900
	Production:
		Produces: queue.advanced_cold_fusion_reactor
	ProductionQueue:
		Type: queue.advanced_cold_fusion_reactor
		LowPowerModifier: 300
	ProductionBar:
		ProductionType: queue.advanced_cold_fusion_reactor
	WithIdleOverlay@CONTROL_RODS:
		Sequence: idle-adv-rods
	ConditionPrerequisite@CONTROL_RODS:
		Queue: queue.advanced_cold_fusion_reactor
		Actor: upgrade.advanced_control_rods
	ConditionIconOverlay@CONTROL_RODS:
		Actor: upgrade.advanced_control_rods
	Power@CONTROL_RODS:
		Amount: 15
	ActorStatValues:
		Upgrades: upgrade.advanced_control_rods
		LocalUpgrades: upgrade.advanced_control_rods

building.nuclear_reactor:
	Inherits: ^default.reactor
	Inherits@MINE: ^CanHaveMines
	HitShape:
		TargetableOffsets: 630,299,0
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building
		Description: actor-building-nuclear-reactor.description
		ReadyTextNotification: Construction Complete: Nuclear Reactor
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-building-nuclear-reactor.name
	Health:
		HP: 150000
	FireWarheadsOnDeath:
		Type: CenterPosition
		Weapon: explosion.nuclear_reactor
		EmptyWeapon: explosion.nuclear_reactor
	FireWarheadsOnDeath@Radiation:
		Type: Footprint
		Weapon: explosion.nuclear_reactor.radioactivity
		EmptyWeapon: explosion.nuclear_reactor.radioactivity
	Power@notovercharged:
		Amount: 10
		RequiresCondition: !overcharge && !emp && !hacked && !sabotaged
	Power@overcharged:
		Amount: 15
		RequiresCondition: overcharge && !emp && !hacked && !sabotaged
	WithIdleOverlay@overcharge:
		Sequence: idle-overcharge
		Palette: player
		RequiresCondition: overcharge
	ChangesHealth@overcharge:
		Step: -4500 # there seems to be a calulation error with PercentageStep, -3 gives -4495 damage.
		Delay: 25
		StartIfBelow: 101
		RequiresCondition: overcharge && !emp && !hacked && !sabotaged
	GrantConditionOnDeploy:
		SkipMakeAnimation: true
		DeployedCondition: overcharge
	WithDeathAnimation:
		DeathSequencePalette: cncplayer
	Exit:
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	Voiced:
		VoiceSet: NuclearReactorVoice
	RenderSprites:
		PlayerPalette: cncplayer

building.advanced_nuclear_reactor:
	Inherits: building.nuclear_reactor
	Buildable:
		Queue: queue.nuke_gen_building, queue.prc_building_merged
		ReadyTextNotification: Construction Complete: Advanced Nuclear Reactor
	Valued:
		Cost: 1200
	Tooltip:
		Name: actor-building-advanced-nuclear-reactor-name
	Power@notovercharged:
		Amount: 18
	Power@overcharged:
		Amount: 27

^default.barracks:
	Inherits: ^Building
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	Inherits@SHAPE: ^2x2Shape
	GivesExperience:
		Experience: 100
	HitShape:
		UseTargetableCellsOffsets: false
	Buildable:
		BuildDuration: 250
		BuildDurationModifier: 100
		BuildPaletteOrder: 1
		Description: meta-default-barracks-description
		Prerequisites: !techlevel.vehicleonly
	Valued:
		Cost: 500
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	WithBuildingBib:
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.barracks
	GrantConditionOnInfiltration:
		Duration: 750
	RepairsUnits:
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		HpPerStep: 1000
	WithIdleOverlay@SABOTAGE:
		Offset: -100,0,0

building.usa_barracks:
	Inherits: ^default.barracks
	Inherits@RANGER: ^EmitRangersOnDeath
	HitShape:
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		ReadyTextNotification: Construction Complete: USA Barracks
	Valued:
		Cost: 600
	Tooltip:
		Name: actor-building-usa-barracks-name
	Production:
		Produces: queue.usa_infantry
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !super && !merged
	Production@Merged:
		Produces: queue.super_gen_infantry
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: super || merged
	ProductionQueue@Vanilla:
		Type: queue.usa_infantry
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 19
	ProductionQueue@Super:
		Type: queue.super_gen_infantry
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 20
	ProductionBar@Vanilla:
		ProductionType: queue.usa_infantry
	ProductionBar@Super:
		ProductionType: queue.super_gen_infantry
	GrantConditionOnFaction@Super:
		Condition: super
		Factions: super
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	Exit@1:
		SpawnOffset: -426,85,0
		ExitCell: 0,1
	Exit@2:
		SpawnOffset: 298,298,0
		ExitCell: 1,1
	Voiced:
		VoiceSet: USABarracksVoice
	RenderSprites:
		PlayerPalette: cncplayer

building.gla_barracks:
	Inherits: ^default.barracks
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	HitShape:
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 0
		ReadyTextNotification: Construction Complete: GLA Barracks
	Tooltip:
		Name: actor-building-gla-barracks.name
	Production:
		Produces: queue.gla_infantry, queue.toxin_gen_infantry, queue.demo_gen_infantry, queue.stealth_gen_infantry
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.gla_infantry_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Vanilla:
		Type: queue.gla_infantry
		Factions: usa, air, laser, super, gla, prc, inf, nuke, tank, boss
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 21
	ProductionQueue@Toxin:
		Type: queue.toxin_gen_infantry
		Factions: toxin
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 22
	ProductionQueue@Demo:
		Type: queue.demo_gen_infantry
		Factions: demo
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 23
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_infantry
		Factions: stealth
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 24
	ProductionQueue@Merged:
		Type: queue.gla_infantry_merged
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 25
	ProductionBar@Vanilla:
		ProductionType: queue.gla_infantry
	ProductionBar@Toxin:
		ProductionType: queue.toxin_gen_infantry
	ProductionBar@Demo:
		ProductionType: queue.demo_gen_infantry
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_infantry
	ProductionBar@Merged:
		ProductionType: queue.gla_infantry_merged
	Exit@1:
		SpawnOffset: -42,810,0
		ExitCell: 1,2
	Exit@2:
		SpawnOffset: -725,640,0
		ExitCell: 0,2
	SpawnActorOnDeath:
		Actor: hole.barracks
		SpawnAfterDefeat: false
	-WithSpriteBody:
	WithTerrainDependantSpriteBody:
	Voiced:
		VoiceSet: GLABarracksVoice
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.prc_barracks:
	Inherits: ^default.barracks
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal150
	HitShape:
		TargetableOffsets: 0,0,0, 490,-470,0, 355,512,0, -355,-512,0, -630,512,0
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		ReadyTextNotification: Construction Complete: PRC Barracks
	Tooltip:
		Name: actor-building-prc-barracks-name
	Production:
		Produces: queue.prc_infantry, queue.inf_gen_infantry, queue.nuke_gen_infantry, queue.tank_gen_infantry, queue.boss_gen_infantry
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.prc_infantry_merged, queue.boss_gen_infantry_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Vanilla:
		Type: queue.prc_infantry
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 25
	ProductionQueue@Infantry:
		Type: queue.inf_gen_infantry
		Factions: inf
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 26
	ProductionQueue@Nuke:
		Type: queue.nuke_gen_infantry
		Factions: nuke
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 27
	ProductionQueue@Tank:
		Type: queue.tank_gen_infantry
		Factions: tank
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 28
	ProductionQueue@Merged:
		Type: queue.prc_infantry_merged
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 29
	ProductionQueue@Boss:
		Type: queue.boss_gen_infantry
		Factions: boss
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 30
	ProductionQueue@Boss_Merged:
		Type: queue.boss_gen_infantry_merged
		Factions: boss
		Group: Infantry
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 31
	ProductionBar@Vanilla:
		ProductionType: queue.prc_infantry
	ProductionBar@Infantry:
		ProductionType: queue.inf_gen_infantry
	ProductionBar@Nuke:
		ProductionType: queue.nuke_gen_infantry
	ProductionBar@Tank:
		ProductionType: queue.tank_gen_infantry
	ProductionBar@Merged:
		ProductionType: queue.prc_infantry_merged
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_infantry
	ProductionBar@Boss_Merged:
		ProductionType: queue.boss_gen_infantry_merged
	Exit@1:
		SpawnOffset: -170,810,0
		ExitCell: 1,2
	Exit@2:
		SpawnOffset: -725,640,0
		ExitCell: 0,2
	DamageMultiplier@Infantry:
		RequiresCondition: inf || merged
		Modifier: 83
	GrantConditionOnFaction@Infantry:
		Condition: inf
		Factions: inf
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, 1,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,2, 2,1, 2,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, 1,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,2, 2,1, 2,0
	Voiced:
		VoiceSet: PRCBarracksVoice

^default.supply_center:
	Inherits: ^Building
	Inherits@REVEAL: ^Reveal200
	GivesExperience:
		Experience: 200
	Buildable:
		BuildDuration: 250
		BuildDurationModifier: 100
		BuildPaletteOrder: 2
		Description: meta-default-supply-center-description
	Valued:
		Cost: 1500
	CustomSellValue:
		Value: 750
	Building:
		Footprint: _x_ xxx === ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 200000
	Armor:
		Type: building.normal
	WithBuildingBib:
	SupplyCenter:
		UseStorage: false
		DeliveryOffsets: 1,2
		ToleratedStuckRoad: 12
		ToleratedOccupancy: 6
		StuckRoadCheckRange: 4c128
	Power:
		Amount: -1
	CashHackable:
	Targetable@CashHack:
		TargetTypes: CashHackable
	InfiltrateForCash:
		Types: Sabotage
		Minimum: 0
		Maximum: 1000
		InfiltratedNotification: CreditsStolen
	Targetable@SABOTAGE:
		TargetTypes: Sabotage
	FreeActor:
		Actor: aircraft.chinook
		SpawnOffset: 1,2
		Facing: 256
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.supply_center
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	DrawLineToTarget:
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false

building.usa_supply_center:
	Inherits: ^default.supply_center
	Inherits@RANGER: ^EmitRangersOnDeath
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		Prerequisites: prerequisite.reactor
		Description: actor-building-usa-supply-center.description
		ReadyTextNotification: Construction Complete: USA Supply Center
	Valued:
		Cost: 2000
	CustomSellValue:
		Value: 1000
	Tooltip:
		Name: actor-building-usa-supply-center.name
	Selectable:
		Bounds: 3072, 2389, 0, 512
		DecorationBounds: 3072, 2986, 0, -85
	SelectionDecorations:
	Production:
		Produces: queue.usa_collector
		PauseOnCondition: emp || hacked
		RequiresCondition: !air && !merged
	Production@Airforce_or_Merged:
		Produces: queue.air_gen_collector
		PauseOnCondition: emp || hacked
		RequiresCondition: air || merged
	ProductionQueue@Vanilla:
		Type: queue.usa_collector
		Group: Collector
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 15
	ProductionQueue@Airforce:
		Type: queue.air_gen_collector
		Group: Collector
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 16
	ProductionBar@Vanilla:
		ProductionType: queue.usa_collector
	ProductionBar@Airforce:
		ProductionType: queue.air_gen_collector
	Exit@1:
		SpawnOffset: 0,1024,0
		ExitCell: 1,2
		Facing: 896
	WithDeathAnimation:
		DeathSequencePalette: cncplayer
	GrantConditionOnFaction@Airforce:
		Condition: air
		Factions: air
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	ProvidesPrerequisite@WarFactory:
		Prerequisite: building.usa_war_factory
		RequiresPrerequisites: techlevel.infonly
	ProvidesPrerequisite@AirfieldOrWarFactory:
		Prerequisite: prerequisite.usa_airfield_or_war_factory
		RequiresPrerequisites: techlevel.infonly
	Voiced:
		VoiceSet: USASupplyVoice
	RenderSprites:
		PlayerPalette: cncplayer
	ActorStatValues:
		Stats: Armor, Sight, Power

building.gla_supply_stash:
	Inherits: ^default.supply_center
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1024, -512
			BottomRight: 1024, 1536
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 1
		Description: actor-building-gla-supply-stash.description
		ReadyTextNotification: Construction Complete: GLA Supply Stash
	Tooltip:
		Name: actor-building-gla-supply-stash.name
	Building:
		Footprint: xx x=
		Dimensions: 2,2
	Selectable:
		Bounds: 2048, 2048, 0, 512
		Class: building.gla_supply_stash, queue.stealth_gen_collector
	Production:
		Produces: queue.gla_collector
		PauseOnCondition: emp || hacked
		RequiresCondition: !stealth && !merged
	Production@Stealth_or_Merged:
		Produces: queue.stealth_gen_collector
		PauseOnCondition: emp || hacked
		RequiresCondition: stealth || merged
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Vanilla:
		Type: queue.gla_collector
		Group: Collector
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 17
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_collector
		Group: Collector
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 18
	ProductionBar@Vanilla:
		ProductionType: queue.gla_collector
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_collector
	Exit:
		SpawnOffset: -96,768,0
		ExitCell: 1,1
	SupplyCenter:
		DeliveryOffsets: 1,1
	GrantExternalConditionToAssignedCollectors@CAMO_NETTING:
		Condition: camo_netted
		RequiresCondition: camo_netted && !emp && !hacked
	WithIdleOverlay@RA_SILO:
		Sequence: idle-ra
		RequiresCondition: !build-incomplete
	-WithDeathAnimation:
	FreeActor:
		Actor: infantry.worker
		SpawnOffset: 1,1
	SpawnActorOnDeath:
		Actor: hole.supply_stash
		SpawnAfterDefeat: false
	ProvidesPrerequisite@Barracks:
		Prerequisite: building.gla_barracks
		RequiresPrerequisites: techlevel.vehicleonly
	ProvidesPrerequisite@ArmsDealer:
		Prerequisite: building.arms_dealer
		RequiresPrerequisites: techlevel.infonly
	-Power:
	Voiced:
		VoiceSet: GLASupplyVoice
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.gla_supply_stash.no_free_actor:
	Inherits: building.gla_supply_stash
	-Buildable:
	-FreeActor:
	RenderSprites:
		Image: building.gla_supply_stash
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.gla_supply_stash

building.prc_supply_center:
	Inherits: ^default.supply_center
	Inherits@MINE: ^CanHaveMines
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		Prerequisites: prerequisite.reactor
		Description: actor-building-prc-supply-center.description
		ReadyTextNotification: Construction Complete: PRC Supply Center
	Tooltip:
		Name: actor-building-prc-supply-center.name
	Building:
		Footprint: _X_ xxx X== ===
	LaysMinefield@LAND_MINES:
		Locations: 0,0, 1,-1, -1,1, -1,2, -1,3, 0,4, 1,4, 2,4, 3,3, 3,2, 3,1, 2,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,0, 1,-1, -1,1, -1,2, -1,3, 0,4, 1,4, 2,4, 3,3, 3,2, 3,1, 2,0
	Selectable:
		Bounds: 3072, 2133, 0, 512
		DecorationBounds: 3072, 2986, 0, -85
	SelectionDecorations:
	Production:
		Produces: queue.prc_collector
		PauseOnCondition: emp || hacked
	-ProductionQueue@JUST_MINE:
	ProductionQueue:
		Type: queue.prc_collector
		Group: Collector
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 18
	ProductionBar:
		ProductionType: queue.prc_collector
	Exit@1:
		SpawnOffset: -42,810,0
		ExitCell: 1,2
	FreeActor:
		Actor: vehicle.supply_truck
	WithIdleOverlay@TOP:
		Sequence: idle-top
		RequiresCondition: !build-incomplete
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 598
	HitShape@TOP:
		TargetableOffsets: 1680,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	HitShape@BOTTOMLEFT:
		TargetableOffsets: -1260,-1024,0
		Type: Rectangle
			TopLeft: -1536, 598
			BottomRight: -512, 1280
	ProvidesPrerequisite@Barracks:
		Prerequisite: building.prc_barracks
		RequiresPrerequisites: techlevel.vehicleonly
	ProvidesPrerequisite@WarFactory:
		Prerequisite: building.prc_war_factory
		RequiresPrerequisites: techlevel.infonly
	ProvidesPrerequisite@AirfieldOrWarFactory:
		Prerequisite: prerequisite.prc_airfield_or_war_factory
		RequiresPrerequisites: techlevel.infonly
	Voiced:
		VoiceSet: PRCSupplyVoice
	ActorStatValues:
		Stats: Armor, Sight, Power

building.patriot:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@MINE: ^CanHaveMinesBossOnly
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal360
	Inherits@SHAPE: ^1x1Shape
	GivesExperience:
		Experience: 200
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.usa_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 3
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: prerequisite.reactor, !techlevel.nodefense
		Description: actor-building-patriot.description
		ReadyTextNotification: Construction Complete: Patriot Missile System
	BuildPaletteOrderModifier@Boss:
		Queue: queue.boss_gen_building, queue.boss_gen_building_merged
		Modifier: 3 # 6
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-building-patriot.name
	Building:
		Footprint: x
		Dimensions: 1,1
	Health:
		HP: 100000
	Armor:
		Type: building.defense
	Selectable:
		Bounds: 1024, 1024
		Class: building.patriot
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 32
		InitialFacing: 0
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	Armament@AG:
		Weapon: missile.patriot.ground
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
	Armament@AA:
		Weapon: missile.patriot.air
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
	### Share target
	GrantConditionOnAttack@share-target:
		Condition: share-target
		RevokeDelay: 30
	ProximityExternalCondition@share-target:
		RequiresCondition: share-target && !target-shared
		Condition: target-shared
		Range: 5c640
	Armament@Share:
		Name: secondary
		Weapon: hack.patriot_share
		RequiresCondition: share-target && !target-shared
		ForceTargetRelationships: Enemy
	Armament@Super:
		Weapon: missile.patriot.super
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
		RequiresCondition: target-shared
		ForceTargetRelationships: Enemy
	Armament@SuperTargeting:
		Name: secondary
		Weapon: targeting.patriot.super
		RequiresCondition: target-shared && target-shared
	AutoTargetPriority@share-target:
		RequiresCondition: target-shared
		ValidTargets: PatriotMark
		Priority: 999
	ExternalCondition@target-shared:
		Condition: target-shared
	WithDecoration@target-shared:
		Image: pips
		Sequence: pip-targeting
		Margin: 2, -3
		Palette: cnc
		Position: Top
		RequiresCondition: target-shared
		ValidRelationships: Ally, Neutral, Enemy
	AmmoPool:
		Ammo: 4
		Armaments: primary
		AmmoCondition: has-ammo
	ReloadAmmoPool:
		Count: 4
		Delay: 50
	### Share target --end
	WithRangeCircle:
		Range: 5c640
	WithRangeCircle@AA:
		Type: aa
		Range: 8c768
		Color: 00DDDD88
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked || lowpower || !has-ammo
	WithMuzzleOverlay:
	Power:
		Amount: -3
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
	-BodyOrientation:
	ClassicFacingBodyOrientation:
	Exit:
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	Voiced:
		VoiceSet: PatriotVoice
	ActorStatValues:
		Damage: 120
		Stats: Armor, Sight, Power, Damage, ReloadDelay, MinRange, None, MaxRange

building.emp_patriot:
	Inherits: building.patriot
	Buildable:
		Queue: queue.super_gen_building, queue.usa_building_merged, queue.boss_gen_building_merged
		ReadyTextNotification: Construction Complete: EMP Patriot Missile System
	BuildPaletteOrderModifier@Merged:
		Queue: queue.usa_building_merged
		Modifier: 3 # 6
	BuildPaletteOrderModifier@Boss:
		Queue: queue.boss_gen_building_merged
		Modifier: 6 # 9
	Valued:
		Cost: 900
	Tooltip:
		Name: actor-building-emp-patriot-name
	Armament@AG:
		Weapon: missile.emp_patriot.ground
	Armament@AA:
		Weapon: missile.emp_patriot.air
	Armament@Super:
		Weapon: missile.emp_patriot.super
	ActorStatValues:
		Damage: 60

building.laser_turret:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@MINE: ^CanHaveMinesBossOnly
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal360
	Buildable:
		Queue: queue.laser_gen_building, queue.usa_building_merged, queue.boss_gen_building_merged
		BuildPaletteOrder: 3
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: prerequisite.reactor, !techlevel.nodefense
		Description: actor-building-laser-turret.description
		ReadyTextNotification: Construction Complete: Laser Turret
	BuildPaletteOrderModifier@Boss:
		Queue: queue.usa_building_merged
		Modifier: 6 # 9
	BuildPaletteOrderModifier@Boss_Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 9 # 12
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-building-laser-turret.name
	Building:
		Footprint: x
		Dimensions: 1,1
	Health:
		HP: 100000
	Armor:
		Type: building.defense
	Selectable:
		Bounds: 1024, 1024
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 120
		InitialFacing: 224
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	Armament@AG:
		Weapon: laser.laser_turret.ground
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
	Armament@AA:
		Weapon: laser.laser_turret.air
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
	### Share target
	GrantConditionOnAttack@share-target:
		Condition: share-target
		RevokeDelay: 30
	ProximityExternalCondition@share-target:
		RequiresCondition: share-target && !target-shared
		Condition: target-shared
		Range: 5c640
	Armament@Share:
		Name: secondary
		Weapon: hack.patriot_share
		RequiresCondition: share-target && !target-shared
		ForceTargetRelationships: Enemy
	Armament@Super:
		Weapon: laser.laser_turret.super
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		RequiresCondition: target-shared
		ForceTargetRelationships: Enemy
	Armament@SuperTargeting:
		Name: secondary
		Weapon: targeting.patriot.super
		RequiresCondition: target-shared && target-shared
	AutoTargetPriority@share-target:
		RequiresCondition: target-shared
		ValidTargets: PatriotMark
		Priority: 999
	ExternalCondition@target-shared:
		Condition: target-shared
	WithDecoration@target-shared:
		Image: pips
		Sequence: pip-targeting
		Margin: 2, -3
		Palette: cnc
		Position: Top
		RequiresCondition: target-shared
		ValidRelationships: Ally, Neutral, Enemy
	AmmoPool:
		Ammo: 4
		Armaments: primary
		AmmoCondition: has-ammo
	ReloadAmmoPool:
		Count: 4
		Delay: 50
	### Share target --end
	WithRangeCircle:
		Range: 5c640
	WithRangeCircle@AA:
		Type: aa
		Range: 8c768
		Color: 00DDDD88
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked || lowpower || !has-ammo
	WithMuzzleOverlay:
	Power:
		Amount: -5
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
	-BodyOrientation:
	ClassicFacingBodyOrientation:
	Exit:
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	Voiced:
		VoiceSet: PatriotVoice
	ActorStatValues:
		Damage: 120
		Stats: Armor, Sight, Power, Damage, ReloadDelay, MinRange, None, MaxRange

building.demo_trap:
	Inherits: ^Defense
	Inherits@REVEAL: ^Reveal150
	GivesExperience:
		Experience: 50
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building
		BuildPaletteOrder: 4
		BuildDuration: 125
		BuildDurationModifier: 100
		Prerequisites: building.arms_dealer, !techlevel.nodefense
		Description: actor-building-demo-trap.description
		ReadyTextNotification: Construction Complete: Demo Trap
	ProductionCostMultiplier@Toxin:
		Queue: queue.toxin_gen_building
		Multiplier: 150 # 600
	ProductionTimeMultiplier@Toxin:
		Queue: queue.toxin_gen_building
		Multiplier: 160 # 200
	Valued:
		Cost: 400
	Health:
		HP: 10000
	Tooltip:
		Name: actor-building-demo-trap.name
	Armor:
		Type: building.normal
	Selectable:
		Bounds: 512, 512
	Cloak:
		InitialDelay: 125
		CloakDelay: 60
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !emp && !hacked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	-FireWarheadsOnDeath:
	-ShakeOnDeath:
	-SoundOnDamageTransition:
	-WithMakeAnimation:
	-Demolishable:
	Sellable:
		-RequiresCondition:
	Targetable:
		TargetTypes: GroundActor, Structure, NonGarrisonedStructure, C4, DetonateAttack, DemoTrap
	ExternalCondition@SELF_DESTRUCT:
		Condition: self_destruct
	WithRangeCircle:
		Type: demo
		Range: 1c512
		Color: CC550066
	KillsSelf:
		RequiresCondition: self_destruct
	SpawnActorOnDeath:
		Actor: building.demo_trap.explode
	GrantConditionOnDeploy:
		DeployedCondition: self_destruct
	ActorStatValues:
		Damage: 600
		Spread: 1c128
		Stats: Armor, Sight, None, Damage, Spread
	ActorStatOverride@Toxin:
		Damage: 350
		Upgrades: upgrade.anthrax_gamma
		RequiresCondition: toxin && !merged
	ActorStatOverride@Merged:
		Upgrades: upgrade.anthrax_gamma
		RequiresCondition: merged

building.demo_trap.explode:
	Inherits: building.demo_trap
	-Buildable:
	-Cloak:
	-Targetable:
	-SpawnActorOnDeath:
	-ExternalCondition@SELF_DESTRUCT:
	-GrantConditionOnDamageState@UNCLOAK:
	-GrantConditionOnDeploy:
	FireWarheadsOnDeath:
		Weapon: explosion.demo_trap
		RequiresCondition: !toxin || merged
	FireWarheadsOnDeath@Toxin:
		Weapon: explosion.demo_trap.toxin
		RequiresCondition: toxin && !merged
	FireWarheadsOnDeath@Toxin_Alpha:
		Weapon: explosion.demo_trap.toxin_alpha
		RequiresCondition: (toxin || merged) && !anthrax_beta && !anthrax_gamma
	FireWarheadsOnDeath@Toxin_Beta:
		Weapon: explosion.demo_trap.toxin_beta
		RequiresCondition: (toxin || merged) && anthrax_beta && !anthrax_gamma
	FireWarheadsOnDeath@Toxin_Gamma:
		Weapon: explosion.demo_trap.toxin_gamma
		RequiresCondition: (toxin || merged) && anthrax_gamma
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	KillsSelf:
		-RequiresCondition:
		Delay: 20
	AmbientSound:
		SoundFiles: gdembeep.aud
		Interval: 5
	WithColoredOverlay@DETECTED:
		Color: FF7F0080
	RenderSprites:
		Image: building.demo_trap
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.demo_trap

building.advanced_demo_trap:
	Inherits: building.demo_trap
	Buildable:
		Queue: queue.demo_gen_building, queue.gla_building_merged
		BuildDuration: 75
		ReadyTextNotification: Construction Complete: Advanced Demo Trap
	Valued:
		Cost: 200
	Tooltip:
		Name: actor-building-advanced-demo-trap.name
	SpawnActorOnDeath:
		Actor: building.advanced_demo_trap.explode
	-GrantConditionOnFaction@Toxin:
	ActorStatValues:
		Damage: 700
	-ActorStatOverride@Toxin:

building.advanced_demo_trap.explode:
	Inherits: building.demo_trap.explode
	Tooltip:
		Name: actor-building-advanced-demo-trap.name
	FireWarheadsOnDeath:
		Weapon: explosion.advanced_demo_trap
		-RequiresCondition:
	-FireWarheadsOnDeath@Toxin:
	RenderSprites:
		Image: building.advanced_demo_trap
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.advanced_demo_trap

building.gatling_cannon:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CHAIN_GUN: ^AffectedByChainGun
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal360
	GivesExperience:
		Experience: 200
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 3
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: prerequisite.reactor, !techlevel.nodefense
		Description: actor-building-gatling-cannon.description
		ReadyTextNotification: Construction Complete: Gatling Cannon
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, -1,0, 0,1, 1,0
	Valued:
		Cost: 1200
	Tooltip:
		Name: actor-building-gatling-cannon.name
	Selectable:
		Bounds: 1024, 1024
		DecorationBounds: 1024, 1365, 0, -170
	SelectionDecorations:
	Health:
		HP: 100000
	Armor:
		Type: building.defense
	ProvidesPrerequisite@buildingname:
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 32
		InitialFacing: 896
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	ReloadDelayMultiplier@Gatling1:
		RequiresCondition: gatling >= 1
		Modifier: 50
	ReloadDelayMultiplier@Gatling2:
		RequiresCondition: gatling >= 2
		Modifier: 50
	Armament@GatlingAG:
		Weapon: gatling.gatling_cannon.ground
		LocalOffset: 520,100,450, 520,-150,450
		MuzzleSequence: muzzle
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
	Armament@GatlingAA:
		Weapon: gatling.gatling_cannon.air
		LocalOffset: 520,100,450, 520,-150,450
		MuzzleSequence: muzzle
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
	WithRangeCircle:
		Range: 5c640
	WithRangeCircle@AA:
		Type: aa
		Range: 10c0
		Color: 00DDDD88
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked || lowpower
	WithMuzzleOverlay:
	GrantConditionOnAttack@gatling:
		Condition: gatling
		RequiredShotsPerInstance: 4
		MaximumInstances: 2
		RevokeDelay: 50
		RevokeAll: true
		IsCyclic: false
	Power:
		Amount: -3
	Exit:
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
	-BodyOrientation:
	ClassicFacingBodyOrientation:
	Voiced:
		VoiceSet: GatlingCannonVoice
	ActorStatValues:
		Damage: 10
		Stats: Armor, Sight, Power, Damage, ReloadDelay, MinRange, None, MaxRange
		Upgrades: upgrade.chain_gun, upgrade.land_mines
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.chain_gun, upgrade.land_mines, upgrade.neutron_mines

building.firebase:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CARGO: ^CargoPips
	Inherits@CIRCLE: ^WithCargoRangeCircle
	Inherits@LEAFLET: ^AffectedByLeaflet
	Inherits@REVEAL: ^Reveal360
	Inherits@SHAPE: ^2x2Shape
	GivesExperience:
		Experience: 200
	Tooltip:
		Name: actor-building-firebase.name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 7
		BuildDuration: 625
		BuildDurationModifier: 100
		Prerequisites: prerequisite.reactor, ~prerequisite.zh_units, !techlevel.nodefense
		Description: actor-building-firebase.description
		ReadyTextNotification: Construction Complete: Firebase
	Valued:
		Cost: 1000
	Health:
		HP: 100000
	Armor:
		Type: building.stinger_site
	Selectable:
		Bounds: 2048, 2048
	ProvidesPrerequisite@buildingname:
	Turreted:
		TurnSpeed: 12
		InitialFacing: 896
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	WithIdleOverlay@A:
		Sequence: idle-a
		RequiresCondition: !build-incomplete
	WithIdleOverlay@B:
		Sequence: idle-b
		RequiresCondition: !build-incomplete
	WithIdleOverlay@C:
		Sequence: idle-c
		RequiresCondition: !build-incomplete
	WithIdleOverlay@D:
		Sequence: idle-d
		RequiresCondition: !build-incomplete
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 4
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		PauseOnCondition: emp || hacked
	WithCargoSounds:
		EnterSounds: ggarenta.wav, ggarentb.wav, ggarentc.wav
		ExitSounds: ggarexia.wav, ggarexib.wav, ggarexic.wav
	AttackGarrisoned:
		Armaments: garrison
		PortOffsets: 768,0,256, 448,-682,256, -448,-682,256, -768,0,256, -448,682,256, 448,682,256
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: build-incomplete || emp || hacked || leaflet
	Armament:
		Weapon: cannon.firebase
		LocalOffset: 520,0,640
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked
	WithRangeCircle@ARTY:
		Range: 6c896
		Color: DDDD0088
	Targetable:
		TargetTypes: GroundActor, Structure, NonGarrisonedStructure, C4, DetonateAttack, Disable, Defense, BunkerBustable
	Voiced:
		VoiceSet: FirebaseVoice
	ActorStatValues:
		Damage: 75
		Stats: Armor, Sight, Cargo, Damage, ReloadDelay, MaxRange

building.bunker:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CARGO: ^CargoPips
	Inherits@CIRCLE: ^WithCargoRangeCircle
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal200
	Inherits@SHAPE: ^2x2Shape
	GivesExperience:
		Experience: 20
	Tooltip:
		Name: actor-building-bunker.name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Buildable:
		Queue: queue.prc_building, queue.nuke_gen_building, queue.boss_gen_building
		BuildPaletteOrder: 4
		BuildDuration: 125
		BuildDurationModifier: 100
		Prerequisites: building.prc_barracks, !techlevel.vehicleonly, !techlevel.nodefense
		Description: actor-building-bunker.description
		ReadyTextNotification: Construction Complete: Bunker
	Valued:
		Cost: 500
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	Selectable:
		Bounds: 2048, 2048
		Class: building.bunker
	Exit:
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	ProvidesPrerequisite@buildingname:
	Turreted:
		TurnSpeed: 1023
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		EjectOnDeathDamage: 0
		OwnerChangedAffectsPassengers: false
		LoadedCondition: loaded
		PauseOnCondition: emp || hacked
	WithCargoSounds:
		EnterSounds: ggarenta.wav, ggarentb.wav, ggarentc.wav
		ExitSounds: ggarexia.wav, ggarexib.wav, ggarexic.wav
	AttackGarrisoned:
		Armaments: garrison
		PortOffsets: 768,0,256, 448,-682,256, -448,-682,256, -768,0,256, -448,682,256, 448,682,256
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: build-incomplete || emp || hacked
	WithIdleOverlay@flag:
		Sequence: idle-flag
		RequiresCondition: loaded
	Targetable:
		TargetTypes: GroundActor, Structure, NonGarrisonedStructure, C4, DetonateAttack, Disable, Defense, BunkerBustable
	Voiced:
		VoiceSet: BunkerVoice
	ActorStatValues:
		Stats: Armor, Sight, Cargo

building.fortified_bunker:
	Inherits: building.bunker
	Buildable:
		Queue: queue.inf_gen_building, queue.prc_building_merged, queue.boss_gen_building_merged
		BuildDuration: 200
		Description: actor-building-fortified-bunker.description
		ReadyTextNotification: Construction Complete: Fortified Bunker
	Tooltip:
		Name: actor-building-fortified-bunker.name
	Valued:
		Cost: 700
	Selectable:
		Class: building.fortified_bunker
	Armor:
		Type: building.tough
	Cargo:
		MaxWeight: 10
		OwnerChangedAffectsPassengers: false
	PeriodicProducer@LAND_MINES: ## Hack, to trigger upgrade for selection UI.
		Actors: upgrade.land_mines
		ChargeDuration: 1
		Type: queue.just_mine
		RequiresCondition: !land_mines

^default.war_factory:
	Inherits: ^Building
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	Inherits@SHAPE: ^3x2Shape
	GivesExperience:
		Experience: 200
	Buildable:
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: meta-default-war-factory-description
		Prerequisites: prerequisite.supply_center, !techlevel.infonly
	Valued:
		Cost: 2000
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 200000
	Armor:
		Type: building.normal
	WithBuildingBib:
	WithProductionDoorOverlay:
		Sequence: build-top
		RequiresCondition: !build-incomplete
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Selectable:
		Bounds: 3072, 2048
	Exit@1:
		SpawnOffset: 213,-128,0
		ExitCell: 1,2
	Power:
		Amount: -1
	ProvidesPrerequisite@buildingname:
	GrantConditionOnInfiltration:
		Duration: 750
	RepairsUnits:
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		HpPerStep: 1000
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequenceAlpha: 0.65

building.usa_war_factory:
	Inherits: ^default.war_factory
	Inherits@RANGER: ^EmitRangersOnDeath
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 4
		ReadyTextNotification: Construction Complete: USA War Factory
	Tooltip:
		Name: actor-building-usa-war-factory-name
	Building:
		Footprint: xxx === ===
	Production:
		Produces: queue.usa_vehicle, queue.air_gen_vehicle, queue.laser_gen_vehicle, queue.super_gen_vehicle
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.usa_vehicle_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	ProductionQueue@Vanilla:
		Type: queue.usa_vehicle
		Factions: usa, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 30
	ProductionQueue@Airforce:
		Type: queue.air_gen_vehicle
		Factions: air
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 31
	ProductionQueue@Laser:
		Type: queue.laser_gen_vehicle
		Factions: laser
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 32
	ProductionQueue@Super:
		Type: queue.super_gen_vehicle
		Factions: super
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 33
	ProductionQueue@Merged:
		Type: queue.usa_vehicle_merged
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 34
	ProductionBar@Vanilla:
		ProductionType: queue.usa_vehicle
	ProductionBar@Airforce:
		ProductionType: queue.air_gen_vehicle
	ProductionBar@Laser:
		ProductionType: queue.laser_gen_vehicle
	ProductionBar@Super:
		ProductionType: queue.super_gen_vehicle
	ProductionBar@Merged:
		ProductionType: queue.usa_vehicle_merged
	Exit@1:
		SpawnOffset: -512,-512,0
		ExitCell: 0,1
		ExitDelay: 3
	Selectable:
		DecorationBounds: 3072, 2730, 0, -682
	SelectionDecorations:
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	WithDeathAnimation:
		DeathSequence: dead
		DeathSequencePalette: cncplayer
		UseDeathTypeSuffix: false
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Voiced:
		VoiceSet: USAWarFactoryVoice
	ProvidesPrerequisite:
		Prerequisite: prerequisite.usa_airfield_or_war_factory
	WithIdleOverlay@SABOTAGE:
		Offset: 0,0,0
	SequencePlaceBuildingPreview:
		SequenceAlpha: 0.65
	RenderSprites:
		PlayerPalette: cncplayer
	ActorStatValues:
		Stats: Armor, Sight, Power

building.arms_dealer:
	Inherits: ^default.war_factory
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 3
		ReadyTextNotification: Construction Complete: GLA Arms Dealer
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-arms-dealer.name
	Production:
		Produces: queue.gla_vehicle, queue.toxin_gen_vehicle, queue.demo_gen_vehicle, queue.stealth_gen_vehicle
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.gla_vehicle_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Vanilla:
		Type: queue.gla_vehicle
		Factions: usa, air, laser, super, gla, prc, inf, nuke, tank, boss
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 34
	ProductionQueue@Toxin:
		Type: queue.toxin_gen_vehicle
		Factions: toxin
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 35
	ProductionQueue@Demo:
		Type: queue.demo_gen_vehicle
		Factions: demo
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 36
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_vehicle
		Factions: stealth
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 37
	ProductionQueue@Merged:
		Type: queue.gla_vehicle_merged
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 38
	ProductionBar@Vanilla:
		ProductionType: queue.gla_vehicle
	ProductionBar@Toxin:
		ProductionType: queue.toxin_gen_vehicle
	ProductionBar@Demo:
		ProductionType: queue.demo_gen_vehicle
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_vehicle
	ProductionBar@Merged:
		ProductionType: queue.gla_vehicle_merged
	SpawnActorOnDeath:
		Actor: hole.arms_dealer
		SpawnAfterDefeat: false
	-Power:
	Voiced:
		VoiceSet: GLAArmsDealerVoice
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.prc_war_factory:
	Inherits: ^default.war_factory
	Inherits@MINE: ^CanHaveMines
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 5
		ReadyTextNotification: Construction Complete: PRC War Factory
	Tooltip:
		Name: actor-building-prc-war-factory-name
	Production:
		Produces: queue.prc_vehicle, queue.inf_gen_vehicle, queue.nuke_gen_vehicle, queue.tank_gen_vehicle, queue.boss_gen_vehicle
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.prc_vehicle_merged, queue.boss_gen_vehicle_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Vanilla:
		Type: queue.prc_vehicle
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 38
	ProductionQueue@Infantry:
		Type: queue.inf_gen_vehicle
		Factions: inf
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 39
	ProductionQueue@Nuclear:
		Type: queue.nuke_gen_vehicle
		Factions: nuke
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 40
	ProductionQueue@Tank:
		Type: queue.tank_gen_vehicle
		Factions: tank
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 41
	ProductionQueue@Merged:
		Type: queue.prc_vehicle_merged
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 42
	ProductionQueue@Boss:
		Type: queue.boss_gen_vehicle
		Factions: boss
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 43
	ProductionQueue@Boss_Merged:
		Type: queue.boss_gen_vehicle_merged
		Factions: boss
		Group: Vehicle
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 44
	ProductionBar@Vanilla:
		ProductionType: queue.prc_vehicle
	ProductionBar@Infantry:
		ProductionType: queue.inf_gen_vehicle
	ProductionBar@Nuclear:
		ProductionType: queue.nuke_gen_vehicle
	ProductionBar@Tank:
		ProductionType: queue.tank_gen_vehicle
	ProductionBar@Merged:
		ProductionType: queue.prc_vehicle_merged
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_vehicle
	ProductionBar@Boss_Merged:
		ProductionType: queue.boss_gen_vehicle_merged
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	ProvidesPrerequisite:
		Prerequisite: prerequisite.prc_airfield_or_war_factory
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,2, 3,1, 3,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,2, 3,1, 3,0
	Voiced:
		VoiceSet: PRCWarFactoryVoice
	ActorStatValues:
		Stats: Armor, Sight, Power

^default.tunnel_network:
	Inherits: ^Defense
	Inherits@REVEAL: ^Reveal200
	Inherits@SHAPE: ^2x2Shape
	Inherits@SHARED_CARGO: ^SharedCargoPips
	Inherits@BotOwner: ^BotOwner
	GivesExperience:
		Experience: 100
	Tooltip:
		Name: actor-building-tunnel-network.name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Valued:
		Cost: 800
	CustomSellValue:
		Value: 200
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	Selectable:
		Bounds: 2048, 2048
		Class: building.tunnel_network
	Turreted:
		TurnSpeed: 32
		InitialFacing: 224
		RealignDelay: -1
		Offset: 0,0,256
	SharedCargo:
		Types: Infantry, Vehicle
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
	WithCargoSounds:
		EnterSounds: ggarenta.wav, ggarentb.wav, ggarentc.wav
		ExitSounds: ggarexia.wav, ggarexib.wav, ggarexic.wav
	-WithSpriteBody:
	WithTerrainDependantSpriteBody:
	RallyPoint:
	Voiced:
		VoiceSet: TunnelNetworkVoice
	RenderSprites:
		Image: building.tunnel_network
	ProvidesPrerequisite@HasTunnel: ## For AI Perf. 
		Prerequisite: HasTunnel
	IssueOrderToBot@AI:
		OrderName: UnloadShared
		OrderChance: 100
		OrderInterval: 35
	ActorStatValues:
		Stats: Armor, Sight, Cargo

building.tunnel_network:
	Inherits: ^default.tunnel_network
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@CAMO: ^CanHaveCamoNettingFreeForStealthGen
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@MINE: ^CanHaveMinesBossOnly
	Buildable:
		Queue: queue.gla_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 2
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.gla_barracks, !techlevel.nodefense
		Description: actor-building-tunnel-network.description
		ReadyTextNotification: Construction Complete: Tunnel Network
	Buildable@Boss:
		Queue: queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 7
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.prc_barracks, !techlevel.nodefense
		Description: actor-building-tunnel-network.description
		ReadyTextNotification: Construction Complete: Tunnel Network
	FreeActor@1:
		Actor: hack.rpg_trooper_spawner.1
		SpawnOffset: 0, 2
	FreeActor@2:
		Actor: hack.rpg_trooper_spawner.1
		SpawnOffset: 1, 2
	Armament:
		Weapon: mg.tunnel_network
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		ReloadingCondition: reload
	RenderDetectionCircle:
	WithRangeCircle:
		Range: 4c384
	DetectCloaked:
		Range: 3c768
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked
		RequiresCondition: !(reload && bot_owner) ## AI pauses attack to release the unit
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	WithMuzzleOverlay:
	Exit:
	Production:
		Produces: queue.camo_netting
	Production@JUST_MINE:
		Produces: queue.just_mine
	ProductionQueue@CAMO_NETTING:
		Factions: usa, air, laser, super, gla, prc, inf, nuke, tank
		AlwaysShowForFactions: usa, air, laser, super, gla, prc, inf, nuke, tank
	ProductionBar:
		ProductionType: queue.camo_netting
	ProductionBar@JUST_MINE:
		ProductionType: queue.just_mine
	Targetable:
		TargetTypes: GroundActor, Structure, NonGarrisonedStructure, C4, DetonateAttack, Disable, Defense, BunkerBustable
	SpawnActorOnDeath:
		Actor: hole.tunnel_network
		SpawnAfterDefeat: false
	ActorStatValues:
		Damage: 10
		Stats: Armor, Sight, Cargo, Damage, ReloadDelay, MaxRange
		LocalUpgrades: upgrade.camo_netting, upgrade.land_mines, upgrade.neutron_mines
	ActorStatOverride@ZH_UNITS:
		RequiresCondition: !toxin && !demo && !stealth && !boss && !merged && zh_units

building.tunnel_network.no_free_actor:
	Inherits: building.tunnel_network
	-Buildable:
	-Buildable@Boss:
	-FreeActor@1:
	-FreeActor@2:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.tunnel_network

building.toxin_tunnel_network:
	Inherits: building.tunnel_network
	Buildable:
		Queue: queue.toxin_gen_building, queue.gla_building_merged
		Description: actor-building-toxin-tunnel-network.description
		ReadyTextNotification: Construction Complete: Toxin Tunnel Network
	Buildable@Boss:
		Queue: queue.boss_gen_building_merged
		Description: actor-building-toxin-tunnel-network.description
		ReadyTextNotification: Construction Complete: Toxin Tunnel Network
	BuildPaletteOrderModifier@Merged:
		Queue: queue.gla_building_merged, queue.boss_gen_building_merged
		Modifier: 3 # 5, 10
	Tooltip:
		Name: actor-building-toxin-tunnel-network.name
	Armament:
		Damage: 8
		Weapon: toxin.toxin_tunnel_network
		RequiresCondition: !anthrax_beta && !anthrax_gamma
	Armament@Beta:
		Damage: 10
		Weapon: toxin.toxin_tunnel_network.beta
		LocalOffset: 512,0,112
		ReloadingCondition: reload
		RequiresCondition: anthrax_beta && !anthrax_gamma
	Armament@Gamma:
		Damage: 13
		Weapon: toxin.toxin_tunnel_network.gamma
		LocalOffset: 512,0,112
		ReloadingCondition: reload
		RequiresCondition: anthrax_gamma
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	-WithMuzzleOverlay:
	SpawnActorOnDeath:
		Actor: hole.toxin_tunnel_network
	RenderSprites:
		Image: building.toxin_tunnel_network
	ActorStatValues:
		-Damage:
		Upgrades: upgrade.anthrax_beta
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.anthrax_beta, upgrade.camo_netting
		RequiresCondition: !toxin && !demo && !stealth && !boss && !merged && zh_units
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma
		RequiresCondition: toxin && !merged
	ActorStatOverride@Demo:
		RequiresCondition: demo && !merged
	ActorStatOverride@Merged:
		Upgrades: upgrade.anthrax_gamma, upgrade.demolitions
		RequiresCondition: merged

building.toxin_tunnel_network.no_free_actor:
	Inherits: building.toxin_tunnel_network
	-Buildable:
	-Buildable@Boss:
	-FreeActor@1:
	-FreeActor@2:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: building.toxin_tunnel_network

building.tunnel_network.sneak_attack:
	Inherits: ^default.tunnel_network
	Inherits@AUTOTARGET: ^AutoTargetAll
	Armament:
		Weapon: hack.sneak_attack.unload
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		ReloadingCondition: reload
	AttackOmni@AIAimOnly:
		RequiresCondition: bot_owner && !build-incomplete && !reload
	ActorStatValues:
		Icon: sneak-icon
		IconPalette: chrome

building.stinger_site:
	Inherits: ^Defense
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CAMO: ^CanHaveCamoNettingFreeForStealthGen
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@LEAFLET: ^AffectedByLeaflet
	Inherits@REVEAL: ^Reveal400
	GivesExperience:
		Experience: 200
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 5
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.gla_barracks, !techlevel.nodefense
		Description: actor-building-stinger-site.description
		ReadyTextNotification: Construction Complete: Stinger Site
	BuildPaletteOrderModifier@Merged:
		Queue: queue.gla_building_merged
		Modifier: 3 # 8
	Valued:
		Cost: 900
	Tooltip:
		Name: actor-building-stinger-site.name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: building.stinger_site
	Selectable:
		Bounds: 2048, 2048
	WithBuildingBib:
	-WithMakeAnimation:
	Sellable:
		-RequiresCondition:
	WithSpriteBody:
	WithRangeCircle:
		Range: 5c640
	WithRangeCircle@AA:
		Type: aa
		Range: 10c0
		Color: 00DDDD88
	GrantConditionAfterDelay@enable_weapon:
		Condition: enable_weapon
		ShowSelectionBar: false
		Delay: 11
	AttackOmni:
		PauseOnCondition: emp || hacked || leaflet || !enable_weapon
	Armament@PRIMARY:
		Weapon: hack.stinger_site.ground
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
	Armament@SECONDARY:
		Weapon: hack.stinger_site.air
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
	BodyOrientation:
		QuantizedFacings: 8
	ProximityExternalCondition@Cloak:
		Condition: stinger_cloak
		Range: 1c0
		RequiresCondition: camo_netted
	WithIdleOverlay@CAMO:
		Sequence: idle-camo
		Palette: cloak
	DroneSpawnerMaster:
		SpawnOffset: 511,511,0, -511,-511,0, -511,511,0
		Actors: infantry.stinger_soldier, infantry.stinger_soldier, infantry.stinger_soldier
		RespawnTicks: 400
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
	Exit:
	ProductionBar:
		ProductionType: queue.camo_netting
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	SpawnActorOnDeath:
		Actor: hole.stinger_site
		SpawnAfterDefeat: false
	Voiced:
		VoiceSet: StingerSiteVoice
	ActorStatValues:
		Damage: 20
		Stats: Armor, Sight, Drones, Damage, ReloadDelay, MinRange, None, MaxRange
		Upgrades: upgrade.ap_rockets
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.ap_rockets, upgrade.camo_netting
		RequiresCondition: !toxin && !demo && !stealth && !merged && zh_units
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_rockets

^default.airfield:
	Inherits: ^Building
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	GivesExperience:
		Experience: 250
	Buildable:
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: meta-default-airfield-description
		Prerequisites: prerequisite.supply_center, !techlevel.infonly, !techlevel.noair
	Valued:
		Cost: 1000
	Health:
		HP: 150000
	Armor:
		Type: building.normal
	Exit@1:
		ExitCell: 1,1
		Facing: 768
		SpawnOffset: -512,0,0
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Reservable:
	GrantExternalConditionToOwner:
		Condition: airdock
	RepairsUnits:
		Interval: 14
		HpPerStep: 500
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
	WithResupplyAnimation:
	Power:
		Amount: -1
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@airfield:
		Prerequisite: prerequisite.airfield
	GrantConditionOnInfiltration:
		Duration: 750
	ActorStatValues:
		Stats: Armor, Sight, Power

building.usa_airfield:
	Inherits: ^default.airfield
	Inherits@RANGER: ^EmitRangersOnDeath
	HitShape:
		TargetableOffsets: 0,0,0, -1536,512,0, 0,1536,0, -1536,1536,0, 0,-256,384, 0,-1451,512
		Type: Rectangle
			TopLeft: -2048, -1280
			BottomRight: 2048, 1536
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 5
		ReadyTextNotification: Construction Complete: USA Airfield
	ProductionCostMultiplier@Airforce:
		Queue: queue.air_gen_building, queue.usa_building_merged
		Multiplier: 80
	DamageMultiplier@Airforce:
		RequiresCondition: air || merged
		Modifier: 60
	Tooltip:
		Name: actor-building-usa-airfield-name
	Building:
		Footprint: XXXX xxx= xx==
		Dimensions: 4,3
	Selectable:
		Bounds: 4096, 2730, 0, 256
	Production:
		Produces: queue.usa_aircraft, queue.air_gen_aircraft, queue.super_gen_aircraft, queue.usa_plane, queue.usa_helicopter, queue.usa_air_upgrade
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.usa_aircraft_merged, queue.usa_plane, queue.usa_helicopter, queue.usa_air_upgrade
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: merged
	ProductionQueue@Vanilla:
		Type: queue.usa_aircraft
		Factions: usa, laser, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 43
	ProductionQueue@Airforce:
		Type: queue.air_gen_aircraft
		Factions: air
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 44
	ProductionQueue@Super:
		Type: queue.super_gen_aircraft
		Factions: super
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 45
	ProductionQueue@Merged:
		Type: queue.usa_aircraft_merged
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 46
	ProductionBar@Vanilla:
		ProductionType: queue.usa_aircraft
	ProductionBar@Airforce:
		ProductionType: queue.air_gen_aircraft
	ProductionBar@Super:
		ProductionType: queue.super_gen_aircraft
	ProductionBar@Merged:
		ProductionType: queue.usa_aircraft_merged
	SpawnNeighboringActors@DOCK:
		ActorTypes: hack.dock
		Locations: 2,2, 3,1, 3,2
		RequiresCondition: !build-incomplete
	WithIdleOverlay@DISH:
		Sequence: idle-dish
	Exit@0:
		ProductionTypes: queue.usa_air_upgrade
	Exit@1:
		ProductionTypes: queue.usa_plane
		SpawnOffset: 512,0,0
	Exit@2:
		ExitCell: 1,1
		Facing: 768
		SpawnOffset: -1024,0,0
		ProductionTypes: queue.usa_helicopter
	Exit@3:
		ExitCell: 1,2
		Facing: 768
		SpawnOffset: -1024,544,0
		ProductionTypes: queue.usa_helicopter
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	GrantConditionOnFaction@Airforce:
		Condition: air
		Factions: air
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	ProvidesPrerequisite:
		Prerequisite: prerequisite.usa_airfield_or_war_factory
	Voiced:
		VoiceSet: USAAirfieldVoice

building.prc_airfield:
	Inherits: ^default.airfield
	Inherits@MINE: ^CanHaveMines
	Inherits@SHAPE: ^4x3Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,512,0, 420,-512,0, 420,1536,0, 420,-1536,0, -777,512,0, -777,-512,0, -777,1536,0, -777,-1536,0
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 8
		ReadyTextNotification: Construction Complete: PRC Airfield
	Tooltip:
		Name: actor-building-prc-airfield-name
	Building:
		Footprint: xxxx =x== xxxx
		Dimensions: 4,3
	Production:
		Produces: queue.prc_aircraft, queue.nuke_gen_aircraft, queue.tank_gen_aircraft, queue.boss_gen_aircraft
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !inf && !merged
	Production@Inf_or_Merged:
		Produces: queue.inf_gen_aircraft, queue.boss_gen_aircraft_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: inf || merged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Vanilla:
		Type: queue.prc_aircraft
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 47
	ProductionQueue@Infantry:
		Type: queue.inf_gen_aircraft
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 48
	ProductionQueue@Nuke:
		Type: queue.nuke_gen_aircraft
		Factions: nuke
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 49
	ProductionQueue@Tank:
		Type: queue.tank_gen_aircraft
		Factions: tank
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 50
	ProductionQueue@Boss:
		Type: queue.boss_gen_aircraft
		Factions: boss
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 51
	ProductionQueue@Boss_Merged:
		Type: queue.boss_gen_aircraft_merged
		Factions: boss
		Group: Aircraft
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 52
	ProductionBar@Vanilla:
		ProductionType: queue.prc_aircraft
	ProductionBar@Infantry:
		ProductionType: queue.inf_gen_aircraft
	ProductionBar@Nuke:
		ProductionType: queue.nuke_gen_aircraft
	ProductionBar@Tank:
		ProductionType: queue.tank_gen_aircraft
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_aircraft
	ProductionBar@Boss_Merged:
		ProductionType: queue.boss_gen_aircraft_merged
	SpawnNeighboringActors@DOCK:
		ActorTypes: hack.dock
		Locations: 0,1, 2,1, 3,1
		RequiresCondition: !build-incomplete
	Selectable:
		Bounds: 4096, 2730, 0, -170
	WithIdleOverlay@FLAG:
		Sequence: idle-flag
	GrantConditionOnFaction@Infantry:
		Condition: inf
		Factions: inf
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	ProvidesPrerequisite:
		Prerequisite: prerequisite.prc_airfield_or_war_factory
	ProvidesPrerequisite@destroyer:
		Prerequisite: prerequisite.tech_center_or_boss_airfield
		Factions: boss
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, 1,-1, 2,-1, 3,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,3, 4,2, 4,1, 4,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, 1,-1, 2,-1, 3,-1, -1,0, -1,1, -1,2, 0,3, 1,3, 2,3, 3,3, 4,2, 4,1, 4,0
	Voiced:
		VoiceSet: PRCAirfieldVoice

hack.dock:
	Interactable:
	AlwaysVisible:
	Reservable:
	GrantExternalConditionToOwner:
		Condition: airdock
	Tooltip:
		Name: actor-hack-dock-name
	RepairsUnits:
		Interval: 14
		HpPerStep: 500
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
	Building:
		Footprint: x
		Dimensions: 1,1
		AllowInvalidPlacement: true
	Exit@1:
		Facing: 768
	Targetable: # This is needed for some reason, otherwise they can't land.
	RejectsOrders:

building.internet_center:
	Inherits: ^Building
	Inherits@CARGO: ^CargoPips
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal200
	Inherits@BotOwner: ^BotOwner
	GivesExperience:
		Experience: 200
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,0, 420,-598,256
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-internet-center.name
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.tank_gen_building
		BuildPaletteOrder: 9
		BuildDuration: 750
		BuildDurationModifier: 100
		Prerequisites: building.prc_war_factory, ~prerequisite.zh_units
		Description: actor-building-internet-center.description
		BuildLimit: 1
		ReadyTextNotification: Construction Complete: Internet Center
	Building:
		Footprint: XX xx
		Dimensions: 2,2
	Selectable:
		Bounds: 2048, 1706, 0, 384
		DecorationBounds: 2048, 2261, 0, -170
	SelectionDecorations:
	Production:
		Produces: queue.internet_center, SatelliteHack2
		PauseOnCondition: emp || hacked
	-ProductionQueue@JUST_MINE:
	ProductionQueue:
		Type: queue.internet_center
		Group: Tech
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 52
	ProductionBar:
		ProductionType: queue.internet_center
	PeriodicProducer:
		Actors: camera.satellite_hack2
		Type: SatelliteHack2
		ChargeDuration: 6000
		PauseOnCondition: emp || hacked
		RequiresCondition: satellite_hack2
	Exit:
	Health:
		HP: 250000
	Armor:
		Type: building.internet_center
	WithBuildingBib:
	Cargo:
		Types: Hacker
		MaxWeight: 8
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		EjectOnDeathDamage: 50
		PauseOnCondition: emp || hacked
	FreePassenger@AI_1:
		Actors: infantry.hacker
		RequiresCondition: bot_owner && !inf && !merged && ai_1
	FreePassenger@AI_2:
		Actors: infantry.hacker
		RequiresCondition: bot_owner && !inf && !merged && ai_2
	FreePassenger@AI_3:
		Actors: infantry.hacker
		RequiresCondition: bot_owner && !inf && !merged && ai_3
	FreePassenger@AI_4:
		Actors: infantry.hacker
		RequiresCondition: bot_owner && !inf && !merged && ai_4
	FreePassenger@AI_1_Infantry_or_Merged:
		Actors: infantry.super_hacker
		RequiresCondition: bot_owner && (inf || merged) && ai_1
	FreePassenger@AI_2_Infantry_or_Merged:
		Actors: infantry.super_hacker
		RequiresCondition: bot_owner && (inf || merged) && ai_2
	FreePassenger@AI_3_Infantry_or_Merged:
		Actors: infantry.super_hacker
		RequiresCondition: bot_owner && (inf || merged) && ai_3
	FreePassenger@AI_4_Infantry_or_Merged:
		Actors: infantry.super_hacker
		RequiresCondition: bot_owner && (inf || merged) && ai_4
	GrantConditionAfterDelay@AI_1:
		Condition: ai_1
		Delay: 1
		ShowSelectionBar: false
	GrantConditionAfterDelay@AI_2:
		Condition: ai_2
		Delay: 6
		ShowSelectionBar: false
	GrantConditionAfterDelay@AI_3:
		Condition: ai_3
		Delay: 11
		ShowSelectionBar: false
	GrantConditionAfterDelay@AI_4:
		Condition: ai_4
		Delay: 16
		ShowSelectionBar: false
	ProvidesPrerequisite@buildingname:
	GivesIntelligence:
		Types: SatelliteHack1
		RequiresCondition: satellite_hack1
	GrantConditionOnPrerequisite@SATELLITE_HACK1:
		Condition: satellite_hack1
		Prerequisites: upgrade.satellite_hack1
	GrantConditionOnPrerequisite@SATELLITE_HACK2:
		Condition: satellite_hack2
		Prerequisites: upgrade.satellite_hack2
	GrantConditionOnFaction@Infantry:
		Condition: inf
		Factions: inf
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: InternetCenterVoice
	RenderSprites:
		PlayerPalette: cncplayer
	ActorStatValues:
		Stats: Armor, Sight, Cargo
		Upgrades: upgrade.satellite_hack1, upgrade.satellite_hack2, upgrade.land_mines
		LocalUpgrades: upgrade.land_mines, upgrade.neutron_mines
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.satellite_hack1, upgrade.satellite_hack2, upgrade.land_mines, upgrade.neutron_mines

building.strategy_center:
	Inherits: ^Building
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal400
	Inherits@SHAPE: ^3x2Shape
	GivesExperience:
		Experience: 250
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 8
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: prerequisite.usa_airfield_or_war_factory, !techlevel.notech
		Description: actor-building-strategy-center.description
		ReadyTextNotification: Construction Complete: Strategy Center
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-strategy-center.name
	Building:
		Footprint: Xxx xxX
		Dimensions: 3,2
	Selectable:
		Bounds: 3072, 2048
		DecorationBounds: 3072, 2474, 0, -426
	SelectionDecorations:
	Health:
		HP: 150000
	Armor:
		Type: building.normal
	WithBuildingBib:
	Power:
		Amount: -2
	Production:
		Produces: queue.strategy_center, Intelligence
		PauseOnCondition: emp || hacked
		RequiresCondition: merged || (!air && !super)
	Production@Merged:
		Produces: queue.air_gen_strategy_center, Intelligence
		PauseOnCondition: emp || hacked
		RequiresCondition: !merged && (air || super)
	ProductionQueue@Vanilla:
		Type: queue.strategy_center
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 53
	ProductionQueue@Airforce:
		Type: queue.air_gen_strategy_center
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 54
	ProductionBar@Vanilla:
		ProductionType: queue.strategy_center
	ProductionBar@Airforce:
		ProductionType: queue.air_gen_strategy_center
	Exit:
	AirstrikePower@CARPET_BOMB:
		PauseOnCondition: emp || hacked || lowpower
		StartFullyChargedForTheFirstTime: true
		Prerequisites:
			1: generals_power.carpet_bombing.airforce
		Icons:
			1: carpet_bombing_airforce
		ChargeInterval: 3750
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		Names:
			1: Carpet Bombing
		Descriptions:
			1: A B-2 does carpet bombing at the target.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: aircraft.b2.carpet
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPosters:
			1: carpet_bombing_airforce
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		OrderName: CarpetBombingUSAPowerInfoOrder
	ProduceActorPower@INTELLIGENCE:
		PauseOnCondition: emp || hacked
		OrderName: IntelligenceZHPowerInfoOrder
		Names:
			1: Intelligence
		Descriptions:
			1: Makes all enemy units visible for 30 seconds.
		Prerequisites:
			1: prerequisite.zh_units
		Icons:
			1: intelligence
		ChargeInterval: 7500
		StartFullyChargedForTheFirstTime: true
		Actors: camera.intelligence
		Type: Intelligence
	SupportPowerChargeBar:
	Turreted:
		TurnSpeed: 12
		InitialFacing: 384
		RealignDelay: -1
		Offset: -416, -576, 0
	RenderDetectionCircle:
	DetectCloaked:
		Range: 12c512
		RequiresCondition: search_and_destroy && !emp && !hacked && !lowpower
	Armament:
		Weapon: cannon.strategy_center
		LocalOffset: 520,0,450
		RequiresCondition: bombardment
	DamageMultiplier@HOLD_THE_LINE:
		RequiresCondition: hold_the_line
		Modifier: 50
	WithIdleOverlay@HOLD_THE_LINE:
		Sequence: hold_the_line
		Palette: effect
		RequiresCondition: hold_the_line
	WithIdleOverlay@SEARCH_AND_DESTROY:
		Sequence: search_and_destroy
		RequiresCondition: search_and_destroy
	AttackTurreted:
		PauseOnCondition: build-incomplete || emp || hacked || lowpower
	WithRangeCircle:
		Range: 10c0
		Color: DDDD0088
		RequiresCondition: bombardment
	WithSpriteTurret:
		RequiresCondition: bombardment && !build-incomplete
	-CommandBarBlacklist:
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.tech_center
	ProvidesPrerequisite@destroyer:
		Prerequisite: prerequisite.tech_center_or_boss_airfield
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
	GrantConditionOnFaction@Airforce:
		Condition: air
		Factions: air
	GrantConditionOnFaction@Super:
		Condition: super
		Factions: super
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: StrategyCenterVoice
	ActorStatValues:
		Damage: 200
		Stats: Armor, Sight, Power
	ActorStatOverride:
		Stats: Armor, Sight, Power, Damage, ReloadDelay, MaxRange
		RequiresCondition: bombardment

building.palace:
	Inherits: ^Building
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@CARGO: ^CargoPips
	Inherits@CIRCLE: ^WithCargoRangeCircle
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	Inherits@REVEAL: ^Reveal300
	Inherits@SHAPE: ^3x2Shape
	GivesExperience:
		Experience: 300
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 6
		BuildDuration: 1125
		BuildDurationModifier: 100
		Prerequisites: building.arms_dealer, !techlevel.notech
		Description: actor-building-palace.description
		ReadyTextNotification: Construction Complete: Palace
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-palace.name
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Selectable:
		Bounds: 3072, 2048
		DecorationBounds: 3072, 2901, 0, -512
	SelectionDecorations:
	Health:
		HP: 300000
	Armor:
		Type: building.normal
	WithBuildingBib:
	Turreted:
		TurnSpeed: 1023
	-CommandBarBlacklist:
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	Cargo:
		Types: Infantry, GLAInfantry, Hacker, Pilot
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		OwnerChangedAffectsPassengers: false
		AfterUnloadDelay: 0
		EjectOnDeathDamage: 0
		PauseOnCondition: emp || hacked
	WithCargoSounds:
		EnterSounds: ggarenta.wav, ggarentb.wav, ggarentc.wav
		ExitSounds: ggarexia.wav, ggarexib.wav, ggarexic.wav
	AttackGarrisoned:
		Armaments: garrison
		PortOffsets: 0,-896,128, 0,896,128, 840,0,128, -706,0,128, -706,-768,128, -706,640,128
		PortYaws: 256, 768, 0, 512, 384, 640
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: build-incomplete || emp
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.tech_center
	ProvidesPrerequisite@destroyer:
		Prerequisite: prerequisite.tech_center_or_boss_airfield
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
	Production:
		Produces: queue.palace, queue.toxin_gen_palace, queue.demo_gen_palace, queue.stealth_gen_palace
		PauseOnCondition: emp || hacked
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.palace_merged
		PauseOnCondition: emp || hacked
		RequiresCondition: merged
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Vanilla:
		Type: queue.palace
		Factions: usa, air, laser, super, gla, prc, inf, nuke, tank, boss
		AlwaysShowForFactions: usa, air, laser, super, gla, prc, inf, nuke, tank, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 55
	ProductionQueue@Toxin:
		Type: queue.toxin_gen_palace
		Factions: toxin
		AlwaysShowForFactions: toxin
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 56
	ProductionQueue@Demo:
		Type: queue.demo_gen_palace
		Factions: demo
		AlwaysShowForFactions: demo
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 57
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_palace
		Factions: stealth
		AlwaysShowForFactions: stealth
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 58
	ProductionQueue@Merged:
		Type: queue.palace_merged
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 59
	ProductionBar@Vanilla:
		ProductionType: queue.palace
	ProductionBar@Toxin:
		ProductionType: queue.toxin_gen_palace
	ProductionBar@Demo:
		ProductionType: queue.demo_gen_palace
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_palace
	ProductionBar@Merged:
		ProductionType: queue.palace_merged
	Exit:
	WithDeathAnimation:
		DeathSequence: dead
		DeathSequencePalette: cncplayer
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: hole.palace
		SpawnAfterDefeat: false
	RenderSprites:
		PlayerPalette: cncplayer
	Voiced:
		VoiceSet: PalaceVoice
	ActorStatValues:
		Stats: Armor, Sight, Cargo
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.propaganda_center:
	Inherits: ^Building
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal200
	Inherits@SHAPE: ^3x2Shape
	GivesExperience:
		Experience: 200
	HitShape:
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged
		BuildPaletteOrder: 10
		BuildDuration: 1125
		BuildDurationModifier: 100
		Prerequisites: prerequisite.prc_airfield_or_war_factory, !techlevel.notech
		Description: actor-building-propaganda-center.description
		ReadyTextNotification: Construction Complete: Propaganda Center
	Valued:
		Cost: 2000
	Tooltip:
		Name: actor-building-propaganda-center.name
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	Selectable:
		Bounds: 3072, 2048
	WithBuildingBib:
	Production:
		Produces: queue.propaganda_center, queue.inf_gen_propaganda_center, queue.nuke_gen_propaganda_center, queue.tank_gen_propaganda_center
		PauseOnCondition: emp || hacked
		RequiresCondition: !merged
	Production@Merged:
		Produces: queue.propaganda_center_merged
		PauseOnCondition: emp || hacked
		RequiresCondition: merged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Vanilla:
		Type: queue.propaganda_center
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, boss
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 59
	ProductionQueue@Infantry:
		Type: queue.inf_gen_propaganda_center
		Factions: inf
		AlwaysShowForFactions: inf
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 60
	ProductionQueue@Nuke:
		Type: queue.nuke_gen_propaganda_center
		Factions: nuke
		AlwaysShowForFactions: nuke
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 61
	ProductionQueue@Tank:
		Type: queue.tank_gen_propaganda_center
		Factions: tank
		AlwaysShowForFactions: tank
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 62
	ProductionQueue@Merged:
		Type: queue.propaganda_center_merged
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 63
	ProductionBar@Vanilla:
		ProductionType: queue.propaganda_center
	ProductionBar@Inf:
		ProductionType: queue.inf_gen_propaganda_center
	ProductionBar@Nuke:
		ProductionType: queue.nuke_gen_propaganda_center
	ProductionBar@Tank:
		ProductionType: queue.tank_gen_propaganda_center
	ProductionBar@Merged:
		ProductionType: queue.propaganda_center_merged
	Exit:
	Power:
		Amount: -2
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: prerequisite.tech_center
	ProvidesPrerequisite@destroyer:
		Prerequisite: prerequisite.tech_center_or_boss_airfield
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
	LaysMinefield@LAND_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, 0,2, 1,2, 2,2, 3,1, 3,0
	LaysMinefield@NEUTRON_MINES:
		Locations: 0,-1, 1,-1, 2,-1, -1,0, -1,1, 0,2, 1,2, 2,2, 3,1, 3,0
	Voiced:
		VoiceSet: PropagandaCenterVoice
	ActorStatValues:
		Stats: Armor, Sight, Power

building.detention_camp:
	Inherits: ^Building
	Inherits@SHAPE: ^3x2Shape
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal200
	HitShape:
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 9
		BuildDuration: 750
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, ~!prerequisite.zh_units, !techlevel.notech
		Description: actor-building-detention-camp.description
		ReadyTextNotification: Construction Complete: Detention Camp
	BuildPaletteOrderModifier@Merged:
		Queue: queue.usa_building_merged
		Modifier: -1 # 8
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-building-detention-camp.name
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
	Health:
		HP: 200000
	Armor:
		Type: building.normal
	WithBuildingBib:
	ProvidesPrerequisite@buildingname:
	Production:
		Produces: Intelligence
	Exit:
	ProduceActorPower@INTELLIGENCE:
		PauseOnCondition: emp || hacked
		OrderName: IntelligencePowerInfoOrder
		Names:
			1: Intelligence
		Descriptions:
			1: Makes all enemy units visible for 30 seconds.
		Prerequisites:
			1: !prerequisite.zh_units
		Icons:
			1: intelligence
		ChargeInterval: 4500
		StartFullyChargedForTheFirstTime: true
		Actors: camera.intelligence
		Type: Intelligence
	SupportPowerChargeBar:
	Voiced:
		VoiceSet: DetentionCampVoice

building.supply_drop_zone:
	Inherits: ^Building
	Inherits@SHAPE: ^2x2Shape
	Inherits@SUPPLY_LINES: ^AffectedBySupplyLines
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal100
	GivesExperience:
		Experience: 200
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 10
		BuildDuration: 1125
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, !techlevel.notech
		Description: actor-building-supply-drop-zone.description
		ReadyTextNotification: Construction Complete: Supply Drop Zone
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-supply-drop-zone.name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	Selectable:
		Bounds: 2048, 2048
	WithBuildingBib:
	WithDeliveryAnimation:
		RequiresCondition: !build-incomplete
	WithIdleOverlay@Smoke:
		Sequence: smoke
		Palette: player
		IsDecoration: true
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete
	Power:
		Amount: -4
	ProvidesPrerequisite@buildingname:
	ProductionParadrop@SupplyDrop:
		Produces: SupplyDrop
		ActorType: aircraft.cargo_plane
		ChuteSound: sparadra.wav
	PeriodicProducer@SupplyDrop:
		Actors: crate.supply_drop
		ChargeDuration: 3000
		Type: SupplyDrop
		ShowSelectionBar: true
		ChargeColor: FF00FF
		PauseOnCondition: emp || hacked
	Exit:
	-CashTricklerMultiplier@SUPPLY_LINES:
	-GrantConditionOnPrerequisite@SUPPLY_LINES:
	Voiced:
		VoiceSet: SupplyDropVoice
	ActorStatValues:
		Stats: Armor, Sight, Power, None, None, None, PeriodicProducer

building.black_market:
	Inherits: ^Building
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	Inherits@REVEAL: ^Reveal200
	GivesExperience:
		Experience: 200
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,0, 420,-598,256
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-building-black-market.name
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 7
		BuildDuration: 750
		BuildDurationModifier: 100
		Prerequisites: building.palace, !techlevel.notech
		Description: actor-building-black-market.description
		ReadyTextNotification: Construction Complete: Black Market
	Building:
		Footprint: XX xx
		Dimensions: 2,2
	Selectable:
		Bounds: 2048, 2560, 0, -426
	SelectionDecorations:
	Production:
		Produces: queue.black_market
		PauseOnCondition: emp || hacked
		RequiresCondition: !stealth && !merged
	Production@Stealth_or_Merged:
		Produces: queue.stealth_gen_black_market
		PauseOnCondition: emp || hacked
		RequiresCondition: stealth || merged
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Vanilla:
		Type: queue.black_market
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 61
	ProductionQueue@Stealth:
		Type: queue.stealth_gen_black_market
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank, boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 62
	ProductionBar@Vanilla:
		ProductionType: queue.black_market
	ProductionBar@Stealth:
		ProductionType: queue.stealth_gen_black_market
	Exit:
	CashTrickler:
		Interval: 25
		Amount: 20
		PauseOnCondition: emp || hacked
	Health:
		HP: 100000
	Armor:
		Type: building.normal
	WithBuildingBib:
	ProvidesPrerequisite@buildingname:
	SpawnActorOnDeath:
		Actor: hole.black_market
		SpawnAfterDefeat: false
	Voiced:
		VoiceSet: BlackMarketVoice
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.fortified_structures, upgrade.camo_netting

building.speaker_tower:
	Inherits: ^Building
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@REVEAL: ^Reveal200
	GivesExperience:
		Experience: 50
	Valued:
		Cost: 500
	Tooltip:
		Name: actor-building-speaker-tower.name
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged
		BuildPaletteOrder: 11
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, !techlevel.notech, !techlevel.nodefense
		Description: actor-building-speaker-tower.description
		ReadyTextNotification: Construction Complete: Speaker Tower
	Buildable@Boss:
		Queue: queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 9
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.prc_airfield, !techlevel.notech, !techlevel.nodefense
		Description: actor-building-speaker-tower.description
		ReadyTextNotification: Construction Complete: Speaker Tower
	BuildPaletteOrderModifier@Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 1 # 10
	Selectable:
		Bounds: 1024, 1024
		DecorationBounds: 1024, 2048, 0, -512
		Class: building.speaker_tower
	SelectionDecorations:
	WithSpriteBody:
		PauseOnCondition: emp || hacked || lowpower
	Health:
		HP: 30000
	Armor:
		Type: building.normal
	WithBuildingBib:
		HasMinibib: true
	Power:
		Amount: -1
	MustBeDestroyed:
		RequiredForShortGame: false
	FireWarheadsOnDeath:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Targetable:
		TargetTypes: GroundActor, Structure, NonGarrisonedStructure, C4, DetonateAttack, Disable
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	-DelayedWeaponAttachable@BOOBY_TRAP:
	-TriggersDelayedWeapon@BOOBY_TRAP:
	-Targetable@BOOBY_TRAP:
	-WithDecoration@BOOBY_TRAP:
	WithRangeCircle:
		Type: speaker
		Range: 4c0
		Color: DD000066
	ProximityExternalCondition@SPEAKER:
		Condition: speaker_tower
		Range: 4c0
		RequiresCondition: !emp && !hacked
	RenderSprites:
		Image: building.speaker_tower
	Voiced:
		VoiceSet: SpeakerTowerVoice
	ActorStatValues:
		Stats: Armor, Sight, Power
		Upgrades: upgrade.subliminal_messaging

building.particle_cannon:
	Inherits: ^Building
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@MINE: ^CanHaveMinesBossOnly
	Inherits@RANGER: ^EmitRangersOnDeath
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	GivesExperience:
		Experience: 400
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,128, 420,-598,213
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 5000
	Tooltip:
		Name: actor-building-particle-cannon.name
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building
		BuildPaletteOrder: 11
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, !prerequisite.enough_particle, !techlevel.notech, !techlevel.nosw
		Description: actor-building-particle-cannon.description
		ReadyTextNotification: Construction Complete: Particle Uplink Cannon
	Buildable@Boss:
		Queue: queue.boss_gen_building
		BuildPaletteOrder: 11
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: building.prc_war_factory, building.prc_airfield, !prerequisite.enough_particle, !techlevel.notech, !techlevel.nosw
		Description: actor-building-particle-cannon.description
		ReadyTextNotification: Construction Complete: Particle Uplink Cannon
	Building:
		Footprint: XX xx
		Dimensions: 2,2
	Selectable:
		Bounds: 2048, 1706, 0, 384
		DecorationBounds: 2048, 2261, 0, -170
		Class: building.particle_cannon
	SelectionDecorations:
	WithSpriteBody:
		PauseOnCondition: emp || hacked || lowpower || sabotaged
	Health:
		HP: 400000
	Armor:
		Type: building.tough
	WithBuildingBib:
	Production:
		Produces: queue.boss_gen_particle_cannon
		PauseOnCondition: emp || hacked || sabotaged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Boss:
		Type: queue.boss_gen_particle_cannon
		Factions: boss
		AlwaysShowForFactions: boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 65
	ProductionBar:
		ProductionType: queue.boss_gen_particle_cannon
	Exit:
	SpawnActorPower@PARTICLE_CANNON:
		PauseOnCondition: emp || hacked || lowpower || sabotaged
		OrderName: ParticleCannonPowerInfoOrder
		Names:
			1: Particle Cannon
		Descriptions:
			1: Initiates an Particle Cannon strike.
		Prerequisites:
			1: building.particle_cannon
		Icons:
			1: particle_cannon
		BlockedCursor: move-blocked
		ChargeInterval: 6000
		DisplayTimerRelationships: Enemy, Neutral, Ally
		AllowMultiple: True
		Actors:
			1: hack.particle_beam
		LifeTime: -1
		EffectSequence: idle
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: ParticleCannonLaunchDetected
	SupportPowerChargeBar:
	InfiltrateForSupportPowerReset:
		Types: Sabotage
	Power:
		Amount: -10
	ProvidesPrerequisite@buildingname:
		Prerequisite: building.particle_cannon
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
		Factions: boss
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_particle
		RequiresCondition: limited_sw
	GrantConditionOnPrerequisite@LIMIT:
		Condition: limited_sw
		Prerequisites: prerequisite.limited_sw
	GrantConditionOnInfiltration:
		Duration: 250
	RevealsShroud@SW:
		Range: 2c0
		ValidRelationships: Enemy
	Voiced:
		VoiceSet: ParticleCannonVoice
	RenderSprites:
		PlayerPalette: cncplayer
	ActorStatValues:
		Stats: Armor, Sight, Power

building.particle_cannon.super:
	Inherits: building.particle_cannon
	Buildable:
		Queue: queue.super_gen_building, queue.usa_building_merged
	Buildable@Boss:
		Queue: queue.boss_gen_building_merged
		BuildPaletteOrder: 12
	Valued:
		Cost: 2500

building.scud_storm:
	Inherits: ^Building
	Inherits@CAMO: ^CanHaveCamoNettingStealthGenOnly
	Inherits@FORTIFY: ^AffectedByFortifiedStructures
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	Inherits@SHAPE: ^2x2Shape
	GivesExperience:
		Experience: 400
	Valued:
		Cost: 5000
	Tooltip:
		Name: actor-building-scud-storm.name
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 9
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: building.palace, !prerequisite.enough_scud, !techlevel.notech, !techlevel.nosw
		Description: actor-building-scud-storm.description
		ReadyTextNotification: Construction Complete: SCUD Storm
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 400000
	Armor:
		Type: building.tough
	Selectable:
		Bounds: 2048, 2048
		Class: building.scud_storm
	AttackTurreted:
		Turrets: A, B, C, D
		Armaments: disabled
		OpportunityFire: false
		PersistentTargeting: false
	Armament@NORMAL_A:
		Turret: A
		Weapon: missile.scud_storm
		RequiresCondition: !anthrax_beta && !anthrax_gamma && !demo
	Armament@BETA_A:
		Turret: A
		Weapon: missile.scud_storm.beta
		RequiresCondition: anthrax_beta && !anthrax_gamma && !demo
	Armament@GAMMA_A:
		Turret: A
		Weapon: missile.scud_storm.gamma
		RequiresCondition: anthrax_gamma && !demo
	Armament@DEMO_A:
		Turret: A
		Weapon: missile.scud_storm.demo
		RequiresCondition: demo
	Armament@NORMAL_B:
		Turret: B
		Weapon: missile.scud_storm
		RequiresCondition: !anthrax_beta && !anthrax_gamma && !demo
	Armament@BETA_B:
		Turret: B
		Weapon: missile.scud_storm.beta
		RequiresCondition: anthrax_beta && !anthrax_gamma && !demo
	Armament@GAMMA_B:
		Turret: B
		Weapon: missile.scud_storm.gamma
		RequiresCondition: anthrax_gamma && !demo
	Armament@DEMO_B:
		Turret: B
		Weapon: missile.scud_storm.demo
		RequiresCondition: demo
	Armament@NORMAL_C:
		Turret: C
		Weapon: missile.scud_storm
		RequiresCondition: !anthrax_beta && !anthrax_gamma && !demo
	Armament@BETA_C:
		Turret: C
		Weapon: missile.scud_storm.beta
		RequiresCondition: anthrax_beta && !anthrax_gamma && !demo
	Armament@GAMMA_C:
		Turret: C
		Weapon: missile.scud_storm.gamma
		RequiresCondition: anthrax_gamma && !demo
	Armament@DEMO_C:
		Turret: C
		Weapon: missile.scud_storm.demo
		RequiresCondition: demo
	Armament@NORMAL_D:
		Turret: D
		Weapon: missile.scud_storm
		RequiresCondition: !anthrax_beta && !anthrax_gamma && !demo
	Armament@BETA_D:
		Turret: D
		Weapon: missile.scud_storm.beta
		RequiresCondition: anthrax_beta && !anthrax_gamma && !demo
	Armament@GAMMA_D:
		Turret: D
		Weapon: missile.scud_storm.gamma
		RequiresCondition: anthrax_gamma && !demo
	Armament@DEMO_D:
		Turret: D
		Weapon: missile.scud_storm.demo
		RequiresCondition: demo
	Turreted@A:
		Turret: A
		TurnSpeed: 8
		Offset: -512, -512, 0
	Turreted@B:
		Turret: B
		TurnSpeed: 8
		Offset: 512, -512, 0
	Turreted@C:
		Turret: C
		TurnSpeed: 8
		Offset: -512, 512, 0
	Turreted@D:
		Turret: D
		TurnSpeed: 8
		Offset: 512, 512, 0
	AmmoPool:
		Ammo: 8
		AmmoCondition: ammo
	WithSpriteTurret@A_Full:
		Turret: A
		Sequence: turret-full
		RequiresCondition: ammo
	WithSpriteTurret@A_Empty:
		Turret: A
		Sequence: turret-empty
		RequiresCondition: !ammo
	WithSpriteTurret@B_Full:
		Turret: B
		Sequence: turret-full
		RequiresCondition: ammo
	WithSpriteTurret@B_Empty:
		Turret: B
		Sequence: turret-empty
		RequiresCondition: !ammo
	WithSpriteTurret@C_Full:
		Turret: C
		Sequence: turret-full
		RequiresCondition: ammo
	WithSpriteTurret@C_Empty:
		Turret: C
		Sequence: turret-empty
		RequiresCondition: !ammo
	WithSpriteTurret@D_Full:
		Turret: D
		Sequence: turret-full
		RequiresCondition: ammo
	WithSpriteTurret@D_Empty:
		Turret: D
		Sequence: turret-empty
		RequiresCondition: !ammo
	InfiltrateForSupportPowerReset:
		Types: Sabotage
	SupportPowerChargeBar:
	WithBuildingBib:
	-WithMakeAnimation:
	Sellable:
		-RequiresCondition:
	Capturable:
		-RequiresCondition:
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	GrantConditionOnFaction@Demo:
		Condition: demo
		Factions: demo
	FireArmamentPower:
		PauseOnCondition: emp || hacked || sabotaged
		OrderName: SCUDStormPowerInfoOrder
		Names:
			1: SCUD Storm
		Descriptions:
			1: Fires 8 SCUD Missiles anywhere on the map.
		Prerequisites:
			1: building.scud_storm
		Icons:
			1: scud_storm
		Cursor: nuke
		ChargeInterval: 7500
		DisplayTimerRelationships: Enemy, Neutral, Ally
		AllowMultiple: True
		DisplayBeacon: False
		BeaconPosters:
			1: scud_storm
		ArmamentName: primary
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: ScudLaunchDetected
	ProvidesPrerequisite@buildingname:
		Prerequisite: building.scud_storm
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
		Factions: boss
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_scud
		RequiresCondition: limited_sw
	Exit:
	ProductionBar:
		ProductionType: queue.camo_netting
	GrantConditionOnPrerequisite@LIMIT:
		Condition: limited_sw
		Prerequisites: prerequisite.limited_sw
	RevealsShroud@SW:
		Range: 2c0
		ValidRelationships: Enemy
		RequiresCondition: !camo_netted
	SpawnActorOnDeath:
		Actor: hole.scud_storm
		SpawnAfterDefeat: false
	Voiced:
		VoiceSet: SCUDStormVoice
	RenderSprites:
		Image: building.scud_storm
	ReloadAmmoPool:
		Count: 8
		Delay: 100
	ActorStatValues:
		Upgrades: upgrade.anthrax_beta
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.anthrax_beta, upgrade.fortified_structures
		RequiresCondition: !toxin && !demo && !stealth && !merged && zh_units
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma
		RequiresCondition: (toxin || merged) && !zh_units
	ActorStatOverride@Toxin_ZH_UNITS:
		Upgrades: upgrade.anthrax_gamma, upgrade.fortified_structures
		RequiresCondition: toxin && !merged && zh_units
	ActorStatOverride@Demo:
		Upgrades:
		RequiresCondition: demo && !merged && !zh_units
	ActorStatOverride@Demo_ZH_UNITS:
		Upgrades: upgrade.fortified_structures
		RequiresCondition: demo && !merged && zh_units
	ActorStatOverride@Stealth_ZH_UNITS:
		Upgrades: upgrade.anthrax_beta, upgrade.fortified_structures, upgrade.camo_netting
		RequiresCondition: stealth && !merged && zh_units
	ActorStatOverride@Merged_ZH_UNITS:
		Upgrades: upgrade.anthrax_gamma, upgrade.fortified_structures, upgrade.camo_netting
		RequiresCondition: merged && zh_units

building.scud_storm.boss:
	Inherits: building.scud_storm
	Inherits@MINE: ^CanHaveMines
	Buildable:
		Queue: queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 12
		Prerequisites: building.prc_war_factory, building.prc_airfield, !prerequisite.enough_scud, !techlevel.notech, !techlevel.nosw
	BuildPaletteOrderModifier@Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 1 # 13
	Production:
		Produces: queue.boss_gen_scud_storm
		PauseOnCondition: emp || hacked || sabotaged
		-RequiresCondition:
	-ProductionQueue@JUST_MINE:
	-ProductionQueue@CAMO_NETTING:
	ProductionQueue@Boss:
		Type: queue.boss_gen_scud_storm
		Factions: boss
		AlwaysShowForFactions: boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		DisplayOrder: 65
	ProductionBar:
		ProductionType: queue.boss_gen_scud_storm
	-GrantConditionOnPrerequisite@MERGE_GENERALS:
	-GrantConditionOnFaction@Stealth:
	-GrantConditionOnFaction@Toxin:
	-ActorStatOverride@Toxin:
	-ActorStatOverride@Toxin_ZH_UNITS:
	-ActorStatOverride@Demo:
	-ActorStatOverride@Demo_ZH_UNITS:
	-ActorStatOverride@Stealth_ZH_UNITS:
	-ActorStatOverride@Merged_ZH_UNITS:

building.missile_silo:
	Inherits: ^Building
	Inherits@LOWPOWER: ^DisableOnLowPower
	Inherits@MINE: ^CanHaveMines
	Inherits@REVEAL: ^Reveal200
	Inherits@SABOTAGE: ^CanBeSabotaged
	Inherits@SHAPE: ^2x1Shape
	GivesExperience:
		Experience: 400
	Valued:
		Cost: 5000
	Tooltip:
		Name: actor-building-missile-silo.name
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged
		BuildPaletteOrder: 13
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, !prerequisite.enough_nuke, !techlevel.notech, !techlevel.nosw
		Description: actor-building-missile-silo.description
		ReadyTextNotification: Construction Complete: Nuclear Missile Silo
	Buildable@Boss:
		Queue: queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 13
		BuildDuration: 1500
		BuildDurationModifier: 100
		Prerequisites: building.prc_war_factory, building.prc_airfield, !prerequisite.enough_nuke, !techlevel.notech, !techlevel.nosw
		Description: actor-building-missile-silo.description
		ReadyTextNotification: Construction Complete: Nuclear Missile Silo
	BuildPaletteOrderModifier@Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 1 # 14
	ProductionCostMultiplier@Nuke:
		Queue: queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building_merged
		Multiplier: 90
	Building:
		Footprint: xx ==
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	WithBuildingBib:
	Health:
		HP: 400000
	Armor:
		Type: building.tough
	Selectable:
		Bounds: 2048, 1024
		Class: building.missile_silo
	Production:
		Produces: queue.missile_silo, queue.inf_gen_missile_silo, queue.tank_gen_missile_silo, queue.boss_gen_missile_silo
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: !nuke && !merged
	Production@Nuke_or_Merged:
		Produces: queue.nuke_gen_missile_silo, queue.boss_gen_missile_silo_merged
		PauseOnCondition: emp || hacked || sabotaged
		RequiresCondition: nuke || merged
	-ProductionQueue@JUST_MINE:
	ProductionQueue@Vanilla:
		Type: queue.missile_silo
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, nuke
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, prc, nuke
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 64
	ProductionQueue@Infantry:
		Type: queue.inf_gen_missile_silo
		Factions: inf
		AlwaysShowForFactions: inf
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 65
	ProductionQueue@Nuke:
		Type: queue.nuke_gen_missile_silo
		Factions: usa, air, laser, super, gla, toxin, demo, stealth, prc, inf, nuke, tank
		AlwaysShowForFactions: usa, air, laser, super, gla, toxin, demo, stealth, inf, prc, nuke, tank
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 66
	ProductionQueue@Tank:
		Type: queue.tank_gen_missile_silo
		Factions: tank
		AlwaysShowForFactions: tank
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 67
	ProductionQueue@Boss:
		Type: queue.boss_gen_missile_silo
		Factions: boss
		AlwaysShowForFactions: boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 68
	ProductionQueue@Boss_Merged:
		Type: queue.boss_gen_missile_silo_merged
		Factions: boss
		AlwaysShowForFactions: boss
		Group: Tech
		QueuedAudio: Training
		PayUpFront: true
		DisallowPaused: true
		LowPowerModifier: 200
		DisplayOrder: 69
	ProductionBar@Vanilla:
		ProductionType: queue.missile_silo
	ProductionBar@Infantry:
		ProductionType: queue.inf_gen_missile_silo
	ProductionBar@Nuke:
		ProductionType: queue.nuke_gen_missile_silo
	ProductionBar@Tank:
		ProductionType: queue.tank_gen_missile_silo
	ProductionBar@Boss:
		ProductionType: queue.boss_gen_missile_silo
	ProductionBar@Boss_Merged:
		ProductionType: queue.boss_gen_missile_silo_merged
	Exit:
	NukePower:
		PauseOnCondition: emp || hacked || lowpower || sabotaged
		Names:
			1: Atom Bomb
		Descriptions:
			1: Launches a devastating atomic bomb\nat a target location.
		Prerequisites:
			1: building.missile_silo
		Icons:
			1: atom_bomb
		Cursor: nuke
		ChargeInterval: 9000
		DisplayTimerRelationships: Enemy, Neutral, Ally
		AllowMultiple: True
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPosters:
			1: atom_bomb
		MissileWeapons:
			1: atomic
		MissileImage: atomic
		SpawnOffset: 0,427,0
		CameraRange: 7c0
		CameraSpawnAdvance: 0
		CameraRemoveDelay: 50
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: NukeLaunchDetected
	SupportPowerChargeBar:
	InfiltrateForSupportPowerReset:
		Types: Sabotage
	Power:
		Amount: -10
	ProvidesPrerequisite@buildingname:
		Prerequisite: building.missile_silo
	ProvidesPrerequisite@cruiser:
		Prerequisite: prerequisite.tech_center_or_boss_sw
		Factions: boss
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_nuke
		RequiresCondition: limited_sw
	GrantConditionOnPrerequisite@LIMIT:
		Condition: limited_sw
		Prerequisites: prerequisite.limited_sw
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	GrantConditionOnFaction@Nuke:
		Condition: nuke
		Factions: nuke
	GrantConditionOnInfiltration:
		Duration: 250
	RevealsShroud@SW:
		Range: 2c0
		ValidRelationships: Enemy
	Voiced:
		VoiceSet: MissileSiloVoice
	-WithSpriteBody:
	WithTerrainDependantSpriteBody:
	WithSupportPowerActivationAnimation@GREEN:
		RequiresCondition: !on_snow && !on_sand && !build-incomplete
	WithSupportPowerActivationAnimation@WHITE:
		Sequence: active-snow
		RequiresCondition: on_snow && !build-incomplete
	WithSupportPowerActivationAnimation@YELLOW:
		Sequence: active-sand
		RequiresCondition: on_sand && !build-incomplete
	GrantConditionOnTerrain@SNOW:
		Condition: on_snow
		TerrainTypes: Snow, SnowRoad
	GrantConditionOnTerrain@SAND:
		Condition: on_sand
		TerrainTypes: Sand, SandRoad
	RenderSprites:
		Image: building.missile_silo
	ActorStatValues:
		Stats: Armor, Sight, Power

SBAG:
	Inherits: ^Wall
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged
		BuildPaletteOrder: 12
		ForceIconLocation: true
		BuildDuration: 75
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.walls
		Description: actor-sbag.description
		ReadyTextNotification: Construction Complete: Sandbag Wall
	BuildPaletteOrderModifier@Merged:
		Queue: queue.usa_building_merged
		Modifier: 3 # 15
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: actor-sbag.name
	Health:
		HP: 30000
	Armor:
		Type: building.normal
	LineBuild:
		Range: 8
		NodeTypes: sandbag
	LineBuildNode:
		Types: sandbag
	WithWallSpriteBody:
		Type: sandbag

FENC:
	Inherits: ^Wall
	Buildable:
		Queue: queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged
		BuildPaletteOrder: 24
		ForceIconLocation: true
		BuildDuration: 75
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.walls
		Description: actor-fenc.description
		ReadyTextNotification: Construction Complete: Wire Fence
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: actor-fenc.name
	Health:
		HP: 30000
	Armor:
		Type: building.normal
	LineBuild:
		Range: 8
		NodeTypes: fence
	LineBuildNode:
		Types: fence
	WithWallSpriteBody:
		Type: fence

CYCL:
	Inherits: ^Wall
	Buildable:
		Queue: queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 15
		ForceIconLocation: true
		BuildDuration: 75
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.walls
		Description: actor-cycl.description
		ReadyTextNotification: Construction Complete: Chain-Link Barrier
	BuildPaletteOrderModifier@Boss_Merged:
		Queue: queue.boss_gen_building_merged
		Modifier: 3 # 18
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: actor-cycl.name
	Health:
		HP: 30000
	Armor:
		Type: building.normal
	LineBuild:
		Range: 8
		NodeTypes: chain
	LineBuildNode:
		Types: chain
	WithWallSpriteBody:
		Type: chain

BRIK:
	Inherits: ^Wall
	Buildable:
		Queue: queue.usa_building, queue.air_gen_building, queue.laser_gen_building, queue.super_gen_building, queue.usa_building_merged, queue.gla_building, queue.toxin_gen_building, queue.demo_gen_building, queue.gla_building_merged, queue.prc_building, queue.inf_gen_building, queue.nuke_gen_building, queue.prc_building_merged, queue.boss_gen_building, queue.boss_gen_building_merged
		BuildPaletteOrder: 25
		BuildDuration: 150
		BuildDurationModifier: 100
		Prerequisites: ~prerequisite.walls
		Description: actor-brik.description
		ReadyTextNotification: Construction Complete: Concrete Wall
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: actor-brik.name
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 50000
	Armor:
		Type: building.wall
	Crushable:
		CrushClasses: wall
	BlocksProjectiles:
	LineBuild:
		Range: 8
		NodeTypes: concrete
	LineBuildNode:
		Types: concrete
	WithWallSpriteBody:
		Type: concrete

VGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Building:
		Footprint: x x x
		Dimensions: 1,3
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Connections: 0,-1, 0,1
	Tooltip:
		Name: actor-vgate-name
	Gate:

HGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	Building:
		Footprint: xxx
		Dimensions: 3,1
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Connections: -1,0, 1,0
	Tooltip:
		Name: actor-hgate-name
	RenderSprites:
		Image: agate
		FactionImages:
			usa: agate
			gla: agate
			prc: sgate
	Gate:

BARB:
	Inherits: ^Wall
	Tooltip:
		Name: actor-barb-name
	Armor:
		Type: building.normal
	LineBuild:
		NodeTypes: barbwire
	LineBuildNode:
		Types: barbwire
	WithWallSpriteBody:
		Type: barbwire

WOOD:
	Inherits: ^Wall
	Tooltip:
		Name: actor-wood-name
	Armor:
		Type: building.normal
	LineBuild:
		NodeTypes: woodfence
	LineBuildNode:
		Types: woodfence
	WithWallSpriteBody:
		Type: woodfence

prerequisite.command_center:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-command-center-name

prerequisite.reactor:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-reactor-name

prerequisite.barracks:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-barracks-name

prerequisite.supply_center:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-supply-center-name

prerequisite.tech_center:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-tech-center-name

prerequisite.tech_center_or_boss_airfield:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-tech-center-or-boss-airfield-name

prerequisite.tech_center_or_boss_sw:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-tech-center-or-boss-sw-name

prerequisite.usa_airfield_or_war_factory:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-usa-airfield-or-war-factory-name

prerequisite.prc_airfield_or_war_factory:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-prerequisite-prc-airfield-or-war-factory-name
