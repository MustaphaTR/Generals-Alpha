infantry.pilot:
	Inherits: ^Soldier
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 10
	GainsExperience:
		Conditions:
			1: rank-veteran
			2: rank-veteran
			3: rank-veteran
	Buildable:
		Queue: queue.usa_infantry, queue.super_gen_infantry
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 100
		BuildDurationModifier: 100
		Prerequisites: ~disabled
		Description: Veteran vehicle pilot.
	Valued:
		Cost: 100
	Tooltip:
		Name: Pilot
	DeliversExperience:
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 30
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Passenger:
		CargoType: Pilot
	WithInfantryBody:
		IdleSequences: idle1
		StandSequences: stand
	Voiced:
		VoiceSet: PilotVoice

infantry.worker:
	Inherits: ^Soldier
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@REVEAL: ^Reveal200
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Inherits@SHOES: ^AffectedByWorkerShoes
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@SUPPLY_PIPS: ^SupplyCollectorPips
	Buildable:
		Queue: queue.gla_collector, queue.stealth_gen_collector
		BuildPaletteOrder: 1
		BuildDuration: 75
		BuildDurationModifier: 100
		Description: Collects supplies.
		ReadyAudio: WorkerCreated
	Valued:
		Cost: 200
	Tooltip:
		Name: Worker
		GenericName: Collector
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 25
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Selectable:
		Priority: 7
	SupplyCollector:
		CollectionDelay: 40 # 37 # 4
		DeliveryDelay: 5 # 38 # 4
		Capacity: 75
		StuckRoadPowerPower: 1
		StuckRoadPowerAir: 1
		OccupancyPower: 1
		ToleratedOccupied: 13
		CollectionQueueMultiplier: 5
		CollectionQueueCostModifier: 2
		FacingWhenDockAtSupplyCenter: TowardsTarget
		FacingWhenDockAtSupplyPile: TowardsTarget
		CollectVoice: Action
	WithSupplyCollectorPipsDecoration:
		PipCount: 2
	Passenger:
		CargoType: GLAInfantry
	Garrisoner:
		Voice: Garrison
	DetectCloaked:
		DetectionTypes: Mine
		Range: 2c512
	WithSpriteBody:
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
	-TakeCover:
	Voiced:
		VoiceSet: WorkerVoice
		RequiresCondition: !worker_shoes
	Voiced@WORKER_SHOES:
		VoiceSet: WorkerWithShoesVoice
		RequiresCondition: worker_shoes
	RenderSprites:
		Image: hack.angry_mob.male
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Collector
	ActorStatOverride@ZH_UNITS:
		RequiresCondition: !demo && zh_units
	ActorStatOverride@Demo:
		RequiresCondition: demo && !zh_units
	ActorStatOverride@Demo_ZH_UNITS:
		Upgrades: upgrade.demolitions, upgrade.worker_shoes
		RequiresCondition: demo && zh_units

^default.mg_infantry:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SLOW: ^SlowsWhenDamaged
	GainsExperience:
		Conditions:
			40: rank-veteran
			60: rank-veteran
			120: rank-veteran
	Buildable:
		BuildPaletteOrder: 0
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Prerequisites: !techlevel.vehicleonly
		Description: General-purpose infantry armed with a automatic rifle.
	Valued:
		Cost: 150
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 20
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Garrisoner:
		Voice: Garrison
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Captures:
		CaptureTypes: building
		Voice: Capture
		CaptureCompleteVoice: CaptureComplete
		RequiresCondition: capture_building
		CaptureDelay: 375
		ConsumedByCapture: False
		EnterCursor: ability
		EnterBlockedCursor: move-blocked
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	Cloak@GPS_SCRAMBLER:
		RequiresCondition: gps_scrambler && !capturing
	GrantConditionOnPrerequisite@CAPTURE_BUILDING:
		Condition: capture_building
		Prerequisites: upgrade.capture_building
	CaptureManager:
		CapturingCondition: capturing
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.capture_building

infantry.ranger:
	Inherits: ^default.mg_infantry
	Inherits@CHEM: ^AffectedByChemicalSuits
	Inherits@REVEAL: ^Reveal400
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 20
	GivesExperienceMultiplier@RANK-2:
		Modifier: 150
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 200
		RequiresCondition: rank-elite
	Buildable:
		Queue: queue.usa_infantry, queue.super_gen_infantry, queue.boss_gen_infantry, queue.boss_gen_infantry_merged
		ReadyAudio: RangerCreated
	Valued:
		Cost: 225
	Tooltip:
		Name: Ranger
	Health:
		HP: 18000
	Armament@PRIMARY:
		Weapon: mg.ranger
	Armament@GARRISON:
		Name: garrison
		Weapon: mg.ranger.garrison
	Armament@GRENADE:
		Weapon: grenade.ranger
		RequiresCondition: flashbang_grenades
	# GrantConditionOnDeploy:
	#	DeployedCondition: deployed
	#	RequiresCondition: flashbang_grenades
	GrantConditionOnPrerequisite@FLASHBANG:
		Condition: flashbang_grenades
		Prerequisites: upgrade.flashbang_grenades
	Voiced:
		VoiceSet: RangerVoice
	ActorStatValues:
		Damage: 15
		Upgrades: upgrade.capture_building, upgrade.flashbang_grenades, upgrade.adv_training
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.capture_building, upgrade.flashbang_grenades, upgrade.adv_training, upgrade.chemical_suits
		RequiresCondition: zh_units

infantry.rebel:
	Inherits: ^default.mg_infantry
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@REVEAL: ^Reveal300
	GivesExperience:
		Experience: 15
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 267
		RequiresCondition: rank-elite
	Buildable:
		Queue: queue.gla_infantry, queue.demo_gen_infantry, queue.stealth_gen_infantry, queue.gla_infantry_merged
		ReadyAudio: RebelCreated
	ProductionCostMultiplier@Stealth1:
		Queue: queue.stealth_gen_infantry
		Multiplier: 135 # 200
	ProductionCostMultiplier@Stealth2:
		Queue: queue.stealth_gen_infantry
		Multiplier: 99 # 200
	Selectable:
		Class: infantry.rebel
	Tooltip:
		Name: Rebel
	Armament@PRIMARY:
		Weapon: mg.rebel
	Armament@PRIMARY_BOOBY_TRAP_DEFAULT:
		Weapon: mg.rebel.booby_trap
		RequiresCondition: !booby_traps
	Armament@PRIMARY_BOOBY_TRAP:
		Weapon: mg.rebel.booby_trap
		ForceTargetRelationships: None
		RequiresCondition: booby_traps
	Armament@GARRISON:
		Name: garrison
		Weapon: mg.rebel.garrison
	Armament@BOOBY_TRAP:
		Weapon: attach.rebel
		Cursor: c4
		OutsideRangeCursor: c4
		TargetRelationships: None
		RequiresCondition: booby_traps
	Cloak:
		InitialDelay: 200
		CloakDelay: 100
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !capturing && camouflage
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	GrantConditionOnPrerequisite@BOOBY_TRAPS:
		Condition: booby_traps
		Prerequisites: upgrade.booby_traps
	GrantConditionOnFaction@BOOBY_TRAPS:
		Condition: booby_traps
		Factions: demo
	GrantConditionOnPrerequisite@CAMOUFLAGE:
		Condition: camouflage
		Prerequisites: upgrade.camouflage
	GrantConditionOnFaction@CAMOUFLAGE:
		Condition: camouflage
		Factions: stealth
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	GrantConditionOnFaction@Stealth:
		Condition: stealth
		Factions: stealth
	Passenger:
		CargoType: GLAInfantry
	Voiced:
		VoiceSet: RebelVoice
	RenderSprites:
		Image: infantry.rebel
	ActorStatValues:
		Damage: 15
		Upgrades: upgrade.capture_building, upgrade.camouflage, upgrade.ap_bullets
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.capture_building, upgrade.booby_traps, upgrade.camouflage, upgrade.ap_bullets
		RequiresCondition: zh_units && !toxin && !demo && !stealth
	ActorStatOverride@Toxin:
		Upgrades: upgrade.capture_building, upgrade.ap_bullets
		RequiresCondition: toxin || stealth
	ActorStatOverride@Demo:
		Upgrades: upgrade.capture_building, upgrade.demolitions, upgrade.ap_bullets

infantry.toxin_rebel:
	Inherits: ^default.mg_infantry
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@REVEAL: ^Reveal300
	GivesExperience:
		Experience: 15
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 267
		RequiresCondition: rank-elite
	Buildable:
		Queue: queue.toxin_gen_infantry, queue.gla_infantry_merged
		Description: General-purpose infantry armed with toxins.\n\nCan damage infantry garrisoned in civilian structures.
		ReadyAudio: ToxinRebelCreated
	BuildPaletteOrderModifier@Merged:
		Queue: queue.gla_infantry_merged
		Modifier: 9 # 9
	Valued:
		Cost: 200
	Tooltip:
		Name: Toxin Rebel
	Armament@ALPHA:
		Damage: 8
		Weapon: toxin.toxin_rebel
		LocalOffset: 350,0,375
		RequiresCondition: !anthrax_beta && !anthrax_gamma
	Armament@BETA:
		Damage: 10
		Weapon: toxin.toxin_rebel.beta
		LocalOffset: 350,0,375
		RequiresCondition: anthrax_beta && !anthrax_gamma
	Armament@GAMMA:
		Damage: 13
		Weapon: toxin.toxin_rebel.gamma
		LocalOffset: 350,0,375
		RequiresCondition: anthrax_gamma
	Armament@GARRISON_ALPHA:
		Name: garrison
		Weapon: toxin.toxin_rebel.garrison
		RequiresCondition: !anthrax_beta && !anthrax_gamma
	Armament@GARRISON_BETA:
		Name: garrison
		Weapon: toxin.toxin_rebel.garrison.beta
		RequiresCondition: anthrax_beta && !anthrax_gamma
	Armament@GARRISON_GAMMA:
		Name: garrison
		Weapon: toxin.toxin_rebel.garrison.gamma
		RequiresCondition: anthrax_gamma
	Captures:
		CaptureDelay: 375
		ConsumedByCapture: False
		EnterCursor: ability
		EnterBlockedCursor: move-blocked
		CaptureTypes: building
	WithInfantryBody:
		RequiresCondition: !anthrax_beta  && !anthrax_gamma
	WithInfantryBody@BETA:
		DefaultAttackSequence: shoot-beta
		StandSequences: stand-beta, stand2-beta
		IdleSequences: idle1-beta, idle2-beta
		MoveSequence: run-beta
		RequiresCondition: anthrax_beta && !anthrax_gamma
	WithInfantryBody@GAMMA:
		DefaultAttackSequence: shoot-gamma
		StandSequences: stand-gamma, stand2-gamma
		IdleSequences: idle1-gamma, idle2-gamma
		MoveSequence: run-gamma
		RequiresCondition: anthrax_gamma
	WithDeathAnimation:
		RequiresCondition: !anthrax_beta && !anthrax_gamma
	WithDeathAnimation@BETA:
		DeathSequence: die-beta
		DeathTypes:
			DefaultDeath: 1
			BulletDeath: 2
			SmallExplosionDeath: 3
			ExplosionDeath: 4
			FireDeath: 5
			ElectricityDeath: 6
		CrushedSequence: die-crushed
		RequiresCondition: anthrax_beta && !anthrax_gamma
	WithDeathAnimation@GAMMA:
		DeathSequence: die-gamma
		DeathTypes:
			DefaultDeath: 1
			BulletDeath: 2
			SmallExplosionDeath: 3
			ExplosionDeath: 4
			FireDeath: 5
			ElectricityDeath: 6
		CrushedSequence: die-crushed
		RequiresCondition: anthrax_gamma
	Cloak:
		InitialDelay: 200
		CloakDelay: 100
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !capturing && camouflage
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnPrerequisite@CAMOUFLAGE:
		Condition: camouflage
		Prerequisites: upgrade.camouflage
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	Passenger:
		CargoType: GLAInfantry
	-DamagedByTintedCells@ANTHRAX_ALPHA:
	-DamagedByTintedCells@ANTHRAX_BETA:
	-DamagedByTintedCells@ANTHRAX_GAMMA:
	Voiced:
		VoiceSet: ToxinRebelVoice
	CaptureManager:
		CapturingCondition: capturing
	ActorStatValues:
		Upgrades: upgrade.capture_building, upgrade.anthrax_beta
	ActorStatOverride@Toxin:
		Upgrades: upgrade.capture_building, upgrade.anthrax_gamma
		RequiresCondition: toxin
	ActorStatOverride@Demo:
		Upgrades: upgrade.capture_building, upgrade.demolitions

infantry.red_guard:
	Inherits: ^default.mg_infantry
	Inherits@HORDE_BONUS: ^InfantryHorde
	Inherits@REVEAL: ^Reveal200
	GivesExperience:
		Experience: 5
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			20: rank-veteran
			40: rank-veteran
			80: rank-veteran
	Buildable:
		Queue: queue.prc_infantry, queue.nuke_gen_infantry, queue.tank_gen_infantry, queue.prc_infantry_merged
		BuildAmount: 2
		BuildDuration: 250
		Description: General-purpose infantry armed with a rifle.\n\nTrained in groups of 2.
		ReadyAudio: RedGuardCreated
	Valued:
		Cost: 150
	ProductionCostMultiplier@DoubleAmount:
		Multiplier: 200 # 300
	ProductionCostMultiplier@Nuke1:
		Queue: queue.nuke_gen_infantry
		Multiplier: 118 # 350
	ProductionCostMultiplier@Nuke2:
		Queue: queue.nuke_gen_infantry
		Multiplier: 99 # 350
	ProductionCostMultiplier@Tank:
		Queue: queue.tank_gen_infantry
		Multiplier: 125 # 375
	Mobile:
		Speed: 25
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Tooltip:
		Name: Red Guard
	Selectable:
		Class: infantry.red_guard
	Armament@PRIMARY:
		Weapon: mg.red_guard
	Armament@GARRISON:
		Name: garrison
		Weapon: mg.red_guard.garrison
	RenderSprites:
		Image: infantry.red_guard
	Voiced:
		VoiceSet: RedGuardVoice
	ProducibleWithLevel@Training:
		Prerequisites: generals_power.red_training
	ProducibleWithLevel@Training2:
		Prerequisites: generals_power.minigunner_training
	WithProductionIconOverlay@Training:
		Types: Veterancy
		Prerequisites: generals_power.red_training
	WithProductionIconOverlay@Training2:
		Types: Veterancy-Elite
		Prerequisites: generals_power.minigunner_training
	ActorStatValues:
		Damage: 15
		Upgrades: upgrade.capture_building, upgrade.nationalism
	ActorStatOverride@Inf:
		Upgrades: upgrade.capture_building, upgrade.patriotism
		RequiresCondition: inf

infantry.minigunner:
	Inherits: ^default.mg_infantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@REVEAL: ^Reveal200
	Inherits@HORDE_BONUS: ^InfantryHorde
	GivesExperience:
		Experience: 5
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 400
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			20: rank-veteran
			40: rank-veteran
			80: rank-veteran
	Buildable:
		Queue: queue.inf_gen_infantry, queue.prc_infantry_merged
		BuildDuration: 250
		Description: General-purpose infantry armed with a minigun.
		ReadyAudio: MinigunnerCreated
	BuildPaletteOrderModifier@Merged:
		Queue: queue.prc_infantry_merged
		Modifier: 6 # 6
	Valued:
		Cost: 350
	Mobile:
		Speed: 25
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Tooltip:
		Name: Minigunner
	ReloadDelayMultiplier@Gatling1:
		RequiresCondition: gatling >= 1
		Modifier: 50
	ReloadDelayMultiplier@Gatling2:
		RequiresCondition: gatling >= 2
		Modifier: 50
	Armament@GatlingAG:
		Weapon: gatling.minigunner.ground
	Armament@GatlingAA:
		Weapon: gatling.minigunner.air
	Armament@GarrisonAG:
		Name: garrison
		Weapon: gatling.minigunner.garrison.ground
	Armament@GarrisonAA:
		Name: garrison
		Weapon: gatling.minigunner.garrison.air
	GrantConditionOnAttack@gatling:
		Condition: gatling
		RequiredShotsPerInstance: 6
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
	GrantConditionOnAttack@garrison:
		Condition: gatling
		ArmamentNames: garrison
		RequiredShotsPerInstance: 6
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
	Voiced:
		VoiceSet: MinigunnerVoice
	ProducibleWithLevel@Infantry:
		Factions: inf
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	ProducibleWithLevel@Training:
		Prerequisites: generals_power.minigunner_training
	WithProductionIconOverlay@Infantry:
		Types: Veterancy
		Prerequisites: prerequisite.inf_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Training:
		Types: Veterancy-Elite
		Prerequisites: generals_power.minigunner_training
	ActorStatValues:
		Damage: 10
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		Upgrades: upgrade.capture_building, upgrade.nationalism
	ActorStatOverride@Inf:
		Upgrades: upgrade.capture_building, upgrade.patriotism
		RequiresCondition: inf

infantry.conscript:
	Inherits: ^default.mg_infantry
	Inherits@REVEAL: ^Reveal200
	GivesExperience:
		Experience: 15
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 267
		RequiresCondition: rank-elite
	Buildable:
		Queue: queue.soviet_infantry
		BuildDuration: 100
		ReadyAudio: ConscriptCreated
	Valued:
		Cost: 100
	Mobile:
		Speed: 25
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Garrisoner:
		Voice: Move
	Tooltip:
		Name: Conscript
	Armament@PRIMARY:
		Weapon: mg.ranger
	Armament@GARRISON:
		Name: garrison
		Weapon: mg.ranger.garrison
	Captures:
		-CaptureCompleteVoice:
		CaptureDelay: 375
		ConsumedByCapture: False
		EnterCursor: ability
		EnterBlockedCursor: move-blocked
		CaptureTypes: building
	Voiced:
		VoiceSet: ConscriptVoice
	CaptureManager:
	ActorStatValues:
		Damage: 15

^default.rocket_infantry:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal400
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 20
	GivesExperienceMultiplier@RANK-2:
		Modifier: 150
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 200
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			200: rank-veteran
			400: rank-veteran
	Buildable:
		BuildPaletteOrder: 1
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Prerequisites: !techlevel.vehicleonly
		Description: Anti-tank & anti-air infantry.
	Valued:
		Cost: 300
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 20
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Armament@AG:
		Weapon: missile.missile_defender.ground
		LocalOffset: 0,0,555
	Armament@AA:
		Weapon: missile.missile_defender.air
		LocalOffset: 0,0,555
	Armament@AG_GARRISON:
		Name: garrison
		Weapon: missile.missile_defender.garrison.ground
	Armament@AA_GARRISON:
		Name: garrison
		Weapon: missile.missile_defender.garrison.air
	TakeCover:
		ProneOffset: 384,0,-395
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	WithInfantryBody:
		DefaultAttackSequence: shoot
	AutoTarget:
		ScanRadius: 5
	ActorStatValues:
		Damage: 40
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange

infantry.missile_defender:
	Inherits: ^default.rocket_infantry
	Inherits@CHEM: ^AffectedByChemicalSuits
	Inherits@REVEAL: ^Reveal300Gen400ZH
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	Buildable:
		Queue: queue.usa_infantry, queue.super_gen_infantry
		Description: Anti-tank & anti-air infantry.\n\nCan laser lock to fire with double speed against\nvehicles and aircraft by force firing.
		ReadyAudio: MissileDefenderCreated
	Tooltip:
		Name: Missile Defender
	Armament@AG:
		ForceTargetRelationships: None
	Armament@AA:
		ForceTargetRelationships: None
	Armament@LaserLock_AG:
		Name: laser_lock
		Weapon: laser.missile_defender.locked.ground
		LocalOffset: 0,0,555
		TargetRelationships: None
		Cursor: ability
		OutsideRangeCursor: ability
	Armament@LaserLock_AA:
		Name: laser_lock
		Weapon: laser.missile_defender.locked.air
		LocalOffset: 0,0,555
		Cursor: ability
		OutsideRangeCursor: ability
		TargetRelationships: None
	Armament@LaserLock_MissileAG:
		Weapon: missile.missile_defender.locked.ground
		LocalOffset: 0,0,555
		Cursor: ability
		OutsideRangeCursor: ability
		TargetRelationships: None
		RequiresCondition: enable_lockattack
	Armament@LaserLock_MissileAA:
		Weapon: missile.missile_defender.locked.air
		LocalOffset: 0,0,555
		TargetRelationships: None
		Cursor: ability
		OutsideRangeCursor: ability
		RequiresCondition: enable_lockattack
	GrantConditionOnAttack@EnableDisable:
		Condition: enable_lockattack
		ArmamentNames: primary, laser_lock
		RequiredShotsPerInstance: 15
		MaximumInstances: 1
		RevokeDelay: 5
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: true
	Garrisoner:
		Voice: Garrison
	AttackFrontal:
		Armaments: primary, laser_lock
	WithInfantryBody:
		-DefaultAttackSequence:
		AttackSequences:
			primary: shoot
			laser_lock: aim
	Voiced:
		VoiceSet: MissileDefenderVoice
	ActorStatValues:
		Armaments: primary
		Upgrades: upgrade.adv_training
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.chemical_suits
		RequiresCondition: zh_units

infantry.rpg_trooper:
	Inherits: ^default.rocket_infantry
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Buildable:
		Queue: queue.gla_infantry, queue.toxin_gen_infantry, queue.demo_gen_infantry, queue.stealth_gen_infantry, queue.gla_infantry_merged
		ReadyAudio: RPGTrooperCreated
	Armament@AG:
		Weapon: missile.rpg_trooper.ground
	Armament@AA:
		Weapon: missile.rpg_trooper.air
	Armament@AG_GARRISON:
		Weapon: missile.rpg_trooper.garrison.ground
	Armament@AA_GARRISON:
		Weapon: missile.rpg_trooper.garrison.air
	Tooltip:
		Name: RPG Trooper
	Passenger:
		CargoType: GLAInfantry
	Garrisoner:
		Voice: Garrison
	Voiced:
		VoiceSet: RPGTrooperVoice
	ActorStatValues:
		Upgrades: upgrade.ap_rockets
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_rockets

infantry.stinger_soldier:
	Inherits: ^default.rocket_infantry
	Inherits@AP_ROCKETS: ^AffectedByAPRockets
	-Buildable:
	-SelectionDecorations:
	Selectable:
		Priority: 3
		-PriorityModifiers:
	Mobile:
		CanTurnWhileDisabled: true
		RequiresCondition: !disable_movement
	GrantConditionAfterDelay:
		Condition: disable_movement
		ShowSelectionBar: false
		Delay: 5
	Armament@AG:
		Weapon: missile.stinger_site.ground
	Armament@AA:
		Weapon: missile.stinger_site.air
	-Armament@AG_GARRISON:
	-Armament@AA_GARRISON:
	-ChangesHealth@IN_AMBULANCE:
	-ChangesHealth@IN_CRAWLER:
	-Passenger:
	-SharedPassenger:
	-Garrisoner:
	Tooltip:
		Name: Stinger Soldier
	Targetable:
		TargetTypes: GroundActor, Infantry, StingerSoldier
	Valued:
		Cost: 100
	Armor:
		Type: infantry.stinger_soldier
	Cloak@CAMO_NETTING:
		InitialDelay: 60
		CloakDelay: 60
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: stinger_cloak && !leaflet
	ExternalCondition@CAMO_NETTING:
		Condition: stinger_cloak
	MobSpawnerSlave:
	RenderSprites:
		Image: infantry.stinger_soldier
	-ActorStatValues:

infantry.tank_hunter:
	Inherits: ^default.rocket_infantry
	Inherits@CHEM: ^AffectedByChemicalSuitsBossOnly
	Inherits@HORDE_BONUS: ^InfantryHorde
	Buildable:
		Queue: queue.prc_infantry, queue.inf_gen_infantry, queue.nuke_gen_infantry, queue.tank_gen_infantry, queue.prc_infantry_merged, queue.boss_gen_infantry, queue.boss_gen_infantry_merged
		Description: Anti-tank & anti-air infantry.\n\nCan place TNT charges on vehicles and\nbuildings by force firing.
		ReadyAudio: TankHunterCreated
	ProductionCostMultiplier@Nuke1:
		Queue: queue.nuke_gen_infantry
		Multiplier: 118 # 350
	ProductionCostMultiplier@Nuke2:
		Queue: queue.nuke_gen_infantry
		Multiplier: 99 # 350
	ProductionCostMultiplier@Tank:
		Queue: queue.tank_gen_infantry
		Multiplier: 125 # 375
	ProductionTimeMultiplier@Nuke:
		Queue: queue.nuke_gen_infantry, queue.tank_gen_infantry
		Multiplier: 140 # 175
	Tooltip:
		Name: Tank Hunter
	Armament@AG:
		Weapon: missile.tank_hunter.ground
		ForceTargetRelationships: None
	Armament@AA:
		Weapon: missile.tank_hunter.air
		ForceTargetRelationships: None
	Armament@TNT:
		Name: tnt_charge
		Weapon: attach.tank_hunter
		Cursor: tnt
		OutsideRangeCursor: tnt
		TargetRelationships: None
	AttackFrontal:
		Armaments: primary, tnt_charge
		FacingTolerance: 0
	Selectable:
		Class: infantry.tank_hunter
	RenderSprites:
		Image: infantry.tank_hunter
	ProducibleWithLevel@Infantry:
		Factions: inf
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Infantry:
		Types: Veterancy
		Prerequisites: prerequisite.inf_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: TankHunterVoice
	ActorStatValues:
		Armaments: primary
		Upgrades: upgrade.nationalism
	ActorStatOverride@Inf:
		Upgrades: upgrade.patriotism
		RequiresCondition: inf
	ActorStatOverride@Boss_ZH_UNITS:
		Upgrades: upgrade.chemical_suits, upgrade.nationalism

infantry.grenadier:
	Inherits: ^default.rocket_infantry
	Inherits@REVEAL: ^Reveal300
	Buildable:
		Queue: queue.soviet_infantry
		Description: Anti-tank infantry.
	Tooltip:
		Name: Grendier
	Mobile:
		Speed: 25
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Armament@AG:
		Weapon: grenade.grenadier
		LocalOffset: 0,0,555
		FireDelay: 15
	-Armament@AA:
	Armament@AG_GARRISON:
		Weapon: grenade.grenadier.garrison
	-Armament@AA_GARRISON:
	TakeCover:
		ProneOffset: 256,64,-331
	WithInfantryBody:
		DefaultAttackSequence: throw
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
	Voiced:
		VoiceSet: GenericVoice
	ActorStatValues:
		Damage: 60
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

infantry.pathfinder:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@CHEM: ^AffectedByChemicalSuits
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal400
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 40
	GivesExperienceMultiplier@RANK-2:
		Modifier: 150
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 200
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			50: rank-veteran
			100: rank-veteran
			200: rank-veteran
	Valued:
		Cost: 600
	Tooltip:
		Name: Pathfinder
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.usa_infantry, queue.super_gen_infantry
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, prerequisite.pathfinder, !techlevel.vehicleonly, !techlevel.notech
		Description: Elite sniper infantry.
		ReadyAudio: PathfinderCreated
	Buildable@Boss:
		Queue: queue.boss_gen_infantry, queue.boss_gen_infantry_merged
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: prerequisite.pathfinder, !techlevel.vehicleonly, !techlevel.notech
		Description: Elite sniper infantry.
		ReadyAudio: PathfinderCreated
	Health:
		HP: 12000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 30
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Garrisoner:
		Voice: Garrison
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry
		InvalidTargets: NoAutoTarget
	Armament@PRIMARY:
		Weapon: sniper.pathfinder
	Armament@GARRISON:
		Name: garrison
		Weapon: sniper.pathfinder.garrison
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Cloak:
		InitialDelay: 250
		CloakDelay: 120
		CloakSound:
		UncloakSound:
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		IsPlayerPalette: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	RenderDetectionCircle:
	DetectCloaked:
		Range: 5c0
	Voiced:
		VoiceSet: PathfinderVoice
	RenderSprites:
		Image: infantry.pathfinder
	ActorStatValues:
		Damage: 100
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.chemical_suits
		RequiresCondition: zh_units

infantry.terrorist:
	Inherits: ^Soldier
	Inherits@REVEAL: ^Reveal200
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 20
	Buildable:
		Queue: queue.gla_infantry, queue.demo_gen_infantry, queue.stealth_gen_infantry
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 125
		BuildDurationModifier: 100
		Description: Explodes.
		Prerequisites: !techlevel.vehicleonly
		ReadyAudio: TerroristCreated
	Valued:
		Cost: 200
	Tooltip:
		Name: Terrorist
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: infantry.normal
	Selectable:
		Class: infantry.terrorist
	Mobile:
		Voice: Move
		Speed: 25
	SpeedMultiplier@DAMAGED:
		Modifier: 60
	Explodes:
		Weapon: explosion.terrorist
		EmptyWeapon: explosion.terrorist
		DeathTypes: Suicide
		RequiresCondition: !demo && !merged
	Explodes@Demo:
		Weapon: explosion.suicide
		EmptyWeapon: explosion.suicide
		DeathTypes: Suicide
		RequiresCondition: demo || merged
	AttackFrontal:
		FacingTolerance: 512
		PauseOnCondition: leaflet
	Armament@PRIMARY:
		Weapon: hack.suicide_targeting
	GrantConditionOnAttack:
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
		RequiresCondition: !leaflet
	KillsSelf@Triggered:
		DamageTypes: Suicide
		RequiresCondition: triggered
	GrantConditionOnPrerequisite@MERGE_GENERALS:
		Condition: merged
		Prerequisites: prerequisite.mergegenerals
	GrantConditionOnFaction@Demo:
		Condition: demo
		Factions: demo
	Captures:
		CaptureTypes: car, driverless_vehcile
		Voice: Capture
	Targetable:
		TargetTypes: GroundActor, Infantry, DetonateAttack, Terrorist
	Passenger:
		CargoType: GLAInfantry
	Voiced:
		VoiceSet: TerroristVoice
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
	-TakeCover:
	CaptureManager:
	ActorStatValues:
		Damage: 500
		Spread: 1c256
		Stats: Armor, Sight, Speed, Damage, Spread

infantry.toxin_terrorist:
	Inherits: infantry.terrorist
	Buildable:
		Queue: queue.toxin_gen_infantry, queue.gla_infantry_merged
		Description: Explodes and leaves toxins.
	Tooltip:
		Name: Toxin Terrorist
	Explodes@Toxin:
		Weapon: explosion.terrorist.toxin
		EmptyWeapon: explosion.terrorist.toxin
		RequiresCondition: !anthrax_beta && !anthrax_gamma
	Explodes@Toxin_Beta:
		Weapon: explosion.terrorist.toxin_beta
		EmptyWeapon: explosion.terrorist.toxin_beta
		RequiresCondition: anthrax_beta && !anthrax_gamma
	Explodes@Toxin_Gamma:
		Weapon: explosion.terrorist.toxin_gamma
		EmptyWeapon: explosion.terrorist.toxin_gamma
		RequiresCondition: anthrax_gamma
	GrantConditionOnPrerequisite@ANTHRAX_BETA:
		Condition: anthrax_beta
		Prerequisites: upgrade.anthrax_beta
	GrantConditionOnPrerequisite@ANTHRAX_GAMMA:
		Condition: anthrax_gamma
		Prerequisites: upgrade.anthrax_gamma
	GrantConditionOnFaction@ANTHRAX_BETA:
		Condition: anthrax_beta
		Factions: toxin
	GrantConditionOnFaction@Toxin:
		Condition: toxin
		Factions: toxin
	ActorStatValues:
		Upgrades: upgrade.anthrax_beta
	ActorStatOverride@Toxin:
		Upgrades: upgrade.anthrax_gamma
		RequiresCondition: toxin

infantry.flamethrower:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 40
	GivesExperienceMultiplier@RANK-2:
		Modifier: 150
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 200
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			50: rank-veteran
			100: rank-veteran
			200: rank-veteran
	Buildable:
		Queue: queue.soviet_infantry
		BuildPaletteOrder: 2
		ForceIconLocation: true
		Prerequisites: tech.flame_tower, !techlevel.vehicleonly
		Description: Advanced anti-structure infantry.\n\nCan damage infantry garrisoned in civilian structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Flamethrower
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 20
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Armament@PRIMARY:
		Weapon: flamer.flamethrower
		LocalOffset: 700,0,500
		FireDelay: 8
	Armament@GARRISON:
		Name: garrison
		Weapon: flamer.flamethrower.garrison
		FireDelay: 8
	TakeCover:
		ProneOffset: 160,0,-288
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Voiced:
		VoiceSet: GenericVoice
	ActorStatValues:
		Damage: 150
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

infantry.saboteur:
	Inherits: ^Soldier
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 15
	Buildable:
		Queue: queue.gla_infantry, queue.stealth_gen_infantry, queue.gla_infantry_merged
		BuildPaletteOrder: 8
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.arms_dealer, ~prerequisite.zh_units, !techlevel.vehicleonly
		Description: Infiltrates enemy structures to disable them for a while.\n\nCan climb cliffs.
		ReadyAudio: SaboteurCreated
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 20
		Prerequisites: AIDiscount
	ProductionTimeMultiplier@AI: ## AI cannot use it well
		Multiplier: 25
		Prerequisites: AIDiscount
	Valued:
		Cost: 800
	Tooltip:
		Name: Saboteur
	Health:
		HP: 12000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 30
		Voice: Move
		Locomotor: locomotor.climber
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Passenger:
		CargoType: GLAInfantry
		CustomPipType: yellow
		Voice: Move
	SharedPassenger:
		CustomPipType: yellow
		Voice: Move
	Garrisoner:
		CustomPipType: yellow
		Voice: Move
	Infiltrates:
		Types: Sabotage
	Cloak:
		InitialDelay: 250
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Voiced:
		VoiceSet: SaboteurVoice
	ProvidesPrerequisite@HasSaboteur: ## For AI Perf. 
		Prerequisite: HasSaboteur
	ActorStatValues:
		Stats: Armor, Sight, Speed

^default.angry_mob:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal150
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 5
	GainsExperience:
		Conditions: # 1/10 of original values, in original nexus gained the XP.
			15: rank-veteran
			45: rank-veteran
			90: rank-veteran
	Valued:
		Cost: 160
	Tooltip:
		Name: Angry Mob
	-SelectionDecorations:
	-WithSpriteControlGroupDecoration:
	-Passenger:
	-SharedPassenger:
	-Garrisoner:
	-ChangesHealth@IN_AMBULANCE:
	-ChangesHealth@IN_CRAWLER:
	-Captures@DRIVER_KILL:
	Health:
		HP: 5000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 20
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	RejectsOrders@SLAVED:
	MobSpawnerSlave:
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Selectable:
		Class: angry_mob
	Voiced:
		VoiceSet: AngryMobVoice

hack.angry_mob.male:
	Inherits: ^default.angry_mob
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Armament@pistol:
		Weapon: pistol.angry_mob
		RequiresCondition: !arm_the_mob
	Armament@ak47:
		Weapon: mg.angry_mob
		RequiresCondition: arm_the_mob
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	GrantConditionOnPrerequisite@ARM_THE_MOB:
		Condition: arm_the_mob
		Prerequisites: upgrade.arm_the_mob
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
	-TakeCover:
	-ActorStatValues:

hack.angry_mob.female:
	Inherits: ^default.angry_mob
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Armament@pistol:
		Weapon: pistol.angry_mob
		RequiresCondition: !arm_the_mob
	Armament@ak47:
		Weapon: mg.angry_mob
		RequiresCondition: arm_the_mob
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	GrantConditionOnPrerequisite@ARM_THE_MOB:
		Condition: arm_the_mob
		Prerequisites: upgrade.arm_the_mob
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
	-TakeCover:
	-ActorStatValues:

hack.angry_mob.molotov:
	Inherits: ^default.angry_mob
	Armament:
		Weapon: molotov.angry_mob
		LocalOffset: 0,0,555
		FireDelay: 15
	AttackFrontal:
		PauseOnCondition: leaflet
		FacingTolerance: 0
	WithInfantryBody:
		DefaultAttackSequence: throw
	-ActorStatValues:

infantry.angry_mob:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^ClassicFacingSpriteActor
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@LEAFLET: ^AffectedByLeaflet
	-AppearsOnRadar:
	Buildable:
		Queue: queue.gla_infantry, queue.toxin_gen_infantry, queue.demo_gen_infantry, queue.stealth_gen_infantry, queue.gla_infantry_merged
		BuildPaletteOrder: 4
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: building.palace, !techlevel.vehicleonly, !techlevel.notech
		Description: Group of civilians armed with pistols and molotov coctails.
		IconPalette: cameo
		ReadyAudio: AngryMobCreated
	Buildable@Boss:
		Queue: queue.boss_gen_infantry, queue.boss_gen_infantry_merged
		BuildPaletteOrder: 4
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: !techlevel.vehicleonly, !techlevel.notech
		Description: Group of civilians armed with pistols and molotov coctails.
		IconPalette: cameo
		ReadyAudio: AngryMobCreated
	Tooltip:
		Name: Angry Mob
		GenericName: Soldier
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 800
	MobSpawnerMaster:
		Actors: hack.angry_mob.male, hack.angry_mob.male, hack.angry_mob.male, hack.angry_mob.male, hack.angry_mob.female, hack.angry_mob.female, hack.angry_mob.female, hack.angry_mob.molotov, hack.angry_mob.molotov, hack.angry_mob.molotov
		RespawnTicks: 750
		ExitByBudding: false
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	AttackOmni:
		RequiresCondition: !leaflet
	Armament@PRIMARY:
		Damage: 10
		Range: 2c512
		ReloadDelay: 9
		Weapon: hack.angry_mob.weapon
		RequiresCondition: !arm_the_mob
	Armament@ARM_THE_MOB:
		Damage: 20
		Range: 3c0
		ReloadDelay: 6
		Weapon: hack.angry_mob.weapon
		RequiresCondition: arm_the_mob
	GrantConditionOnPrerequisite@ARM_THE_MOB:
		Condition: arm_the_mob
		Prerequisites: upgrade.arm_the_mob
	Mobile:
		Speed: 18
		Voice: Move
		# OccupySpace: false
		Locomotor: locomotor.infantry
	Voiced:
		VoiceSet: AngryMobVoice
	SelectionDecorations:
	WithSpriteControlGroupDecoration:
	Selectable:
		Bounds: 1365, 1365
		Class: infantry.angry_mob
	AttackMove:
	WithSpriteBody:
	HiddenUnderFog:
		Type: CenterPosition
	RevealsShroud:
		Type: CenterPosition
	RevealsShroud@SEARCH_AND_DESTROY:
		Type: CenterPosition
	RevealsShroud@INTELLIGENCE:
		Type: CenterPosition
	HitShape:
	MapEditorData:
		Categories: Infantry
	SpeedMultiplier@Generic:
		Modifier: 200
	DamageMultiplier@INVINCIBLE:
		Modifier: 0
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	RenderSprites:
		Image: infantry.angry_mob
	ActorStatValues:
		Sight: 3c768
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Mob
		Upgrades: upgrade.arm_the_mob, upgrade.ap_bullets
	ActorStatOverride@Boss:
		Upgrades: upgrade.arm_the_mob
		RequiresCondition: boss

infantry.hacker:
	Inherits: ^Soldier
	Inherits@CHEM: ^AffectedByChemicalSuitsBossOnly
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-1:
		Modifier: 200
		RequiresCondition: rank-veteran == 1
	GivesExperienceMultiplier@RANK-2:
		Modifier: 300
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 800
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			300: rank-veteran
			500: rank-veteran
	Buildable:
		Queue: queue.prc_infantry, queue.nuke_gen_infantry, queue.tank_gen_infantry
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, !techlevel.vehicleonly, !techlevel.notech
		Description: Hacks internet to gain money while deployed.\n\nCan disable enemy structures.
		ReadyAudio: HackerCreated
	Buildable@Boss:
		Queue: queue.boss_gen_infantry
		BuildPaletteOrder: 3
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: !techlevel.vehicleonly, !techlevel.notech
		Description: Hacks internet to gain money while deployed.\n\nCan disable enemy structures.
		ReadyAudio: HackerCreated
	Valued:
		Cost: 625
	ProductionCostMultiplier@Tank1:
		Queue: queue.tank_gen_infantry
		Multiplier: 1248 # 780
	ProductionCostMultiplier@Tank2:
		Queue: queue.tank_gen_infantry
		Multiplier: 10 # 780
	Tooltip:
		Name: Hacker
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	Selectable:
		Class: infantry.hacker
	Mobile:
		Speed: 20
		Voice: Move
		PauseOnCondition: deployed
		RequireForceMoveCondition: !bot_owner && deployed
	SpeedMultiplier@DAMAGED:
		Modifier: 50
	Passenger:
		CargoType: Hacker
		CustomPipType: yellow
		Voice: Move
		CargoConditions:
			building.internet_center: in_internet_center
		RequireForceMoveCondition: !bot_owner && deployed
	SharedPassenger:
		CustomPipType: yellow
		Voice: Move
		RequireForceMoveCondition: deployed
	Garrisoner:
		RequireForceMoveCondition: deployed
	ChangesHealth@IN_INTERNET_CENTER:
		Step: 0
		PercentageStep: 10
		Delay: 25
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: in_internet_center
	## HACK HACK HACK: it just works, don't ask me.
	## Weapons like this need setting similar below to
	## avoid end effect on newly switched target. 
	Armament@Anim:
		Weapon: disable.hacker.anim
		LocalOffset: 0,0,196
		PauseOnCondition: has_disable
		ReloadingCondition: has_animed
	Armament@DisableEnabled:
		Weapon: disable.hacker.end
		LocalOffset: 0,0,196
		PauseOnCondition: !enable_disable || !has_animed
		ReloadingCondition: has_disable
	GrantConditionOnAttack@EnableDisable:
		Condition: enable_disable
		RequiredShotsPerInstance: 13
		RevokeDelay: 20
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: true
	AttackFrontal:
		PauseOnCondition: leaflet
		RequiresCondition: !deployed
		FacingTolerance: 0
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		Facing: 512
		SmartDeploy: True
		UndeployOnMove: true
		Voice: Deploy
		UndeployVoice: Move
	WithInfantryBody:
		StandSequences: stand
		DefaultAttackSequence: hack
		RequiresCondition: !deployed
	WithSpriteBody@DEPLOYED:
		Sequence: hack
		RequiresCondition: deployed
	CashTrickler@RANK-0:
		Interval: 50
		Amount: 5
		RequiresCondition: deployed && rank-veteran == 0
	CashTrickler@RANK-0-INTERNET:
		Interval: 45
		Amount: 5
		RequiresCondition: in_internet_center && rank-veteran == 0
	ExperienceTrickler@RANK-0:
		Interval: 50
		Amount: 1
		RequiresCondition: (deployed || in_internet_center) && rank-veteran == 0
	CashTrickler@RANK-1:
		Interval: 45
		Amount: 6
		RequiresCondition: deployed && rank-veteran == 1
	CashTrickler@RANK-1-INTERNET:
		Interval: 40
		Amount: 6
		RequiresCondition: in_internet_center && rank-veteran == 1
	ExperienceTrickler@RANK-1:
		Interval: 45
		Amount: 1
		RequiresCondition: (deployed || in_internet_center) && rank-veteran == 1
	CashTrickler@RANK-2:
		Interval: 35
		Amount: 8
		RequiresCondition: deployed && rank-veteran == 2
	CashTrickler@RANK-2-INTERNET:
		Interval: 30
		Amount: 8
		RequiresCondition: in_internet_center && rank-veteran == 2
	ExperienceTrickler@RANK-2:
		Interval: 35
		Amount: 1
		RequiresCondition: (deployed || in_internet_center) && rank-veteran == 2
	CashTrickler@RANK-ELITE:
		Interval: 25
		Amount: 10
		RequiresCondition: deployed && rank-elite
	CashTrickler@RANK-ELITE-INTERNET:
		Interval: 20
		Amount: 10
		RequiresCondition: in_internet_center && rank-elite
	ProducibleWithLevel@Infantry:
		Factions: inf
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Infantry:
		Types: Veterancy
		Prerequisites: prerequisite.inf_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	AutoDeployer:
		DeployTrigger: BecomingIdle
		RequiresCondition: !deployed
	Voiced:
		VoiceSet: HackerVoice
	-MustBeDestroyed:
	ActorStatValues:
		Stats: Armor, Sight, Speed
	AutoDeployer@AI:
		RequiresCondition: bot_owner && undeployed
		DeployChance: 100
		DeployTrigger: BecomingIdle
		DeployTicks: 100
		UndeployTicks: 5

infantry.super_hacker:
	Inherits: infantry.hacker
	Buildable:
		Queue: queue.inf_gen_infantry, queue.prc_infantry_merged
		Description: Hacks internet to gain money while deployed.\n\nCan disable enemy structures and vehicles.\n\nCamouflaged.
		ReadyAudio: SuperHackerCreated
	Buildable@Boss:
		Queue: queue.boss_gen_infantry_merged
		Prerequisites: !techlevel.vehicleonly, !techlevel.notech
	Tooltip:
		Name: Super Hacker
	Armament@DisableAnim:
		Name: disable
		Weapon: disable_vechicle.superhacker.anim
		LocalOffset: 0,0,196
		PauseOnCondition: end_vehicle && deployed
	Armament@DisableEnd:
		Name: disable
		Weapon: disable.black_lotus.end
		LocalOffset: 0,0,196
		PauseOnCondition: !end_vehicle && deployed
		ReloadingCondition: stop-hack
	GrantConditionOnAttack@EndVehicle:
		Condition: end_vehicle
		ArmamentNames: disable
		RequiredShotsPerInstance: 10
		RevokeDelay: 20
		RevokeAll: true
		RevokeOnNewTarget: true
		IsCyclic: false
	AttackFrontal:
		Armaments: primary, disable
		PauseOnCondition: leaflet
		FacingTolerance: 0
		RequiresCondition: !stop-hack && !deployed
	Cloak:
		InitialDelay: 0
		CloakDelay: 125
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Voiced:
		VoiceSet: SuperHackerVoice

infantry.hijacker:
	Inherits: ^Soldier
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@REVEAL: ^Reveal200
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@BotOwner: ^BotOwner
	Inherits@EXPERIENCE: ^GainsExperience
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 150
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 200
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			50: rank-veteran
			100: rank-veteran
			200: rank-veteran
	Buildable: # Stat UI doesn't know how to get correct desc, Stealth Gen's one is more generic so define it first.
		Queue: queue.stealth_gen_infantry, queue.gla_infantry_merged
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: !techlevel.vehicleonly, !techlevel.notech
		Description: Hijacks enemy vehicles.\n\nCamouflaged.
		ReadyAudio: HijackerCreated
	Buildable@GLA:
		Queue: queue.gla_infantry
		BuildPaletteOrder: 6
		ForceIconLocation: true
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: building.palace, prerequisite.hijacker, !techlevel.vehicleonly, !techlevel.notech
		Description: Hijacks enemy vehicles.\n\nCamouflaged while not moving.
		ReadyAudio: HijackerCreated
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 30
		Prerequisites: AIDiscount
	ProductionTimeMultiplier@AI: ## AI cannot use it well
		Multiplier: 40
		Prerequisites: AIDiscount
	Valued:
		Cost: 400
	ProductionCostMultiplier@Stealth:
		Queue: queue.stealth_gen_infantry, queue.gla_infantry_merged
		Multiplier: 150 # 600
	Tooltip:
		Name: Hijacker
	Health:
		HP: 10000
	Armor:
		Type: infantry.normal
	Selectable:
		Class: infantry.hijacker
	Mobile:
		Voice: Move
		Speed: 30
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Passenger:
		CargoType: GLAInfantry
		CustomPipType: yellow
	SharedPassenger:
		CustomPipType: yellow
	Garrisoner:
		CustomPipType: yellow
	Captures:
		CaptureTypes: hijackable, driverless_vehcile
	Voiced:
		VoiceSet: HijackerVoice
	-TakeCover:
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
	Crushable:
		WarnProbability: 95
		RequiresCondition:  !bot_owner
	Cloak: ## In General, when vehicle is destroyed the ejected hijacker will remain cloak
		InitialDelay: 0
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && !stealth
	Cloak@Stealth:
		InitialDelay: 0
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled && stealth
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnFaction@Stealth:
		Condition: stealth
		Factions: stealth
	RenderSprites:
		Image: infantry.hijacker
	CaptureManager:
	ActorStatValues:
		Stats: Armor, Sight, Speed

infantry.colonel_burton:
	Inherits: ^Soldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@CHEM: ^AffectedByChemicalSuits
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal500
	Inherits@SLOW: ^SlowsWhenDamaged
	Inherits@TRAINING: ^AffectedByAdvancedTraining
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-1:
		Modifier: 200
		RequiresCondition: rank-veteran == 1
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			200: rank-veteran
			300: rank-veteran
			600: rank-veteran
	RadarIcon:
	Valued:
		Cost: 1500
	ProductionCostMultiplier@Super:
		Queue: queue.super_gen_infantry, queue.boss_gen_infantry_merged
		Multiplier: 80 # 1200
	Tooltip:
		Name: Colonel Burton
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.usa_infantry, queue.super_gen_infantry
		BuildPaletteOrder: 4
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.strategy_center, !prerequisite.enough_colonel_burton, !techlevel.notech
		Description: Elite commando infantry.\n\nCan climb cliffs.\n\nCan place C4 charges on structures by force firing.\n\nCan backstab infantry without getting detected by force firing.\n\nCamouflaged.
		ReadyAudio: BurtonCreated
		BuildLimit: 1
	Buildable@Boss:
		Queue: queue.boss_gen_infantry, queue.boss_gen_infantry_merged
		BuildPaletteOrder: 7
		ForceIconLocation: true
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.particle_cannon, !prerequisite.enough_colonel_burton, !techlevel.nosw
		Description: Elite commando infantry.\n\nCan climb cliffs.\n\nCan place C4 charges on structures by force firing.\n\nCan backstab infantry without getting detected by force firing.\n\nCamouflaged.
		ReadyAudio: BurtonCreated
		BuildLimit: 1
	Mobile:
		Speed: 30
		Voice: Move
		Locomotor: locomotor.climber
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Crushable:
		CrushClasses: hero
	Guard:
		Voice: Move
	Health:
		HP: 20000
	Armor:
		Type: infantry.normal
	Selectable:
		Class: infantry.colonel_burton
	Passenger:
		CustomPipType: red
		Voice: Move
	SharedPassenger:
		CustomPipType: red
		Voice: Move
	Garrisoner:
		CustomPipType: red
		Voice: Garrison
	AutoTarget:
		ScanRadius: 8
	Armament@PRIMARY_INF:
		Weapon: mg.colonel_burton.ap
		ForceTargetRelationships: None
	Armament@PRIMARY_TANK:
		Weapon: mg.colonel_burton.at
	Armament@GARRISON:
		Name: garrison
		Weapon: mg.colonel_burton.garrison
	Armament@KNIFE:
		Name: knife
		Weapon: melee.colonel_burton
		Cursor: ability
		OutsideRangeCursor: ability
		TargetRelationships: None
	Armament@TIMED_DEMO_BOMB:
		Name: timed_demo_bomb
		Weapon: attach.colonel_burton.timed
		Cursor: c4
		OutsideRangeCursor: c4
		TargetRelationships: None
	AttackFrontal:
		Armaments: primary, knife, timed_demo_bomb
		Voice: Attack
		PauseOnCondition: leaflet
		FacingTolerance: 0
	AttackMove:
		Voice: Attack
	WithInfantryBody:
		DefaultAttackSequence: shoot
		IdleSequences: idle1,idle2,idle3
	GrantConditionOnAttack@UNCLOAK_RIFLE:
		Condition: cloak-force-disabled
		RequiredShotsPerInstance: 1
		MaximumInstances: 1
		RevokeDelay: 120
		RevokeAll: true
		IsCyclic: false
	GrantConditionOnAttack@UNCLOAK_DEMO_BOMB:
		Condition: cloak-force-disabled
		ArmamentNames: timed_demo_bomb
		RequiredShotsPerInstance: 1
		MaximumInstances: 1
		RevokeDelay: 120
		RevokeAll: true
		IsCyclic: false
	Cloak:
		InitialDelay: 250
		CloakDelay: 120
		UncloakOn: Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_colonel_burton
	RenderSprites:
		Image: infantry.colonel_burton
	Voiced:
		VoiceSet: BurtonVoice
	ActorStatValues:
		Damage: 40
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.adv_training
	ActorStatOverride@ZH_UNITS:
		Upgrades: upgrade.adv_training, upgrade.chemical_suits
		RequiresCondition: zh_units

infantry.jarmen_kell:
	Inherits: ^Soldier
	Inherits@AP_BULLETS: ^AffectedByAPBullets
	Inherits@CHEM: ^AffectedByChemicalSuitsBossOnly
	Inherits@DEMOLITION: ^AffectedByDemolitions
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal300
	Inherits@SLOW: ^SlowsWhenDamaged
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-2:
		Modifier: 200
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 300
		RequiresCondition: rank-elite
	GainsExperience:
		Conditions:
			100: rank-veteran
			200: rank-veteran
			400: rank-veteran
	RadarIcon:
	Valued:
		Cost: 1500
	Tooltip:
		Name: Jarmen Kell
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: queue.gla_infantry, queue.toxin_gen_infantry, queue.stealth_gen_infantry
		BuildPaletteOrder: 7
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.palace, !prerequisite.enough_jarmen_kell, !techlevel.notech
		Description: Elite sniper infantry.\n\nCan kill enemy vehicle drivers, allowing other infantry to capture them.\n\nCamouflaged.
		ReadyAudio: JarmenCreated
		BuildLimit: 1
	Buildable@Boss:
		Queue: queue.boss_gen_infantry
		BuildPaletteOrder: 9
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.scud_storm, !prerequisite.enough_jarmen_kell, !techlevel.nosw
		Description: Elite sniper infantry.\n\nCan kill enemy vehicle drivers, allowing other infantry to capture them.\n\nCamouflaged.
		ReadyAudio: JarmenCreated
		BuildLimit: 1
	Health:
		HP: 20000
	Armor:
		Type: infantry.normal
	Selectable:
		Class: infantry.jarmen_kell
	Mobile:
		Voice: Move
		Speed: 30
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Crushable:
		CrushClasses: hero
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry
		InvalidTargets: NoAutoTarget
	Armament@PRIMARY:
		Weapon: sniper.jarmen_kell
	Armament@GARRISON:
		Name: garrison
		Weapon: sniper.jarmen_kell.garrison
	Armament@DRIVER_SNIPE:
		Name: driver_snipe
		Weapon: sniper.jarmen_kell.vehicle
		PauseOnCondition: !ammo
	AttackFrontal:
		Armaments: primary, driver_snipe
		PauseOnCondition: leaflet
		FacingTolerance: 0
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Cloak:
		InitialDelay: 250
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnFaction@Boss:
		Condition: boss
		Factions: boss
	AmmoPool:
		Ammo: 1
		Armaments: driver_snipe
		Name: driver_snipe
		AmmoCondition: ammo
	ReloadAmmoPool:
		AmmoPool: driver_snipe
		Delay: 750
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_jarmen_kell
	Passenger:
		CargoType: GLAInfantry
	Garrisoner:
		Voice: Garrison
	Voiced:
		VoiceSet: JarmenVoice
	RenderSprites:
		Image: infantry.jarmen_kell
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
	ActorStatValues:
		Damage: 180
		Armaments: primary
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		Upgrades: upgrade.ap_bullets
	ActorStatOverride@Demo:
		Upgrades: upgrade.demolitions, upgrade.ap_bullets
	ActorStatOverride@Boss:
		Upgrades:
		RequiresCondition: boss && !zh_units

infantry.jarmen_kell.demo:
	Inherits: infantry.jarmen_kell
	Buildable:
		Queue: queue.demo_gen_infantry, queue.gla_infantry_merged
		Description: Elite sniper infantry.\n\nCan kill enemy vehicle drivers, allowing other infantry to capture them.\n\nCamouflaged.\n\nCan place C4 charges on structures.
		ReadyAudio: DemoJarmenCreated
	Buildable@Boss:
		Queue: queue.boss_gen_infantry_merged
		Description: Elite sniper infantry.\n\nCan kill enemy vehicle drivers, allowing other infantry to capture them.\n\nCamouflaged.\n\nCan place C4 charges on structures.
		ReadyAudio: DemoJarmenCreated
	Armament@TIMED_DEMO_BOMB:
		Name: timed_demo_bomb
		Weapon: attach.demo_jarmen_kell.timed
		Cursor: c4
		OutsideRangeCursor: c4
	AttackFrontal:
		Armaments: primary, driver_snipe, timed_demo_bomb
		FacingTolerance: 0
	Voiced:
		VoiceSet: DemoJarmenVoice

infantry.black_lotus:
	Inherits: ^Soldier
	Inherits@CHEM: ^AffectedByChemicalSuitsBossOnly
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@REVEAL: ^Reveal400
	Inherits@SLOW: ^SlowsWhenDamaged
	GainsExperience:
		Conditions:
			150: rank-veteran
			450: rank-veteran
			900: rank-veteran
	GivesExperience:
		Experience: 50
	GivesExperienceMultiplier@RANK-1:
		Modifier: 200
		RequiresCondition: rank-veteran == 1
	GivesExperienceMultiplier@RANK-2:
		Modifier: 300
		RequiresCondition: rank-veteran == 2
	GivesExperienceMultiplier@RANK-ELITE:
		Modifier: 800
		RequiresCondition: rank-elite
	RadarIcon:
	Buildable:
		Queue: queue.prc_infantry, queue.nuke_gen_infantry, queue.tank_gen_infantry
		BuildPaletteOrder: 4
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.propaganda_center, !prerequisite.enough_black_lotus, !techlevel.notech
		Description: Can capture enemy structures from a distance.\n\nCan steal cash from enemy Supply Centers.\n\nCan disable enemy vehicles.\n\nCamouflaged.
		ReadyAudio: LotusCreated
		BuildLimit: 1
	Buildable@Boss:
		Queue: queue.boss_gen_infantry
		BuildPaletteOrder: 10
		BuildDuration: 500
		BuildDurationModifier: 100
		Prerequisites: building.missile_silo, !prerequisite.enough_black_lotus, !techlevel.nosw
		Description: Can capture enemy structures from a distance.\n\nCan steal cash from enemy Supply Centers.\n\nCan disable enemy vehicles.\n\nCamouflaged.
		ReadyAudio: LotusCreated
		BuildLimit: 1
	Valued:
		Cost: 1500
	ProductionCostMultiplier@Nuke1:
		Queue: queue.nuke_gen_infantry
		Multiplier: 110 # 1600
	ProductionCostMultiplier@Nuke2:
		Queue: queue.nuke_gen_infantry
		Multiplier: 97 # 1600
	ProductionCostMultiplier@Tank:
		Queue: queue.tank_gen_infantry
		Multiplier: 125 # 1875
	Tooltip:
		Name: Black Lotus
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 15000
	Armor:
		Type: infantry.normal
	Mobile:
		Speed: 30
		Voice: Move
	SpeedMultiplier@DAMAGED:
		Modifier: 67
	Selectable:
		Class: infantry.black_lotus
	Crushable:
		CrushClasses: hero
	Passenger:
		Voice: Move
	SharedPassenger:
		Voice: Move
	Garrisoner:
		Voice: Move
	WithInfantryBody:
		DefaultAttackSequence: stand2
	ProvidesPrerequisite@LIMIT:
		Prerequisite: prerequisite.enough_black_lotus
	Cloak:
		InitialDelay: 250
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		DetectionTypes: Cloak
		IsPlayerPalette: true
		CanBeForcedUncloak: true
		RequiresCondition: !cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	RenderDetectionCircle:
	DetectCloaked:
		Range: 10c0
	Armament@CaptureAnim:
		Name: capture
		Cursor: ability
		OutsideRangeCursor: ability
		Weapon: capture.black_lotus.anim
		TargetRelationships: Enemy, Neutral
		ForceTargetRelationships: Enemy, Neutral
		PauseOnCondition: stop-hack1 || stop-hack2 || stop-hack3 || stop-hack4
		LocalOffset: 0,0,196
	Armament@CaptureEnd:
		Name: capture
		Cursor: ability
		OutsideRangeCursor: ability
		Weapon: capture.black_lotus.end
		TargetRelationships: Enemy, Neutral
		ForceTargetRelationships: Enemy, Neutral
		LocalOffset: 0,0,196
		ReloadingCondition: stop-hack1
		PauseOnCondition: !end_hack
	Armament@CaptureCashHackableAnim:
		Name: capture
		Cursor: ability
		OutsideRangeCursor: ability
		Weapon: capture.black_lotus.cash_hackable.anim
		TargetRelationships: Enemy, Neutral
		ForceTargetRelationships: None
		PauseOnCondition: stop-hack1 || stop-hack2 || stop-hack3 || stop-hack4
		LocalOffset: 0,0,196
	Armament@CaptureCashHackableEnd:
		Name: capture
		Cursor: ability
		OutsideRangeCursor: ability
		Weapon: capture.black_lotus.cash_hackable.end
		TargetRelationships: Enemy, Neutral
		ForceTargetRelationships: None
		ReloadingCondition: stop-hack2
		LocalOffset: 0,0,196
		PauseOnCondition: !end_hack
	Armament@CashHackAnim:
		Name: cash_hack
		Cursor: sell
		OutsideRangeCursor: sell
		Weapon: cash_hack.black_lotus.anim
		TargetRelationships: None
		ForceTargetRelationships: Enemy, Neutral
		PauseOnCondition: stop-hack1 || stop-hack2 || stop-hack3 || stop-hack4
		LocalOffset: 0,0,196
	Armament@CashHackEnd:
		Name: cash_hack
		Cursor: sell
		OutsideRangeCursor: sell
		Weapon: cash_hack.black_lotus.end
		TargetRelationships: None
		ForceTargetRelationships: Enemy, Neutral
		ReloadingCondition: stop-hack3
		LocalOffset: 0,0,196
		PauseOnCondition: !end_hack
	Armament@DisableAnim:
		Name: disable
		Weapon: disable.black_lotus.anim
		LocalOffset: 0,0,196
		PauseOnCondition: stop-hack1 || stop-hack2 || stop-hack3 || stop-hack4
	Armament@DisableEnd:
		Name: disable
		Weapon: disable.black_lotus.end
		LocalOffset: 0,0,196
		ReloadingCondition: stop-hack4
		PauseOnCondition: !end_hack
	GatlingReloadDelayMultiplier@Hack:
		MinModifier: 20
		CoolDownDelay: 16
		CoolDownChange: 100
		RevokeOnNewTarget: true
	GrantConditionOnAttack@EndHack:
		Condition: end_hack
		ArmamentNames: capture, disable, cash_hack
		RevokeDelay: 4
		RequiredShotsPerInstance: 3
		RevokeOnNewTarget: true
		RevokeAll: true
		IsCyclic: false
	AttackFrontal@Capture:
		Armaments: capture
		Voice: Capture
		PauseOnCondition: leaflet
		FacingTolerance: 0
		RequiresCondition: !stop-hack1 && !stop-hack2 && !stop-hack3 && !stop-hack4
	AttackFrontal@CashHack:
		Armaments: cash_hack
		Voice: CashHack
		PauseOnCondition: leaflet
		FacingTolerance: 0
		RequiresCondition: !stop-hack1 && !stop-hack2 && !stop-hack3 && !stop-hack4
	AttackFrontal@Disable:
		Armaments: disable
		Voice: Disable
		PauseOnCondition: leaflet
		FacingTolerance: 0
		RequiresCondition: !stop-hack1 && !stop-hack2 && !stop-hack3 && !stop-hack4
	DamageMultiplier@ZH_UNITS:
		Modifier: 75
		RequiresCondition: zh_units
	GrantConditionOnPrerequisite@ZH_UNITS:
		Condition: zh_units
		Prerequisites: prerequisite.zh_units
	ProducibleWithLevel@Infantry:
		Factions: inf
		Prerequisites: !prerequisite.mergegenerals
	ProducibleWithLevel@Merged:
		Prerequisites: prerequisite.mergegenerals
	WithProductionIconOverlay@Infantry:
		Types: Veterancy
		Prerequisites: prerequisite.inf_gen_player, !prerequisite.mergegenerals
	WithProductionIconOverlay@Merged:
		Types: Veterancy2
		Prerequisites: prerequisite.mergegenerals
	Voiced:
		VoiceSet: LotusVoice
	ActorStatValues:
		Stats: Armor, Sight, Speed

infantry.super_lotus:
	Inherits: infantry.black_lotus
	Buildable:
		Queue: queue.inf_gen_infantry, queue.prc_infantry_merged
	Buildable@Boss:
		Queue: queue.boss_gen_infantry_merged
	Tooltip:
		Name: Super Lotus
	Armament@DisableAnim:
		Weapon: disable.super_lotus.anim
	Armament@DisableEnd:
		Weapon: disable.super_lotus.end
	Armament@CashHackEnd:
		Weapon: cash_hack.super_lotus.end
	GrantConditionOnAttack@EndHack:
		RequiredShotsPerInstance: 2
